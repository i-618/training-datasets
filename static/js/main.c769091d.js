/*! For license information please see main.c769091d.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,i)=>{var s=i(43),n=i(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function l(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(a[e]=t,e=0;e<t.length;e++)r.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},p={};function m(e,t,i,s,n,o,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=r}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function C(e){return e[1].toUpperCase()}function w(e,t,i,s){var n=f.hasOwnProperty(t)?f[t]:null;(null!==n?0!==n.type:s||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,s){if(null===t||"undefined"===typeof t||function(e,t,i,s){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,s))return!0;if(s)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,n,s)&&(i=null),s||null===n?function(e){return!!u.call(p,e)||!u.call(g,e)&&(h.test(e)?p[e]=!0:(g[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):n.mustUseProperty?e[n.propertyName]=null===i?3!==n.type&&"":i:(t=n.attributeName,s=n.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(n=n.type)||4===n&&!0===i?"":""+i,s?e.setAttributeNS(s,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,C);f[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,C);f[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,C);f[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),y=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),D=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var V,N=Object.assign;function G(e){if(void 0===V)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var _=!1;function B(e,t){if(!e||_)return"";_=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&"string"===typeof d.stack){for(var n=d.stack.split("\n"),o=s.stack.split("\n"),r=n.length-1,a=o.length-1;1<=r&&0<=a&&n[r]!==o[a];)a--;for(;1<=r&&0<=a;r--,a--)if(n[r]!==o[a]){if(1!==r||1!==a)do{if(r--,0>--a||n[r]!==o[a]){var l="\n"+n[r].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=r&&0<=a);break}}}finally{_=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?G(e):""}function H(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case R:return"Fragment";case y:return"Portal";case F:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return W(e(t))}catch(i){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var n=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){s=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=Q(e)?e.checked?"true":"false":e.value),(e=s)!==i&&(t.setValue(e),!0)}function j(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var i=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function X(e,t){var i=null==t.defaultValue?"":t.defaultValue,s=null!=t.checked?t.checked:t.defaultChecked;i=U(null!=t.value?t.value:i),e._wrapperState={initialChecked:s,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){Y(e,t);var i=U(t.value),s=t.type;if(null!=i)"number"===s?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===s||"reset"===s)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,i):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!("submit"!==s&&"reset"!==s||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function ee(e,t,i){"number"===t&&j(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var te=Array.isArray;function ie(e,t,i,s){if(e=e.options,t){t={};for(var n=0;n<i.length;n++)t["$"+i[n]]=!0;for(i=0;i<e.length;i++)n=t.hasOwnProperty("$"+e[i].value),e[i].selected!==n&&(e[i].selected=n),n&&s&&(e[i].defaultSelected=!0)}else{for(i=""+U(i),t=null,n=0;n<e.length;n++){if(e[n].value===i)return e[n].selected=!0,void(s&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(o(92));if(te(i)){if(1<i.length)throw Error(o(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:U(i)}}function oe(e,t){var i=U(t.value),s=U(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=s&&(e.defaultValue=""+s)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,ce,ue=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,s){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,i){return null==t||"boolean"===typeof t||""===t?"":i||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function fe(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var s=0===i.indexOf("--"),n=me(i,t[i],s);"float"===i&&(i="cssFloat"),s?e.setProperty(i,n):e[i]=n}}Object.keys(ge).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var ve=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ye=null,Re=null,Ae=null;function Fe(e){if(e=wn(e)){if("function"!==typeof ye)throw Error(o(280));var t=e.stateNode;t&&(t=Sn(t),ye(e.stateNode,e.type,t))}}function Ee(e){Re?Ae?Ae.push(e):Ae=[e]:Re=e}function De(){if(Re){var e=Re,t=Ae;if(Ae=Re=null,Fe(e),t)for(e=0;e<t.length;e++)Fe(t[e])}}function Pe(e,t){return e(t)}function ke(){}var Te=!1;function Me(e,t,i){if(Te)return e(t,i);Te=!0;try{return Pe(e,t,i)}finally{Te=!1,(null!==Re||null!==Ae)&&(ke(),De())}}function xe(e,t){var i=e.stateNode;if(null===i)return null;var s=Sn(i);if(null===s)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(i&&"function"!==typeof i)throw Error(o(231,t,typeof i));return i}var Ie=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Ie=!1}function Oe(e,t,i,s,n,o,r,a,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(i,d)}catch(c){this.onError(c)}}var Ve=!1,Ne=null,Ge=!1,_e=null,Be={onError:function(e){Ve=!0,Ne=e}};function He(e,t,i,s,n,o,r,a,l){Ve=!1,Ne=null,Oe.apply(Be,arguments)}function We(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(We(e)!==e)throw Error(o(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var i=e,s=t;;){var n=i.return;if(null===n)break;var r=n.alternate;if(null===r){if(null!==(s=n.return)){i=s;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===i)return Ue(n),e;if(r===s)return Ue(n),t;r=r.sibling}throw Error(o(188))}if(i.return!==s.return)i=n,s=r;else{for(var a=!1,l=n.child;l;){if(l===i){a=!0,i=n,s=r;break}if(l===s){a=!0,s=n,i=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===i){a=!0,i=r,s=n;break}if(l===s){a=!0,s=r,i=n;break}l=l.sibling}if(!a)throw Error(o(189))}}if(i.alternate!==s)throw Error(o(190))}if(3!==i.tag)throw Error(o(188));return i.stateNode.current===i?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=n.unstable_scheduleCallback,je=n.unstable_cancelCallback,$e=n.unstable_shouldYield,Xe=n.unstable_requestPaint,Ye=n.unstable_now,Je=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,it=n.unstable_LowPriority,st=n.unstable_IdlePriority,nt=null,ot=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var dt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var i=e.pendingLanes;if(0===i)return 0;var s=0,n=e.suspendedLanes,o=e.pingedLanes,r=268435455&i;if(0!==r){var a=r&~n;0!==a?s=ut(a):0!==(o&=r)&&(s=ut(o))}else 0!==(r=i&~n)?s=ut(r):0!==o&&(s=ut(o));if(0===s)return 0;if(0!==t&&t!==s&&0===(t&n)&&((n=s&-s)>=(o=t&-t)||16===n&&0!==(4194240&o)))return t;if(0!==(4&s)&&(s|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=s;0<t;)n=1<<(i=31-rt(t)),s|=e[i],t&=~n;return s}function gt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=dt;return 0===(4194240&(dt<<=1))&&(dt=64),e}function ft(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function vt(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=i}function Ct(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-rt(i),n=1<<s;n&t|e[s]&t&&(e[s]|=t),i&=~n}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,yt,Rt,At,Ft,Et=!1,Dt=[],Pt=null,kt=null,Tt=null,Mt=new Map,xt=new Map,It=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function Vt(e,t,i,s,n,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:o,targetContainers:[n]},null!==t&&(null!==(t=wn(t))&&yt(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Nt(e){var t=Cn(e.target);if(null!==t){var i=We(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=ze(i)))return e.blockedOn=t,void Ft(e.priority,(function(){Rt(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function Gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=wn(i))&&yt(t),e.blockedOn=i,!1;var s=new(i=e.nativeEvent).constructor(i.type,i);be=s,i.target.dispatchEvent(s),be=null,t.shift()}return!0}function _t(e,t,i){Gt(e)&&i.delete(t)}function Bt(){Et=!1,null!==Pt&&Gt(Pt)&&(Pt=null),null!==kt&&Gt(kt)&&(kt=null),null!==Tt&&Gt(Tt)&&(Tt=null),Mt.forEach(_t),xt.forEach(_t)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return Ht(t,e)}if(0<Dt.length){Ht(Dt[0],e);for(var i=1;i<Dt.length;i++){var s=Dt[i];s.blockedOn===e&&(s.blockedOn=null)}}for(null!==Pt&&Ht(Pt,e),null!==kt&&Ht(kt,e),null!==Tt&&Ht(Tt,e),Mt.forEach(t),xt.forEach(t),i=0;i<It.length;i++)(s=It[i]).blockedOn===e&&(s.blockedOn=null);for(;0<It.length&&null===(i=It[0]).blockedOn;)Nt(i),null===i.blockedOn&&It.shift()}var zt=b.ReactCurrentBatchConfig,Ut=!0;function Qt(e,t,i,s){var n=wt,o=zt.transition;zt.transition=null;try{wt=1,Kt(e,t,i,s)}finally{wt=n,zt.transition=o}}function qt(e,t,i,s){var n=wt,o=zt.transition;zt.transition=null;try{wt=4,Kt(e,t,i,s)}finally{wt=n,zt.transition=o}}function Kt(e,t,i,s){if(Ut){var n=$t(e,t,i,s);if(null===n)zs(e,t,s,jt,i),Ot(e,s);else if(function(e,t,i,s,n){switch(t){case"focusin":return Pt=Vt(Pt,e,t,i,s,n),!0;case"dragenter":return kt=Vt(kt,e,t,i,s,n),!0;case"mouseover":return Tt=Vt(Tt,e,t,i,s,n),!0;case"pointerover":var o=n.pointerId;return Mt.set(o,Vt(Mt.get(o)||null,e,t,i,s,n)),!0;case"gotpointercapture":return o=n.pointerId,xt.set(o,Vt(xt.get(o)||null,e,t,i,s,n)),!0}return!1}(n,e,t,i,s))s.stopPropagation();else if(Ot(e,s),4&t&&-1<Lt.indexOf(e)){for(;null!==n;){var o=wn(n);if(null!==o&&St(o),null===(o=$t(e,t,i,s))&&zs(e,t,s,jt,i),o===n)break;n=o}null!==n&&s.stopPropagation()}else zs(e,t,s,null,i)}}var jt=null;function $t(e,t,i,s){if(jt=null,null!==(e=Cn(e=Se(s))))if(null===(t=We(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case it:return 16;case st:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function ei(){if(Zt)return Zt;var e,t,i=Jt,s=i.length,n="value"in Yt?Yt.value:Yt.textContent,o=n.length;for(e=0;e<s&&i[e]===n[e];e++);var r=s-e;for(t=1;t<=r&&i[s-t]===n[o-t];t++);return Zt=n.slice(e,1<t?1-t:void 0)}function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ii(){return!0}function si(){return!1}function ni(e){function t(t,i,s,n,o){for(var r in this._reactName=t,this._targetInst=s,this.type=i,this.nativeEvent=n,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(n):n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ii:si,this.isPropagationStopped=si,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var oi,ri,ai,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ni(li),ci=N({},li,{view:0,detail:0}),ui=ni(ci),hi=N({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ai,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&"mousemove"===e.type?(oi=e.screenX-ai.screenX,ri=e.screenY-ai.screenY):ri=oi=0,ai=e),oi)},movementY:function(e){return"movementY"in e?e.movementY:ri}}),gi=ni(hi),pi=ni(N({},hi,{dataTransfer:0})),mi=ni(N({},ci,{relatedTarget:0})),fi=ni(N({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),vi=N({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ci=ni(vi),wi=ni(N({},li,{data:0})),bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ri(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yi[e])&&!!t[e]}function Ai(){return Ri}var Fi=N({},ci,{key:function(e){if(e.key){var t=bi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Si[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ai,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ei=ni(Fi),Di=ni(N({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pi=ni(N({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ai})),ki=ni(N({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ti=N({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mi=ni(Ti),xi=[9,13,27,32],Ii=c&&"CompositionEvent"in window,Li=null;c&&"documentMode"in document&&(Li=document.documentMode);var Oi=c&&"TextEvent"in window&&!Li,Vi=c&&(!Ii||Li&&8<Li&&11>=Li),Ni=String.fromCharCode(32),Gi=!1;function _i(e,t){switch(e){case"keyup":return-1!==xi.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hi=!1;var Wi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wi[e.type]:"textarea"===t}function Ui(e,t,i,s){Ee(s),0<(t=Qs(t,"onChange")).length&&(i=new di("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var Qi=null,qi=null;function Ki(e){Ns(e,0)}function ji(e){if(K(bn(e)))return e}function $i(e,t){if("change"===e)return t}var Xi=!1;if(c){var Yi;if(c){var Ji="oninput"in document;if(!Ji){var Zi=document.createElement("div");Zi.setAttribute("oninput","return;"),Ji="function"===typeof Zi.oninput}Yi=Ji}else Yi=!1;Xi=Yi&&(!document.documentMode||9<document.documentMode)}function es(){Qi&&(Qi.detachEvent("onpropertychange",ts),qi=Qi=null)}function ts(e){if("value"===e.propertyName&&ji(qi)){var t=[];Ui(t,qi,e,Se(e)),Me(Ki,t)}}function is(e,t,i){"focusin"===e?(es(),qi=i,(Qi=t).attachEvent("onpropertychange",ts)):"focusout"===e&&es()}function ss(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ji(qi)}function ns(e,t){if("click"===e)return ji(t)}function os(e,t){if("input"===e||"change"===e)return ji(t)}var rs="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function as(e,t){if(rs(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var n=i[s];if(!u.call(t,n)||!rs(e[n],t[n]))return!1}return!0}function ls(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ds(e,t){var i,s=ls(e);for(e=0;s;){if(3===s.nodeType){if(i=e+s.textContent.length,e<=t&&i>=t)return{node:s,offset:t-e};e=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ls(s)}}function cs(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cs(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function us(){for(var e=window,t=j();t instanceof e.HTMLIFrameElement;){try{var i="string"===typeof t.contentWindow.location.href}catch(s){i=!1}if(!i)break;t=j((e=t.contentWindow).document)}return t}function hs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gs(e){var t=us(),i=e.focusedElem,s=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&cs(i.ownerDocument.documentElement,i)){if(null!==s&&hs(i))if(t=s.start,void 0===(e=s.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=i.textContent.length,o=Math.min(s.start,n);s=void 0===s.end?o:Math.min(s.end,n),!e.extend&&o>s&&(n=s,s=o,o=n),n=ds(i,o);var r=ds(i,s);n&&r&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ps=c&&"documentMode"in document&&11>=document.documentMode,ms=null,fs=null,vs=null,Cs=!1;function ws(e,t,i){var s=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;Cs||null==ms||ms!==j(s)||("selectionStart"in(s=ms)&&hs(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},vs&&as(vs,s)||(vs=s,0<(s=Qs(fs,"onSelect")).length&&(t=new di("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=ms)))}function bs(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ss={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionend:bs("Transition","TransitionEnd")},ys={},Rs={};function As(e){if(ys[e])return ys[e];if(!Ss[e])return e;var t,i=Ss[e];for(t in i)if(i.hasOwnProperty(t)&&t in Rs)return ys[e]=i[t];return e}c&&(Rs=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);var Fs=As("animationend"),Es=As("animationiteration"),Ds=As("animationstart"),Ps=As("transitionend"),ks=new Map,Ts="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(e,t){ks.set(e,t),l(t,[e])}for(var xs=0;xs<Ts.length;xs++){var Is=Ts[xs];Ms(Is.toLowerCase(),"on"+(Is[0].toUpperCase()+Is.slice(1)))}Ms(Fs,"onAnimationEnd"),Ms(Es,"onAnimationIteration"),Ms(Ds,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(Ps,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Os=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function Vs(e,t,i){var s=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,s,n,r,a,l,d){if(He.apply(this,arguments),Ve){if(!Ve)throw Error(o(198));var c=Ne;Ve=!1,Ne=null,Ge||(Ge=!0,_e=c)}}(s,t,void 0,e),e.currentTarget=null}function Ns(e,t){t=0!==(4&t);for(var i=0;i<e.length;i++){var s=e[i],n=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var r=s.length-1;0<=r;r--){var a=s[r],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==o&&n.isPropagationStopped())break e;Vs(n,a,d),o=l}else for(r=0;r<s.length;r++){if(l=(a=s[r]).instance,d=a.currentTarget,a=a.listener,l!==o&&n.isPropagationStopped())break e;Vs(n,a,d),o=l}}}if(Ge)throw e=_e,Ge=!1,_e=null,e}function Gs(e,t){var i=t[mn];void 0===i&&(i=t[mn]=new Set);var s=e+"__bubble";i.has(s)||(Ws(t,e,2,!1),i.add(s))}function _s(e,t,i){var s=0;t&&(s|=4),Ws(i,e,s,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function Hs(e){if(!e[Bs]){e[Bs]=!0,r.forEach((function(t){"selectionchange"!==t&&(Os.has(t)||_s(t,!1,e),_s(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bs]||(t[Bs]=!0,_s("selectionchange",!1,t))}}function Ws(e,t,i,s){switch(Xt(t)){case 1:var n=Qt;break;case 4:n=qt;break;default:n=Kt}i=n.bind(null,t,i,e),n=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),s?void 0!==n?e.addEventListener(t,i,{capture:!0,passive:n}):e.addEventListener(t,i,!0):void 0!==n?e.addEventListener(t,i,{passive:n}):e.addEventListener(t,i,!1)}function zs(e,t,i,s,n){var o=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var r=s.tag;if(3===r||4===r){var a=s.stateNode.containerInfo;if(a===n||8===a.nodeType&&a.parentNode===n)break;if(4===r)for(r=s.return;null!==r;){var l=r.tag;if((3===l||4===l)&&((l=r.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;r=r.return}for(;null!==a;){if(null===(r=Cn(a)))return;if(5===(l=r.tag)||6===l){s=o=r;continue e}a=a.parentNode}}s=s.return}Me((function(){var s=o,n=Se(i),r=[];e:{var a=ks.get(e);if(void 0!==a){var l=di,d=e;switch(e){case"keypress":if(0===ti(i))break e;case"keydown":case"keyup":l=Ei;break;case"focusin":d="focus",l=mi;break;case"focusout":d="blur",l=mi;break;case"beforeblur":case"afterblur":l=mi;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pi;break;case Fs:case Es:case Ds:l=fi;break;case Ps:l=ki;break;case"scroll":l=ui;break;case"wheel":l=Mi;break;case"copy":case"cut":case"paste":l=Ci;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Di}var c=0!==(4&t),u=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var g,p=s;null!==p;){var m=(g=p).stateNode;if(5===g.tag&&null!==m&&(g=m,null!==h&&(null!=(m=xe(p,h))&&c.push(Us(p,m,g)))),u)break;p=p.return}0<c.length&&(a=new l(a,d,null,i,n),r.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||i===be||!(d=i.relatedTarget||i.fromElement)||!Cn(d)&&!d[pn])&&(l||a)&&(a=n.window===n?n:(a=n.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=s,null!==(d=(d=i.relatedTarget||i.toElement)?Cn(d):null)&&(d!==(u=We(d))||5!==d.tag&&6!==d.tag)&&(d=null)):(l=null,d=s),l!==d)){if(c=gi,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Di,m="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==l?a:bn(l),g=null==d?a:bn(d),(a=new c(m,p+"leave",l,i,n)).target=u,a.relatedTarget=g,m=null,Cn(n)===s&&((c=new c(h,p+"enter",d,i,n)).target=g,c.relatedTarget=u,m=c),u=m,l&&d)e:{for(h=d,p=0,g=c=l;g;g=qs(g))p++;for(g=0,m=h;m;m=qs(m))g++;for(;0<p-g;)c=qs(c),p--;for(;0<g-p;)h=qs(h),g--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=qs(c),h=qs(h)}c=null}else c=null;null!==l&&Ks(r,a,l,c,!1),null!==d&&null!==u&&Ks(r,u,d,c,!0)}if("select"===(l=(a=s?bn(s):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var f=$i;else if(zi(a))if(Xi)f=os;else{f=ss;var v=is}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(f=ns);switch(f&&(f=f(e,s))?Ui(r,f,i,n):(v&&v(e,a,s),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=s?bn(s):window,e){case"focusin":(zi(v)||"true"===v.contentEditable)&&(ms=v,fs=s,vs=null);break;case"focusout":vs=fs=ms=null;break;case"mousedown":Cs=!0;break;case"contextmenu":case"mouseup":case"dragend":Cs=!1,ws(r,i,n);break;case"selectionchange":if(ps)break;case"keydown":case"keyup":ws(r,i,n)}var C;if(Ii)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Hi?_i(e,i)&&(w="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(w="onCompositionStart");w&&(Vi&&"ko"!==i.locale&&(Hi||"onCompositionStart"!==w?"onCompositionEnd"===w&&Hi&&(C=ei()):(Jt="value"in(Yt=n)?Yt.value:Yt.textContent,Hi=!0)),0<(v=Qs(s,w)).length&&(w=new wi(w,e,null,i,n),r.push({event:w,listeners:v}),C?w.data=C:null!==(C=Bi(i))&&(w.data=C))),(C=Oi?function(e,t){switch(e){case"compositionend":return Bi(t);case"keypress":return 32!==t.which?null:(Gi=!0,Ni);case"textInput":return(e=t.data)===Ni&&Gi?null:e;default:return null}}(e,i):function(e,t){if(Hi)return"compositionend"===e||!Ii&&_i(e,t)?(e=ei(),Zt=Jt=Yt=null,Hi=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vi&&"ko"!==t.locale?null:t.data}}(e,i))&&(0<(s=Qs(s,"onBeforeInput")).length&&(n=new wi("onBeforeInput","beforeinput",null,i,n),r.push({event:n,listeners:s}),n.data=C))}Ns(r,t)}))}function Us(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Qs(e,t){for(var i=t+"Capture",s=[];null!==e;){var n=e,o=n.stateNode;5===n.tag&&null!==o&&(n=o,null!=(o=xe(e,i))&&s.unshift(Us(e,o,n)),null!=(o=xe(e,t))&&s.push(Us(e,o,n))),e=e.return}return s}function qs(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ks(e,t,i,s,n){for(var o=t._reactName,r=[];null!==i&&i!==s;){var a=i,l=a.alternate,d=a.stateNode;if(null!==l&&l===s)break;5===a.tag&&null!==d&&(a=d,n?null!=(l=xe(i,o))&&r.unshift(Us(i,l,a)):n||null!=(l=xe(i,o))&&r.push(Us(i,l,a))),i=i.return}0!==r.length&&e.push({event:t,listeners:r})}var js=/\r\n?/g,$s=/\u0000|\uFFFD/g;function Xs(e){return("string"===typeof e?e:""+e).replace(js,"\n").replace($s,"")}function Ys(e,t,i){if(t=Xs(t),Xs(e)!==t&&i)throw Error(o(425))}function Js(){}var Zs=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sn="function"===typeof setTimeout?setTimeout:void 0,nn="function"===typeof clearTimeout?clearTimeout:void 0,on="function"===typeof Promise?Promise:void 0,rn="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof on?function(e){return on.resolve(null).then(e).catch(an)}:sn;function an(e){setTimeout((function(){throw e}))}function ln(e,t){var i=t,s=0;do{var n=i.nextSibling;if(e.removeChild(i),n&&8===n.nodeType)if("/$"===(i=n.data)){if(0===s)return e.removeChild(n),void Wt(t);s--}else"$"!==i&&"$?"!==i&&"$!"!==i||s++;i=n}while(i);Wt(t)}function dn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),hn="__reactFiber$"+un,gn="__reactProps$"+un,pn="__reactContainer$"+un,mn="__reactEvents$"+un,fn="__reactListeners$"+un,vn="__reactHandles$"+un;function Cn(e){var t=e[hn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[pn]||i[hn]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=cn(e);null!==e;){if(i=e[hn])return i;e=cn(e)}return t}i=(e=i).parentNode}return null}function wn(e){return!(e=e[hn]||e[pn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Sn(e){return e[gn]||null}var yn=[],Rn=-1;function An(e){return{current:e}}function Fn(e){0>Rn||(e.current=yn[Rn],yn[Rn]=null,Rn--)}function En(e,t){Rn++,yn[Rn]=e.current,e.current=t}var Dn={},Pn=An(Dn),kn=An(!1),Tn=Dn;function Mn(e,t){var i=e.type.contextTypes;if(!i)return Dn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var n,o={};for(n in i)o[n]=t[n];return s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function xn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function In(){Fn(kn),Fn(Pn)}function Ln(e,t,i){if(Pn.current!==Dn)throw Error(o(168));En(Pn,t),En(kn,i)}function On(e,t,i){var s=e.stateNode;if(t=t.childContextTypes,"function"!==typeof s.getChildContext)return i;for(var n in s=s.getChildContext())if(!(n in t))throw Error(o(108,z(e)||"Unknown",n));return N({},i,s)}function Vn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dn,Tn=Pn.current,En(Pn,e),En(kn,kn.current),!0}function Nn(e,t,i){var s=e.stateNode;if(!s)throw Error(o(169));i?(e=On(e,t,Tn),s.__reactInternalMemoizedMergedChildContext=e,Fn(kn),Fn(Pn),En(Pn,e)):Fn(kn),En(kn,i)}var Gn=null,_n=!1,Bn=!1;function Hn(e){null===Gn?Gn=[e]:Gn.push(e)}function Wn(){if(!Bn&&null!==Gn){Bn=!0;var e=0,t=wt;try{var i=Gn;for(wt=1;e<i.length;e++){var s=i[e];do{s=s(!0)}while(null!==s)}Gn=null,_n=!1}catch(n){throw null!==Gn&&(Gn=Gn.slice(e+1)),Ke(Ze,Wn),n}finally{wt=t,Bn=!1}}return null}var zn=[],Un=0,Qn=null,qn=0,Kn=[],jn=0,$n=null,Xn=1,Yn="";function Jn(e,t){zn[Un++]=qn,zn[Un++]=Qn,Qn=e,qn=t}function Zn(e,t,i){Kn[jn++]=Xn,Kn[jn++]=Yn,Kn[jn++]=$n,$n=e;var s=Xn;e=Yn;var n=32-rt(s)-1;s&=~(1<<n),i+=1;var o=32-rt(t)+n;if(30<o){var r=n-n%5;o=(s&(1<<r)-1).toString(32),s>>=r,n-=r,Xn=1<<32-rt(t)+n|i<<n|s,Yn=o+e}else Xn=1<<o|i<<n|s,Yn=e}function eo(e){null!==e.return&&(Jn(e,1),Zn(e,1,0))}function to(e){for(;e===Qn;)Qn=zn[--Un],zn[Un]=null,qn=zn[--Un],zn[Un]=null;for(;e===$n;)$n=Kn[--jn],Kn[jn]=null,Yn=Kn[--jn],Kn[jn]=null,Xn=Kn[--jn],Kn[jn]=null}var io=null,so=null,no=!1,oo=null;function ro(e,t){var i=Md(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function ao(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,io=e,so=dn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,io=e,so=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==$n?{id:Xn,overflow:Yn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=Md(18,null,null,0)).stateNode=t,i.return=e,e.child=i,io=e,so=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(no){var t=so;if(t){var i=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=dn(i.nextSibling);var s=io;t&&ao(e,t)?ro(s,i):(e.flags=-4097&e.flags|2,no=!1,io=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,no=!1,io=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;io=e}function ho(e){if(e!==io)return!1;if(!no)return uo(e),no=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=so)){if(lo(e))throw go(),Error(o(418));for(;t;)ro(e,t),t=dn(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){so=dn(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}so=null}}else so=io?dn(e.stateNode.nextSibling):null;return!0}function go(){for(var e=so;e;)e=dn(e.nextSibling)}function po(){so=io=null,no=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var fo=b.ReactCurrentBatchConfig;function vo(e,t,i){if(null!==(e=i.ref)&&"function"!==typeof e&&"object"!==typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(o(309));var s=i.stateNode}if(!s)throw Error(o(147,e));var n=s,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=n.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function Co(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,i){if(e){var s=t.deletions;null===s?(t.deletions=[i],t.flags|=16):s.push(i)}}function i(i,s){if(!e)return null;for(;null!==s;)t(i,s),s=s.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Id(e,t)).index=0,e.sibling=null,e}function r(t,i,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<i?(t.flags|=2,i):s:(t.flags|=2,i):(t.flags|=1048576,i)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,i,s){return null===t||6!==t.tag?((t=Nd(i,e.mode,s)).return=e,t):((t=n(t,i)).return=e,t)}function d(e,t,i,s){var o=i.type;return o===R?u(e,t,i.props.children,s,i.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===x&&wo(o)===t.type)?((s=n(t,i.props)).ref=vo(e,t,i),s.return=e,s):((s=Ld(i.type,i.key,i.props,null,e.mode,s)).ref=vo(e,t,i),s.return=e,s)}function c(e,t,i,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Gd(i,e.mode,s)).return=e,t):((t=n(t,i.children||[])).return=e,t)}function u(e,t,i,s,o){return null===t||7!==t.tag?((t=Od(i,e.mode,s,o)).return=e,t):((t=n(t,i)).return=e,t)}function h(e,t,i){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nd(""+t,e.mode,i)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(i=Ld(t.type,t.key,t.props,null,e.mode,i)).ref=vo(e,null,t),i.return=e,i;case y:return(t=Gd(t,e.mode,i)).return=e,t;case x:return h(e,(0,t._init)(t._payload),i)}if(te(t)||O(t))return(t=Od(t,e.mode,i,null)).return=e,t;Co(e,t)}return null}function g(e,t,i,s){var n=null!==t?t.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==n?null:l(e,t,""+i,s);if("object"===typeof i&&null!==i){switch(i.$$typeof){case S:return i.key===n?d(e,t,i,s):null;case y:return i.key===n?c(e,t,i,s):null;case x:return g(e,t,(n=i._init)(i._payload),s)}if(te(i)||O(i))return null!==n?null:u(e,t,i,s,null);Co(e,i)}return null}function p(e,t,i,s,n){if("string"===typeof s&&""!==s||"number"===typeof s)return l(t,e=e.get(i)||null,""+s,n);if("object"===typeof s&&null!==s){switch(s.$$typeof){case S:return d(t,e=e.get(null===s.key?i:s.key)||null,s,n);case y:return c(t,e=e.get(null===s.key?i:s.key)||null,s,n);case x:return p(e,t,i,(0,s._init)(s._payload),n)}if(te(s)||O(s))return u(t,e=e.get(i)||null,s,n,null);Co(t,s)}return null}function m(n,o,a,l){for(var d=null,c=null,u=o,m=o=0,f=null;null!==u&&m<a.length;m++){u.index>m?(f=u,u=null):f=u.sibling;var v=g(n,u,a[m],l);if(null===v){null===u&&(u=f);break}e&&u&&null===v.alternate&&t(n,u),o=r(v,o,m),null===c?d=v:c.sibling=v,c=v,u=f}if(m===a.length)return i(n,u),no&&Jn(n,m),d;if(null===u){for(;m<a.length;m++)null!==(u=h(n,a[m],l))&&(o=r(u,o,m),null===c?d=u:c.sibling=u,c=u);return no&&Jn(n,m),d}for(u=s(n,u);m<a.length;m++)null!==(f=p(u,n,m,a[m],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?m:f.key),o=r(f,o,m),null===c?d=f:c.sibling=f,c=f);return e&&u.forEach((function(e){return t(n,e)})),no&&Jn(n,m),d}function f(n,a,l,d){var c=O(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var u=c=null,m=a,f=a=0,v=null,C=l.next();null!==m&&!C.done;f++,C=l.next()){m.index>f?(v=m,m=null):v=m.sibling;var w=g(n,m,C.value,d);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(n,m),a=r(w,a,f),null===u?c=w:u.sibling=w,u=w,m=v}if(C.done)return i(n,m),no&&Jn(n,f),c;if(null===m){for(;!C.done;f++,C=l.next())null!==(C=h(n,C.value,d))&&(a=r(C,a,f),null===u?c=C:u.sibling=C,u=C);return no&&Jn(n,f),c}for(m=s(n,m);!C.done;f++,C=l.next())null!==(C=p(m,n,f,C.value,d))&&(e&&null!==C.alternate&&m.delete(null===C.key?f:C.key),a=r(C,a,f),null===u?c=C:u.sibling=C,u=C);return e&&m.forEach((function(e){return t(n,e)})),no&&Jn(n,f),c}return function e(s,o,r,l){if("object"===typeof r&&null!==r&&r.type===R&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case S:e:{for(var d=r.key,c=o;null!==c;){if(c.key===d){if((d=r.type)===R){if(7===c.tag){i(s,c.sibling),(o=n(c,r.props.children)).return=s,s=o;break e}}else if(c.elementType===d||"object"===typeof d&&null!==d&&d.$$typeof===x&&wo(d)===c.type){i(s,c.sibling),(o=n(c,r.props)).ref=vo(s,c,r),o.return=s,s=o;break e}i(s,c);break}t(s,c),c=c.sibling}r.type===R?((o=Od(r.props.children,s.mode,l,r.key)).return=s,s=o):((l=Ld(r.type,r.key,r.props,null,s.mode,l)).ref=vo(s,o,r),l.return=s,s=l)}return a(s);case y:e:{for(c=r.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===r.containerInfo&&o.stateNode.implementation===r.implementation){i(s,o.sibling),(o=n(o,r.children||[])).return=s,s=o;break e}i(s,o);break}t(s,o),o=o.sibling}(o=Gd(r,s.mode,l)).return=s,s=o}return a(s);case x:return e(s,o,(c=r._init)(r._payload),l)}if(te(r))return m(s,o,r,l);if(O(r))return f(s,o,r,l);Co(s,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==o&&6===o.tag?(i(s,o.sibling),(o=n(o,r)).return=s,s=o):(i(s,o),(o=Nd(r,s.mode,l)).return=s,s=o),a(s)):i(s,o)}}var So=bo(!0),yo=bo(!1),Ro=An(null),Ao=null,Fo=null,Eo=null;function Do(){Eo=Fo=Ao=null}function Po(e){var t=Ro.current;Fn(Ro),e._currentValue=t}function ko(e,t,i){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function To(e,t){Ao=e,Eo=Fo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Mo(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===Fo){if(null===Ao)throw Error(o(308));Fo=e,Ao.dependencies={lanes:0,firstContext:e}}else Fo=Fo.next=e;return t}var xo=null;function Io(e){null===xo?xo=[e]:xo.push(e)}function Lo(e,t,i,s){var n=t.interleaved;return null===n?(i.next=i,Io(t)):(i.next=n.next,n.next=i),t.interleaved=i,Oo(e,s)}function Oo(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}var Vo=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Go(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _o(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,i){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&Pl)){var n=s.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),s.pending=t,Oo(e,i)}return null===(n=s.interleaved)?(t.next=t,Io(s)):(t.next=n.next,n.next=t),s.interleaved=t,Oo(e,i)}function Ho(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&i))){var s=t.lanes;i|=s&=e.pendingLanes,t.lanes=i,Ct(e,i)}}function Wo(e,t){var i=e.updateQueue,s=e.alternate;if(null!==s&&i===(s=s.updateQueue)){var n=null,o=null;if(null!==(i=i.firstBaseUpdate)){do{var r={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===o?n=o=r:o=o.next=r,i=i.next}while(null!==i);null===o?n=o=t:o=o.next=t}else n=o=t;return i={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:s.shared,effects:s.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function zo(e,t,i,s){var n=e.updateQueue;Vo=!1;var o=n.firstBaseUpdate,r=n.lastBaseUpdate,a=n.shared.pending;if(null!==a){n.shared.pending=null;var l=a,d=l.next;l.next=null,null===r?o=d:r.next=d,r=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==r&&(null===a?c.firstBaseUpdate=d:a.next=d,c.lastBaseUpdate=l))}if(null!==o){var u=n.baseState;for(r=0,c=d=l=null,a=o;;){var h=a.lane,g=a.eventTime;if((s&h)===h){null!==c&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,g=i,m.tag){case 1:if("function"===typeof(p=m.payload)){u=p.call(g,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(g,u,h):p)||void 0===h)break e;u=N({},u,h);break e;case 2:Vo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=n.effects)?n.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(d=c=g,l=u):c=c.next=g,r|=h;if(null===(a=a.next)){if(null===(a=n.shared.pending))break;a=(h=a).next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}if(null===c&&(l=u),n.baseState=l,n.firstBaseUpdate=d,n.lastBaseUpdate=c,null!==(t=n.shared.interleaved)){n=t;do{r|=n.lane,n=n.next}while(n!==t)}else null===o&&(n.shared.lanes=0);Vl|=r,e.lanes=r,e.memoizedState=u}}function Uo(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var s=e[t],n=s.callback;if(null!==n){if(s.callback=null,s=i,"function"!==typeof n)throw Error(o(191,n));n.call(s)}}}var Qo={},qo=An(Qo),Ko=An(Qo),jo=An(Qo);function $o(e){if(e===Qo)throw Error(o(174));return e}function Xo(e,t){switch(En(jo,t),En(Ko,e),En(qo,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Fn(qo),En(qo,t)}function Yo(){Fn(qo),Fn(Ko),Fn(jo)}function Jo(e){$o(jo.current);var t=$o(qo.current),i=le(t,e.type);t!==i&&(En(Ko,e),En(qo,i))}function Zo(e){Ko.current===e&&(Fn(qo),Fn(Ko))}var er=An(0);function tr(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ir=[];function sr(){for(var e=0;e<ir.length;e++)ir[e]._workInProgressVersionPrimary=null;ir.length=0}var nr=b.ReactCurrentDispatcher,or=b.ReactCurrentBatchConfig,rr=0,ar=null,lr=null,dr=null,cr=!1,ur=!1,hr=0,gr=0;function pr(){throw Error(o(321))}function mr(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!rs(e[i],t[i]))return!1;return!0}function fr(e,t,i,s,n,r){if(rr=r,ar=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nr.current=null===e||null===e.memoizedState?Zr:ea,e=i(s,n),ur){r=0;do{if(ur=!1,hr=0,25<=r)throw Error(o(301));r+=1,dr=lr=null,t.updateQueue=null,nr.current=ta,e=i(s,n)}while(ur)}if(nr.current=Jr,t=null!==lr&&null!==lr.next,rr=0,dr=lr=ar=null,cr=!1,t)throw Error(o(300));return e}function vr(){var e=0!==hr;return hr=0,e}function Cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===dr?ar.memoizedState=dr=e:dr=dr.next=e,dr}function wr(){if(null===lr){var e=ar.alternate;e=null!==e?e.memoizedState:null}else e=lr.next;var t=null===dr?ar.memoizedState:dr.next;if(null!==t)dr=t,lr=e;else{if(null===e)throw Error(o(310));e={memoizedState:(lr=e).memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},null===dr?ar.memoizedState=dr=e:dr=dr.next=e}return dr}function br(e,t){return"function"===typeof t?t(e):t}function Sr(e){var t=wr(),i=t.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=e;var s=lr,n=s.baseQueue,r=i.pending;if(null!==r){if(null!==n){var a=n.next;n.next=r.next,r.next=a}s.baseQueue=n=r,i.pending=null}if(null!==n){r=n.next,s=s.baseState;var l=a=null,d=null,c=r;do{var u=c.lane;if((rr&u)===u)null!==d&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===d?(l=d=h,a=s):d=d.next=h,ar.lanes|=u,Vl|=u}c=c.next}while(null!==c&&c!==r);null===d?a=s:d.next=l,rs(s,t.memoizedState)||(wa=!0),t.memoizedState=s,t.baseState=a,t.baseQueue=d,i.lastRenderedState=s}if(null!==(e=i.interleaved)){n=e;do{r=n.lane,ar.lanes|=r,Vl|=r,n=n.next}while(n!==e)}else null===n&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function yr(e){var t=wr(),i=t.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=e;var s=i.dispatch,n=i.pending,r=t.memoizedState;if(null!==n){i.pending=null;var a=n=n.next;do{r=e(r,a.action),a=a.next}while(a!==n);rs(r,t.memoizedState)||(wa=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),i.lastRenderedState=r}return[r,s]}function Rr(){}function Ar(e,t){var i=ar,s=wr(),n=t(),r=!rs(s.memoizedState,n);if(r&&(s.memoizedState=n,wa=!0),s=s.queue,Vr(Dr.bind(null,i,s,e),[e]),s.getSnapshot!==t||r||null!==dr&&1&dr.memoizedState.tag){if(i.flags|=2048,Mr(9,Er.bind(null,i,s,n,t),void 0,null),null===kl)throw Error(o(349));0!==(30&rr)||Fr(i,t,n)}return n}function Fr(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=ar.updateQueue)?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function Er(e,t,i,s){t.value=i,t.getSnapshot=s,Pr(t)&&kr(e)}function Dr(e,t,i){return i((function(){Pr(t)&&kr(e)}))}function Pr(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!rs(e,i)}catch(s){return!0}}function kr(e){var t=Oo(e,1);null!==t&&id(t,e,1,-1)}function Tr(e){var t=Cr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:e},t.queue=e,e=e.dispatch=jr.bind(null,ar,e),[t.memoizedState,e]}function Mr(e,t,i,s){return e={tag:e,create:t,destroy:i,deps:s,next:null},null===(t=ar.updateQueue)?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function xr(){return wr().memoizedState}function Ir(e,t,i,s){var n=Cr();ar.flags|=e,n.memoizedState=Mr(1|t,i,void 0,void 0===s?null:s)}function Lr(e,t,i,s){var n=wr();s=void 0===s?null:s;var o=void 0;if(null!==lr){var r=lr.memoizedState;if(o=r.destroy,null!==s&&mr(s,r.deps))return void(n.memoizedState=Mr(t,i,o,s))}ar.flags|=e,n.memoizedState=Mr(1|t,i,o,s)}function Or(e,t){return Ir(8390656,8,e,t)}function Vr(e,t){return Lr(2048,8,e,t)}function Nr(e,t){return Lr(4,2,e,t)}function Gr(e,t){return Lr(4,4,e,t)}function _r(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Br(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Lr(4,4,_r.bind(null,t,e),i)}function Hr(){}function Wr(e,t){var i=wr();t=void 0===t?null:t;var s=i.memoizedState;return null!==s&&null!==t&&mr(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function zr(e,t){var i=wr();t=void 0===t?null:t;var s=i.memoizedState;return null!==s&&null!==t&&mr(t,s[1])?s[0]:(e=e(),i.memoizedState=[e,t],e)}function Ur(e,t,i){return 0===(21&rr)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=i):(rs(i,t)||(i=mt(),ar.lanes|=i,Vl|=i,e.baseState=!0),t)}function Qr(e,t){var i=wt;wt=0!==i&&4>i?i:4,e(!0);var s=or.transition;or.transition={};try{e(!1),t()}finally{wt=i,or.transition=s}}function qr(){return wr().memoizedState}function Kr(e,t,i){var s=td(e);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},$r(e))Xr(t,i);else if(null!==(i=Lo(e,t,i,s))){id(i,e,s,ed()),Yr(i,t,s)}}function jr(e,t,i){var s=td(e),n={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if($r(e))Xr(t,n);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var r=t.lastRenderedState,a=o(r,i);if(n.hasEagerState=!0,n.eagerState=a,rs(a,r)){var l=t.interleaved;return null===l?(n.next=n,Io(t)):(n.next=l.next,l.next=n),void(t.interleaved=n)}}catch(d){}null!==(i=Lo(e,t,n,s))&&(id(i,e,s,n=ed()),Yr(i,t,s))}}function $r(e){var t=e.alternate;return e===ar||null!==t&&t===ar}function Xr(e,t){ur=cr=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Yr(e,t,i){if(0!==(4194240&i)){var s=t.lanes;i|=s&=e.pendingLanes,t.lanes=i,Ct(e,i)}}var Jr={readContext:Mo,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},Zr={readContext:Mo,useCallback:function(e,t){return Cr().memoizedState=[e,void 0===t?null:t],e},useContext:Mo,useEffect:Or,useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Ir(4194308,4,_r.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ir(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ir(4,2,e,t)},useMemo:function(e,t){var i=Cr();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var s=Cr();return t=void 0!==i?i(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Kr.bind(null,ar,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},Cr().memoizedState=e},useState:Tr,useDebugValue:Hr,useDeferredValue:function(e){return Cr().memoizedState=e},useTransition:function(){var e=Tr(!1),t=e[0];return e=Qr.bind(null,e[1]),Cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var s=ar,n=Cr();if(no){if(void 0===i)throw Error(o(407));i=i()}else{if(i=t(),null===kl)throw Error(o(349));0!==(30&rr)||Fr(s,t,i)}n.memoizedState=i;var r={value:i,getSnapshot:t};return n.queue=r,Or(Dr.bind(null,s,r,e),[e]),s.flags|=2048,Mr(9,Er.bind(null,s,r,i,t),void 0,null),i},useId:function(){var e=Cr(),t=kl.identifierPrefix;if(no){var i=Yn;t=":"+t+"R"+(i=(Xn&~(1<<32-rt(Xn)-1)).toString(32)+i),0<(i=hr++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=gr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Mo,useCallback:Wr,useContext:Mo,useEffect:Vr,useImperativeHandle:Br,useInsertionEffect:Nr,useLayoutEffect:Gr,useMemo:zr,useReducer:Sr,useRef:xr,useState:function(){return Sr(br)},useDebugValue:Hr,useDeferredValue:function(e){return Ur(wr(),lr.memoizedState,e)},useTransition:function(){return[Sr(br)[0],wr().memoizedState]},useMutableSource:Rr,useSyncExternalStore:Ar,useId:qr,unstable_isNewReconciler:!1},ta={readContext:Mo,useCallback:Wr,useContext:Mo,useEffect:Vr,useImperativeHandle:Br,useInsertionEffect:Nr,useLayoutEffect:Gr,useMemo:zr,useReducer:yr,useRef:xr,useState:function(){return yr(br)},useDebugValue:Hr,useDeferredValue:function(e){var t=wr();return null===lr?t.memoizedState=e:Ur(t,lr.memoizedState,e)},useTransition:function(){return[yr(br)[0],wr().memoizedState]},useMutableSource:Rr,useSyncExternalStore:Ar,useId:qr,unstable_isNewReconciler:!1};function ia(e,t){if(e&&e.defaultProps){for(var i in t=N({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}function sa(e,t,i,s){i=null===(i=i(s,t=e.memoizedState))||void 0===i?t:N({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var na={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var s=ed(),n=td(e),o=_o(s,n);o.payload=t,void 0!==i&&null!==i&&(o.callback=i),null!==(t=Bo(e,o,n))&&(id(t,e,n,s),Ho(t,e,n))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=ed(),n=td(e),o=_o(s,n);o.tag=1,o.payload=t,void 0!==i&&null!==i&&(o.callback=i),null!==(t=Bo(e,o,n))&&(id(t,e,n,s),Ho(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=ed(),s=td(e),n=_o(i,s);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Bo(e,n,s))&&(id(t,e,s,i),Ho(t,e,s))}};function oa(e,t,i,s,n,o,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,o,r):!t.prototype||!t.prototype.isPureReactComponent||(!as(i,s)||!as(n,o))}function ra(e,t,i){var s=!1,n=Dn,o=t.contextType;return"object"===typeof o&&null!==o?o=Mo(o):(n=xn(t)?Tn:Pn.current,o=(s=null!==(s=t.contextTypes)&&void 0!==s)?Mn(e,n):Dn),t=new t(i,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=na,e.stateNode=t,t._reactInternals=e,s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,i,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&na.enqueueReplaceState(t,t.state,null)}function la(e,t,i,s){var n=e.stateNode;n.props=i,n.state=e.memoizedState,n.refs={},No(e);var o=t.contextType;"object"===typeof o&&null!==o?n.context=Mo(o):(o=xn(t)?Tn:Pn.current,n.context=Mn(e,o)),n.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(sa(e,t,o,i),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&na.enqueueReplaceState(n,n.state,null),zo(e,i,n,s),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function da(e,t){try{var i="",s=t;do{i+=H(s),s=s.return}while(s);var n=i}catch(o){n="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:n,digest:null}}function ca(e,t,i){return{value:e,source:null,stack:null!=i?i:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(i){setTimeout((function(){throw i}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function ga(e,t,i){(i=_o(-1,i)).tag=3,i.payload={element:null};var s=t.value;return i.callback=function(){Ul||(Ul=!0,Ql=s),ua(0,t)},i}function pa(e,t,i){(i=_o(-1,i)).tag=3;var s=e.type.getDerivedStateFromError;if("function"===typeof s){var n=t.value;i.payload=function(){return s(n)},i.callback=function(){ua(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(i.callback=function(){ua(0,t),"function"!==typeof s&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function ma(e,t,i){var s=e.pingCache;if(null===s){s=e.pingCache=new ha;var n=new Set;s.set(t,n)}else void 0===(n=s.get(t))&&(n=new Set,s.set(t,n));n.has(i)||(n.add(i),e=Fd.bind(null,e,t,i),t.then(e,e))}function fa(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,i,s,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=_o(-1,1)).tag=2,Bo(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var Ca=b.ReactCurrentOwner,wa=!1;function ba(e,t,i,s){t.child=null===e?yo(t,null,i,s):So(t,e.child,i,s)}function Sa(e,t,i,s,n){i=i.render;var o=t.ref;return To(t,n),s=fr(e,t,i,s,o,n),i=vr(),null===e||wa?(no&&i&&eo(t),t.flags|=1,ba(e,t,s,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ua(e,t,n))}function ya(e,t,i,s,n){if(null===e){var o=i.type;return"function"!==typeof o||xd(o)||void 0!==o.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Ld(i.type,null,s,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ra(e,t,o,s,n))}if(o=e.child,0===(e.lanes&n)){var r=o.memoizedProps;if((i=null!==(i=i.compare)?i:as)(r,s)&&e.ref===t.ref)return Ua(e,t,n)}return t.flags|=1,(e=Id(o,s)).ref=t.ref,e.return=t,t.child=e}function Ra(e,t,i,s,n){if(null!==e){var o=e.memoizedProps;if(as(o,s)&&e.ref===t.ref){if(wa=!1,t.pendingProps=s=o,0===(e.lanes&n))return t.lanes=e.lanes,Ua(e,t,n);0!==(131072&e.flags)&&(wa=!0)}}return Ea(e,t,i,s,n)}function Aa(e,t,i){var s=t.pendingProps,n=s.children,o=null!==e?e.memoizedState:null;if("hidden"===s.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},En(Il,xl),xl|=i;else{if(0===(1073741824&i))return e=null!==o?o.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,En(Il,xl),xl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==o?o.baseLanes:i,En(Il,xl),xl|=s}else null!==o?(s=o.baseLanes|i,t.memoizedState=null):s=i,En(Il,xl),xl|=s;return ba(e,t,n,i),t.child}function Fa(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,i,s,n){var o=xn(i)?Tn:Pn.current;return o=Mn(t,o),To(t,n),i=fr(e,t,i,s,o,n),s=vr(),null===e||wa?(no&&s&&eo(t),t.flags|=1,ba(e,t,i,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ua(e,t,n))}function Da(e,t,i,s,n){if(xn(i)){var o=!0;Vn(t)}else o=!1;if(To(t,n),null===t.stateNode)za(e,t),ra(t,i,s),la(t,i,s,n),s=!0;else if(null===e){var r=t.stateNode,a=t.memoizedProps;r.props=a;var l=r.context,d=i.contextType;"object"===typeof d&&null!==d?d=Mo(d):d=Mn(t,d=xn(i)?Tn:Pn.current);var c=i.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof r.getSnapshotBeforeUpdate;u||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(a!==s||l!==d)&&aa(t,r,s,d),Vo=!1;var h=t.memoizedState;r.state=h,zo(t,s,r,n),l=t.memoizedState,a!==s||h!==l||kn.current||Vo?("function"===typeof c&&(sa(t,i,c,s),l=t.memoizedState),(a=Vo||oa(t,i,a,s,h,l,d))?(u||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),r.props=s,r.state=l,r.context=d,s=a):("function"===typeof r.componentDidMount&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,Go(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:ia(t.type,a),r.props=d,u=t.pendingProps,h=r.context,"object"===typeof(l=i.contextType)&&null!==l?l=Mo(l):l=Mn(t,l=xn(i)?Tn:Pn.current);var g=i.getDerivedStateFromProps;(c="function"===typeof g||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(a!==u||h!==l)&&aa(t,r,s,l),Vo=!1,h=t.memoizedState,r.state=h,zo(t,s,r,n);var p=t.memoizedState;a!==u||h!==p||kn.current||Vo?("function"===typeof g&&(sa(t,i,g,s),p=t.memoizedState),(d=Vo||oa(t,i,d,s,h,p,l)||!1)?(c||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(s,p,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(s,p,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),r.props=s,r.state=p,r.context=l,s=d):("function"!==typeof r.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return Pa(e,t,i,s,o,n)}function Pa(e,t,i,s,n,o){Fa(e,t);var r=0!==(128&t.flags);if(!s&&!r)return n&&Nn(t,i,!1),Ua(e,t,o);s=t.stateNode,Ca.current=t;var a=r&&"function"!==typeof i.getDerivedStateFromError?null:s.render();return t.flags|=1,null!==e&&r?(t.child=So(t,e.child,null,o),t.child=So(t,null,a,o)):ba(e,t,a,o),t.memoizedState=s.state,n&&Nn(t,i,!0),t.child}function ka(e){var t=e.stateNode;t.pendingContext?Ln(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ln(0,t.context,!1),Xo(e,t.containerInfo)}function Ta(e,t,i,s,n){return po(),mo(n),t.flags|=256,ba(e,t,i,s),t.child}var Ma,xa,Ia,La,Oa={dehydrated:null,treeContext:null,retryLane:0};function Va(e){return{baseLanes:e,cachePool:null,transitions:null}}function Na(e,t,i){var s,n=t.pendingProps,r=er.current,a=!1,l=0!==(128&t.flags);if((s=l)||(s=(null===e||null!==e.memoizedState)&&0!==(2&r)),s?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),En(er,1&r),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&n)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Vd(l,n,0,null),e=Od(e,n,i,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Va(i),t.memoizedState=Oa,e):Ga(t,l));if(null!==(r=e.memoizedState)&&null!==(s=r.dehydrated))return function(e,t,i,s,n,r,a){if(i)return 256&t.flags?(t.flags&=-257,_a(e,t,a,s=ca(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=s.fallback,n=t.mode,s=Vd({mode:"visible",children:s.children},n,0,null),(r=Od(r,n,a,null)).flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,0!==(1&t.mode)&&So(t,e.child,null,a),t.child.memoizedState=Va(a),t.memoizedState=Oa,r);if(0===(1&t.mode))return _a(e,t,a,null);if("$!"===n.data){if(s=n.nextSibling&&n.nextSibling.dataset)var l=s.dgst;return s=l,_a(e,t,a,s=ca(r=Error(o(419)),s,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(s=kl)){switch(a&-a){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(s.suspendedLanes|a))?0:n)&&n!==r.retryLane&&(r.retryLane=n,Oo(e,n),id(s,e,n,-1))}return md(),_a(e,t,a,s=ca(Error(o(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Dd.bind(null,e),n._reactRetry=t,null):(e=r.treeContext,so=dn(n.nextSibling),io=t,no=!0,oo=null,null!==e&&(Kn[jn++]=Xn,Kn[jn++]=Yn,Kn[jn++]=$n,Xn=e.id,Yn=e.overflow,$n=t),t=Ga(t,s.children),t.flags|=4096,t)}(e,t,l,n,s,r,i);if(a){a=n.fallback,l=t.mode,s=(r=e.child).sibling;var d={mode:"hidden",children:n.children};return 0===(1&l)&&t.child!==r?((n=t.child).childLanes=0,n.pendingProps=d,t.deletions=null):(n=Id(r,d)).subtreeFlags=14680064&r.subtreeFlags,null!==s?a=Id(s,a):(a=Od(a,l,i,null)).flags|=2,a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=null===(l=e.child.memoizedState)?Va(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~i,t.memoizedState=Oa,n}return e=(a=e.child).sibling,n=Id(a,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n}function Ga(e,t){return(t=Vd({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function _a(e,t,i,s){return null!==s&&mo(s),So(t,e.child,null,i),(e=Ga(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,i){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),ko(e.return,t,i)}function Ha(e,t,i,s,n){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:n}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=i,o.tailMode=n)}function Wa(e,t,i){var s=t.pendingProps,n=s.revealOrder,o=s.tail;if(ba(e,t,s.children,i),0!==(2&(s=er.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,i,t);else if(19===e.tag)Ba(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(En(er,s),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(i=t.child,n=null;null!==i;)null!==(e=i.alternate)&&null===tr(e)&&(n=i),i=i.sibling;null===(i=n)?(n=t.child,t.child=null):(n=i.sibling,i.sibling=null),Ha(t,!1,n,i,o);break;case"backwards":for(i=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===tr(e)){t.child=n;break}e=n.sibling,n.sibling=i,i=n,n=e}Ha(t,!0,i,null,o);break;case"together":Ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function za(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ua(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),Vl|=t.lanes,0===(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(i=Id(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Id(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function Qa(e,t){if(!no)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;null!==i;)null!==i.alternate&&(s=i),i=i.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,s=0;if(t)for(var n=e.child;null!==n;)i|=n.lanes|n.childLanes,s|=14680064&n.subtreeFlags,s|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)i|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function Ka(e,t,i){var s=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return xn(t.type)&&In(),qa(t),null;case 3:return s=t.stateNode,Yo(),Fn(kn),Fn(Pn),sr(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(rd(oo),oo=null))),xa(e,t),qa(t),null;case 5:Zo(t);var n=$o(jo.current);if(i=t.type,null!==e&&null!=t.stateNode)Ia(e,t,i,s,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(null===t.stateNode)throw Error(o(166));return qa(t),null}if(e=$o(qo.current),ho(t)){s=t.stateNode,i=t.type;var r=t.memoizedProps;switch(s[hn]=t,s[gn]=r,e=0!==(1&t.mode),i){case"dialog":Gs("cancel",s),Gs("close",s);break;case"iframe":case"object":case"embed":Gs("load",s);break;case"video":case"audio":for(n=0;n<Ls.length;n++)Gs(Ls[n],s);break;case"source":Gs("error",s);break;case"img":case"image":case"link":Gs("error",s),Gs("load",s);break;case"details":Gs("toggle",s);break;case"input":X(s,r),Gs("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},Gs("invalid",s);break;case"textarea":ne(s,r),Gs("invalid",s)}for(var l in Ce(i,r),n=null,r)if(r.hasOwnProperty(l)){var d=r[l];"children"===l?"string"===typeof d?s.textContent!==d&&(!0!==r.suppressHydrationWarning&&Ys(s.textContent,d,e),n=["children",d]):"number"===typeof d&&s.textContent!==""+d&&(!0!==r.suppressHydrationWarning&&Ys(s.textContent,d,e),n=["children",""+d]):a.hasOwnProperty(l)&&null!=d&&"onScroll"===l&&Gs("scroll",s)}switch(i){case"input":q(s),Z(s,r,!0);break;case"textarea":q(s),re(s);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(s.onclick=Js)}s=n,t.updateQueue=s,null!==s&&(t.flags|=4)}else{l=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof s.is?e=l.createElement(i,{is:s.is}):(e=l.createElement(i),"select"===i&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,i),e[hn]=t,e[gn]=s,Ma(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(i,s),i){case"dialog":Gs("cancel",e),Gs("close",e),n=s;break;case"iframe":case"object":case"embed":Gs("load",e),n=s;break;case"video":case"audio":for(n=0;n<Ls.length;n++)Gs(Ls[n],e);n=s;break;case"source":Gs("error",e),n=s;break;case"img":case"image":case"link":Gs("error",e),Gs("load",e),n=s;break;case"details":Gs("toggle",e),n=s;break;case"input":X(e,s),n=$(e,s),Gs("invalid",e);break;case"option":default:n=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},n=N({},s,{value:void 0}),Gs("invalid",e);break;case"textarea":ne(e,s),n=se(e,s),Gs("invalid",e)}for(r in Ce(i,n),d=n)if(d.hasOwnProperty(r)){var c=d[r];"style"===r?fe(e,c):"dangerouslySetInnerHTML"===r?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===r?"string"===typeof c?("textarea"!==i||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(a.hasOwnProperty(r)?null!=c&&"onScroll"===r&&Gs("scroll",e):null!=c&&w(e,r,c,l))}switch(i){case"input":q(e),Z(e,s,!1);break;case"textarea":q(e),re(e);break;case"option":null!=s.value&&e.setAttribute("value",""+U(s.value));break;case"select":e.multiple=!!s.multiple,null!=(r=s.value)?ie(e,!!s.multiple,r,!1):null!=s.defaultValue&&ie(e,!!s.multiple,s.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=Js)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,s);else{if("string"!==typeof s&&null===t.stateNode)throw Error(o(166));if(i=$o(jo.current),$o(qo.current),ho(t)){if(s=t.stateNode,i=t.memoizedProps,s[hn]=t,(r=s.nodeValue!==i)&&null!==(e=io))switch(e.tag){case 3:Ys(s.nodeValue,i,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ys(s.nodeValue,i,0!==(1&e.mode))}r&&(t.flags|=4)}else(s=(9===i.nodeType?i:i.ownerDocument).createTextNode(s))[hn]=t,t.stateNode=s}return qa(t),null;case 13:if(Fn(er),s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(no&&null!==so&&0!==(1&t.mode)&&0===(128&t.flags))go(),po(),t.flags|=98560,r=!1;else if(r=ho(t),null!==s&&null!==s.dehydrated){if(null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[hn]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),r=!1}else null!==oo&&(rd(oo),oo=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=i,t):((s=null!==s)!==(null!==e&&null!==e.memoizedState)&&s&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&er.current)?0===Ll&&(Ll=3):md())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return Yo(),xa(e,t),null===e&&Hs(t.stateNode.containerInfo),qa(t),null;case 10:return Po(t.type._context),qa(t),null;case 19:if(Fn(er),null===(r=t.memoizedState))return qa(t),null;if(s=0!==(128&t.flags),null===(l=r.rendering))if(s)Qa(r,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=tr(e))){for(t.flags|=128,Qa(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=i,i=t.child;null!==i;)e=s,(r=i).flags&=14680066,null===(l=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,e=l.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return En(er,1&er.current|2),t.child}e=e.sibling}null!==r.tail&&Ye()>Wl&&(t.flags|=128,s=!0,Qa(r,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=tr(l))){if(t.flags|=128,s=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),Qa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!no)return qa(t),null}else 2*Ye()-r.renderingStartTime>Wl&&1073741824!==i&&(t.flags|=128,s=!0,Qa(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(i=r.last)?i.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ye(),t.sibling=null,i=er.current,En(er,s?1&i|2:1&i),t):(qa(t),null);case 22:case 23:return ud(),s=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==s&&(t.flags|=8192),s&&0!==(1&t.mode)?0!==(1073741824&xl)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function ja(e,t){switch(to(t),t.tag){case 1:return xn(t.type)&&In(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),Fn(kn),Fn(Pn),sr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Fn(er),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Fn(er),null;case 4:return Yo(),null;case 10:return Po(t.type._context),null;case 22:case 23:return ud(),null;default:return null}}Ma=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},xa=function(){},Ia=function(e,t,i,s){var n=e.memoizedProps;if(n!==s){e=t.stateNode,$o(qo.current);var o,r=null;switch(i){case"input":n=$(e,n),s=$(e,s),r=[];break;case"select":n=N({},n,{value:void 0}),s=N({},s,{value:void 0}),r=[];break;case"textarea":n=se(e,n),s=se(e,s),r=[];break;default:"function"!==typeof n.onClick&&"function"===typeof s.onClick&&(e.onclick=Js)}for(c in Ce(i,s),i=null,n)if(!s.hasOwnProperty(c)&&n.hasOwnProperty(c)&&null!=n[c])if("style"===c){var l=n[c];for(o in l)l.hasOwnProperty(o)&&(i||(i={}),i[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in s){var d=s[c];if(l=null!=n?n[c]:void 0,s.hasOwnProperty(c)&&d!==l&&(null!=d||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(i||(i={}),i[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(i||(i={}),i[o]=d[o])}else i||(r||(r=[]),r.push(c,i)),i=d;else"dangerouslySetInnerHTML"===c?(d=d?d.__html:void 0,l=l?l.__html:void 0,null!=d&&l!==d&&(r=r||[]).push(c,d)):"children"===c?"string"!==typeof d&&"number"!==typeof d||(r=r||[]).push(c,""+d):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=d&&"onScroll"===c&&Gs("scroll",e),r||l===d||(r=[])):(r=r||[]).push(c,d))}i&&(r=r||[]).push("style",i);var c=r;(t.updateQueue=c)&&(t.flags|=4)}},La=function(e,t,i,s){i!==s&&(t.flags|=4)};var $a=!1,Xa=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var i=e.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(s){Ad(e,t,s)}else i.current=null}function el(e,t,i){try{i()}catch(s){Ad(e,t,s)}}var tl=!1;function il(e,t,i){var s=t.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var n=s=s.next;do{if((n.tag&e)===e){var o=n.destroy;n.destroy=void 0,void 0!==o&&el(t,i,o)}n=n.next}while(n!==s)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var s=i.create;i.destroy=s()}i=i.next}while(i!==t)}}function nl(e){var t=e.ref;if(null!==t){var i=e.stateNode;e.tag,e=i,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hn],delete t[gn],delete t[mn],delete t[fn],delete t[vn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,i){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==t.onclick||(t.onclick=Js));else if(4!==s&&null!==(e=e.child))for(ll(e,t,i),e=e.sibling;null!==e;)ll(e,t,i),e=e.sibling}function dl(e,t,i){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==s&&null!==(e=e.child))for(dl(e,t,i),e=e.sibling;null!==e;)dl(e,t,i),e=e.sibling}var cl=null,ul=!1;function hl(e,t,i){for(i=i.child;null!==i;)gl(e,t,i),i=i.sibling}function gl(e,t,i){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(nt,i)}catch(a){}switch(i.tag){case 5:Xa||Za(i,t);case 6:var s=cl,n=ul;cl=null,hl(e,t,i),ul=n,null!==(cl=s)&&(ul?(e=cl,i=i.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)):cl.removeChild(i.stateNode));break;case 18:null!==cl&&(ul?(e=cl,i=i.stateNode,8===e.nodeType?ln(e.parentNode,i):1===e.nodeType&&ln(e,i),Wt(e)):ln(cl,i.stateNode));break;case 4:s=cl,n=ul,cl=i.stateNode.containerInfo,ul=!0,hl(e,t,i),cl=s,ul=n;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(s=i.updateQueue)&&null!==(s=s.lastEffect))){n=s=s.next;do{var o=n,r=o.destroy;o=o.tag,void 0!==r&&(0!==(2&o)||0!==(4&o))&&el(i,t,r),n=n.next}while(n!==s)}hl(e,t,i);break;case 1:if(!Xa&&(Za(i,t),"function"===typeof(s=i.stateNode).componentWillUnmount))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(a){Ad(i,t,a)}hl(e,t,i);break;case 21:hl(e,t,i);break;case 22:1&i.mode?(Xa=(s=Xa)||null!==i.memoizedState,hl(e,t,i),Xa=s):hl(e,t,i);break;default:hl(e,t,i)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new Ya),t.forEach((function(t){var s=Pd.bind(null,e,t);i.has(t)||(i.add(t),t.then(s,s))}))}}function ml(e,t){var i=t.deletions;if(null!==i)for(var s=0;s<i.length;s++){var n=i[s];try{var r=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(o(160));gl(r,a,n),cl=null,ul=!1;var d=n.alternate;null!==d&&(d.return=null),n.return=null}catch(c){Ad(n,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&s){try{il(3,e,e.return),sl(3,e)}catch(f){Ad(e,e.return,f)}try{il(5,e,e.return)}catch(f){Ad(e,e.return,f)}}break;case 1:ml(t,e),vl(e),512&s&&null!==i&&Za(i,i.return);break;case 5:if(ml(t,e),vl(e),512&s&&null!==i&&Za(i,i.return),32&e.flags){var n=e.stateNode;try{he(n,"")}catch(f){Ad(e,e.return,f)}}if(4&s&&null!=(n=e.stateNode)){var r=e.memoizedProps,a=null!==i?i.memoizedProps:r,l=e.type,d=e.updateQueue;if(e.updateQueue=null,null!==d)try{"input"===l&&"radio"===r.type&&null!=r.name&&Y(n,r),we(l,a);var c=we(l,r);for(a=0;a<d.length;a+=2){var u=d[a],h=d[a+1];"style"===u?fe(n,h):"dangerouslySetInnerHTML"===u?ue(n,h):"children"===u?he(n,h):w(n,u,h,c)}switch(l){case"input":J(n,r);break;case"textarea":oe(n,r);break;case"select":var g=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!r.multiple;var p=r.value;null!=p?ie(n,!!r.multiple,p,!1):g!==!!r.multiple&&(null!=r.defaultValue?ie(n,!!r.multiple,r.defaultValue,!0):ie(n,!!r.multiple,r.multiple?[]:"",!1))}n[gn]=r}catch(f){Ad(e,e.return,f)}}break;case 6:if(ml(t,e),vl(e),4&s){if(null===e.stateNode)throw Error(o(162));n=e.stateNode,r=e.memoizedProps;try{n.nodeValue=r}catch(f){Ad(e,e.return,f)}}break;case 3:if(ml(t,e),vl(e),4&s&&null!==i&&i.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(f){Ad(e,e.return,f)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(n=e.child).flags&&(r=null!==n.memoizedState,n.stateNode.isHidden=r,!r||null!==n.alternate&&null!==n.alternate.memoizedState||(Hl=Ye())),4&s&&pl(e);break;case 22:if(u=null!==i&&null!==i.memoizedState,1&e.mode?(Xa=(c=Xa)||u,ml(t,e),Xa=c):ml(t,e),vl(e),8192&s){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!==(1&e.mode))for(Ja=e,u=e.child;null!==u;){for(h=Ja=u;null!==Ja;){switch(p=(g=Ja).child,g.tag){case 0:case 11:case 14:case 15:il(4,g,g.return);break;case 1:Za(g,g.return);var m=g.stateNode;if("function"===typeof m.componentWillUnmount){s=g,i=g.return;try{t=s,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(f){Ad(s,i,f)}}break;case 5:Za(g,g.return);break;case 22:if(null!==g.memoizedState){Sl(h);continue}}null!==p?(p.return=g,Ja=p):Sl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{n=h.stateNode,c?"function"===typeof(r=n.style).setProperty?r.setProperty("display","none","important"):r.display="none":(l=h.stateNode,a=void 0!==(d=h.memoizedProps.style)&&null!==d&&d.hasOwnProperty("display")?d.display:null,l.style.display=me("display",a))}catch(f){Ad(e,e.return,f)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(f){Ad(e,e.return,f)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&s&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var i=e.return;null!==i;){if(rl(i)){var s=i;break e}i=i.return}throw Error(o(160))}switch(s.tag){case 5:var n=s.stateNode;32&s.flags&&(he(n,""),s.flags&=-33),dl(e,al(e),n);break;case 3:case 4:var r=s.stateNode.containerInfo;ll(e,al(e),r);break;default:throw Error(o(161))}}catch(a){Ad(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Cl(e,t,i){Ja=e,wl(e,t,i)}function wl(e,t,i){for(var s=0!==(1&e.mode);null!==Ja;){var n=Ja,o=n.child;if(22===n.tag&&s){var r=null!==n.memoizedState||$a;if(!r){var a=n.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=$a;var d=Xa;if($a=r,(Xa=l)&&!d)for(Ja=n;null!==Ja;)l=(r=Ja).child,22===r.tag&&null!==r.memoizedState?yl(n):null!==l?(l.return=r,Ja=l):yl(n);for(;null!==o;)Ja=o,wl(o,t,i),o=o.sibling;Ja=n,$a=a,Xa=d}bl(e)}else 0!==(8772&n.subtreeFlags)&&null!==o?(o.return=n,Ja=o):bl(e)}}function bl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var i=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||sl(5,t);break;case 1:var s=t.stateNode;if(4&t.flags&&!Xa)if(null===i)s.componentDidMount();else{var n=t.elementType===t.type?i.memoizedProps:ia(t.type,i.memoizedProps);s.componentDidUpdate(n,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Uo(t,r,s);break;case 3:var a=t.updateQueue;if(null!==a){if(i=null,null!==t.child)switch(t.child.tag){case 5:case 1:i=t.child.stateNode}Uo(t,a,i)}break;case 5:var l=t.stateNode;if(null===i&&4&t.flags){i=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&i.focus();break;case"img":d.src&&(i.src=d.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&nl(t)}catch(g){Ad(t,t.return,g)}}if(t===e){Ja=null;break}if(null!==(i=t.sibling)){i.return=t.return,Ja=i;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ja=i;break}Ja=t.return}}function yl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{sl(4,t)}catch(l){Ad(t,i,l)}break;case 1:var s=t.stateNode;if("function"===typeof s.componentDidMount){var n=t.return;try{s.componentDidMount()}catch(l){Ad(t,n,l)}}var o=t.return;try{nl(t)}catch(l){Ad(t,o,l)}break;case 5:var r=t.return;try{nl(t)}catch(l){Ad(t,r,l)}}}catch(l){Ad(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Rl,Al=Math.ceil,Fl=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,Dl=b.ReactCurrentBatchConfig,Pl=0,kl=null,Tl=null,Ml=0,xl=0,Il=An(0),Ll=0,Ol=null,Vl=0,Nl=0,Gl=0,_l=null,Bl=null,Hl=0,Wl=1/0,zl=null,Ul=!1,Ql=null,ql=null,Kl=!1,jl=null,$l=0,Xl=0,Yl=null,Jl=-1,Zl=0;function ed(){return 0!==(6&Pl)?Ye():-1!==Jl?Jl:Jl=Ye()}function td(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ml?Ml&-Ml:null!==fo.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function id(e,t,i,s){if(50<Xl)throw Xl=0,Yl=null,Error(o(185));vt(e,i,s),0!==(2&Pl)&&e===kl||(e===kl&&(0===(2&Pl)&&(Nl|=i),4===Ll&&ad(e,Ml)),sd(e,s),1===i&&0===Pl&&0===(1&t.mode)&&(Wl=Ye()+500,_n&&Wn()))}function sd(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,o=e.pendingLanes;0<o;){var r=31-rt(o),a=1<<r,l=n[r];-1===l?0!==(a&i)&&0===(a&s)||(n[r]=gt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var s=ht(e,e===kl?Ml:0);if(0===s)null!==i&&je(i),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(null!=i&&je(i),1===t)0===e.tag?function(e){_n=!0,Hn(e)}(ld.bind(null,e)):Hn(ld.bind(null,e)),rn((function(){0===(6&Pl)&&Wn()})),i=null;else{switch(bt(s)){case 1:i=Ze;break;case 4:i=et;break;case 16:default:i=tt;break;case 536870912:i=st}i=kd(i,nd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function nd(e,t){if(Jl=-1,Zl=0,0!==(6&Pl))throw Error(o(327));var i=e.callbackNode;if(yd()&&e.callbackNode!==i)return null;var s=ht(e,e===kl?Ml:0);if(0===s)return null;if(0!==(30&s)||0!==(s&e.expiredLanes)||t)t=fd(e,s);else{t=s;var n=Pl;Pl|=2;var r=pd();for(kl===e&&Ml===t||(zl=null,Wl=Ye()+500,hd(e,t));;)try{Cd();break}catch(l){gd(e,l)}Do(),Fl.current=r,Pl=n,null!==Tl?t=0:(kl=null,Ml=0,t=Ll)}if(0!==t){if(2===t&&(0!==(n=pt(e))&&(s=n,t=od(e,n))),1===t)throw i=Ol,hd(e,0),ad(e,s),sd(e,Ye()),i;if(6===t)ad(e,s);else{if(n=e.current.alternate,0===(30&s)&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var s=0;s<i.length;s++){var n=i[s],o=n.getSnapshot;n=n.value;try{if(!rs(o(),n))return!1}catch(a){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=fd(e,s))&&(0!==(r=pt(e))&&(s=r,t=od(e,r))),1===t))throw i=Ol,hd(e,0),ad(e,s),sd(e,Ye()),i;switch(e.finishedWork=n,e.finishedLanes=s,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sd(e,Bl,zl);break;case 3:if(ad(e,s),(130023424&s)===s&&10<(t=Hl+500-Ye())){if(0!==ht(e,0))break;if(((n=e.suspendedLanes)&s)!==s){ed(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=sn(Sd.bind(null,e,Bl,zl),t);break}Sd(e,Bl,zl);break;case 4:if(ad(e,s),(4194240&s)===s)break;for(t=e.eventTimes,n=-1;0<s;){var a=31-rt(s);r=1<<a,(a=t[a])>n&&(n=a),s&=~r}if(s=n,10<(s=(120>(s=Ye()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Al(s/1960))-s)){e.timeoutHandle=sn(Sd.bind(null,e,Bl,zl),s);break}Sd(e,Bl,zl);break;default:throw Error(o(329))}}}return sd(e,Ye()),e.callbackNode===i?nd.bind(null,e):null}function od(e,t){var i=_l;return e.current.memoizedState.isDehydrated&&(hd(e,t).flags|=256),2!==(e=fd(e,t))&&(t=Bl,Bl=i,null!==t&&rd(t)),e}function rd(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ad(e,t){for(t&=~Gl,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-rt(t),s=1<<i;e[i]=-1,t&=~s}}function ld(e){if(0!==(6&Pl))throw Error(o(327));yd();var t=ht(e,0);if(0===(1&t))return sd(e,Ye()),null;var i=fd(e,t);if(0!==e.tag&&2===i){var s=pt(e);0!==s&&(t=s,i=od(e,s))}if(1===i)throw i=Ol,hd(e,0),ad(e,t),sd(e,Ye()),i;if(6===i)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sd(e,Bl,zl),sd(e,Ye()),null}function dd(e,t){var i=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=i)&&(Wl=Ye()+500,_n&&Wn())}}function cd(e){null!==jl&&0===jl.tag&&0===(6&Pl)&&yd();var t=Pl;Pl|=1;var i=Dl.transition,s=wt;try{if(Dl.transition=null,wt=1,e)return e()}finally{wt=s,Dl.transition=i,0===(6&(Pl=t))&&Wn()}}function ud(){xl=Il.current,Fn(Il)}function hd(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,nn(i)),null!==Tl)for(i=Tl.return;null!==i;){var s=i;switch(to(s),s.tag){case 1:null!==(s=s.type.childContextTypes)&&void 0!==s&&In();break;case 3:Yo(),Fn(kn),Fn(Pn),sr();break;case 5:Zo(s);break;case 4:Yo();break;case 13:case 19:Fn(er);break;case 10:Po(s.type._context);break;case 22:case 23:ud()}i=i.return}if(kl=e,Tl=e=Id(e.current,null),Ml=xl=t,Ll=0,Ol=null,Gl=Nl=Vl=0,Bl=_l=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(s=(i=xo[t]).interleaved)){i.interleaved=null;var n=s.next,o=i.pending;if(null!==o){var r=o.next;o.next=n,s.next=r}i.pending=s}xo=null}return e}function gd(e,t){for(;;){var i=Tl;try{if(Do(),nr.current=Jr,cr){for(var s=ar.memoizedState;null!==s;){var n=s.queue;null!==n&&(n.pending=null),s=s.next}cr=!1}if(rr=0,dr=lr=ar=null,ur=!1,hr=0,El.current=null,null===i||null===i.return){Ll=1,Ol=t,Tl=null;break}e:{var r=e,a=i.return,l=i,d=t;if(t=Ml,l.flags|=32768,null!==d&&"object"===typeof d&&"function"===typeof d.then){var c=d,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var g=u.alternate;g?(u.updateQueue=g.updateQueue,u.memoizedState=g.memoizedState,u.lanes=g.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=fa(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(r,c,t),d=c;var m=(t=p).updateQueue;if(null===m){var f=new Set;f.add(d),t.updateQueue=f}else m.add(d);break e}if(0===(1&t)){ma(r,c,t),md();break e}d=Error(o(426))}else if(no&&1&l.mode){var v=fa(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mo(da(d,l));break e}}r=d=da(d,l),4!==Ll&&(Ll=2),null===_l?_l=[r]:_l.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,Wo(r,ga(0,d,t));break e;case 1:l=d;var C=r.type,w=r.stateNode;if(0===(128&r.flags)&&("function"===typeof C.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===ql||!ql.has(w)))){r.flags|=65536,t&=-t,r.lanes|=t,Wo(r,pa(r,l,t));break e}}r=r.return}while(null!==r)}bd(i)}catch(b){t=b,Tl===i&&null!==i&&(Tl=i=i.return);continue}break}}function pd(){var e=Fl.current;return Fl.current=Jr,null===e?Jr:e}function md(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===kl||0===(268435455&Vl)&&0===(268435455&Nl)||ad(kl,Ml)}function fd(e,t){var i=Pl;Pl|=2;var s=pd();for(kl===e&&Ml===t||(zl=null,hd(e,t));;)try{vd();break}catch(n){gd(e,n)}if(Do(),Pl=i,Fl.current=s,null!==Tl)throw Error(o(261));return kl=null,Ml=0,Ll}function vd(){for(;null!==Tl;)wd(Tl)}function Cd(){for(;null!==Tl&&!$e();)wd(Tl)}function wd(e){var t=Rl(e.alternate,e,xl);e.memoizedProps=e.pendingProps,null===t?bd(e):Tl=t,El.current=null}function bd(e){var t=e;do{var i=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(i=Ka(i,t,xl)))return void(Tl=i)}else{if(null!==(i=ja(i,t)))return i.flags&=32767,void(Tl=i);if(null===e)return Ll=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Sd(e,t,i){var s=wt,n=Dl.transition;try{Dl.transition=null,wt=1,function(e,t,i,s){do{yd()}while(null!==jl);if(0!==(6&Pl))throw Error(o(327));i=e.finishedWork;var n=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var r=i.lanes|i.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<i;){var n=31-rt(i),o=1<<n;t[n]=0,s[n]=-1,e[n]=-1,i&=~o}}(e,r),e===kl&&(Tl=kl=null,Ml=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Kl||(Kl=!0,kd(tt,(function(){return yd(),null}))),r=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||r){r=Dl.transition,Dl.transition=null;var a=wt;wt=1;var l=Pl;Pl|=4,El.current=null,function(e,t){if(Zs=Ut,hs(e=us())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(s&&0!==s.rangeCount){i=s.anchorNode;var n=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{i.nodeType,r.nodeType}catch(S){i=null;break e}var a=0,l=-1,d=-1,c=0,u=0,h=e,g=null;t:for(;;){for(var p;h!==i||0!==n&&3!==h.nodeType||(l=a+n),h!==r||0!==s&&3!==h.nodeType||(d=a+s),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)g=h,h=p;for(;;){if(h===e)break t;if(g===i&&++c===n&&(l=a),g===r&&++u===s&&(d=a),null!==(p=h.nextSibling))break;g=(h=g).parentNode}h=p}i=-1===l||-1===d?null:{start:l,end:d}}else i=null}i=i||{start:0,end:0}}else i=null;for(en={focusedElem:e,selectionRange:i},Ut=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var f=m.memoizedProps,v=m.memoizedState,C=t.stateNode,w=C.getSnapshotBeforeUpdate(t.elementType===t.type?f:ia(t.type,f),v);C.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(S){Ad(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,i),fl(i,e),gs(en),Ut=!!Zs,en=Zs=null,e.current=i,Cl(i,e,n),Xe(),Pl=l,wt=a,Dl.transition=r}else e.current=i;if(Kl&&(Kl=!1,jl=e,$l=n),r=e.pendingLanes,0===r&&(ql=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(i.stateNode),sd(e,Ye()),null!==t)for(s=e.onRecoverableError,i=0;i<t.length;i++)n=t[i],s(n.value,{componentStack:n.stack,digest:n.digest});if(Ul)throw Ul=!1,e=Ql,Ql=null,e;0!==(1&$l)&&0!==e.tag&&yd(),r=e.pendingLanes,0!==(1&r)?e===Yl?Xl++:(Xl=0,Yl=e):Xl=0,Wn()}(e,t,i,s)}finally{Dl.transition=n,wt=s}return null}function yd(){if(null!==jl){var e=bt($l),t=Dl.transition,i=wt;try{if(Dl.transition=null,wt=16>e?16:e,null===jl)var s=!1;else{if(e=jl,jl=null,$l=0,0!==(6&Pl))throw Error(o(331));var n=Pl;for(Pl|=4,Ja=e.current;null!==Ja;){var r=Ja,a=r.child;if(0!==(16&Ja.flags)){var l=r.deletions;if(null!==l){for(var d=0;d<l.length;d++){var c=l[d];for(Ja=c;null!==Ja;){var u=Ja;switch(u.tag){case 0:case 11:case 15:il(8,u,r)}var h=u.child;if(null!==h)h.return=u,Ja=h;else for(;null!==Ja;){var g=(u=Ja).sibling,p=u.return;if(ol(u),u===c){Ja=null;break}if(null!==g){g.return=p,Ja=g;break}Ja=p}}}var m=r.alternate;if(null!==m){var f=m.child;if(null!==f){m.child=null;do{var v=f.sibling;f.sibling=null,f=v}while(null!==f)}}Ja=r}}if(0!==(2064&r.subtreeFlags)&&null!==a)a.return=r,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(r=Ja).flags))switch(r.tag){case 0:case 11:case 15:il(9,r,r.return)}var C=r.sibling;if(null!==C){C.return=r.return,Ja=C;break e}Ja=r.return}}var w=e.current;for(Ja=w;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else e:for(a=w;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(y){Ad(l,l.return,y)}if(l===a){Ja=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Ja=S;break e}Ja=l.return}}if(Pl=n,Wn(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(nt,e)}catch(y){}s=!0}return s}finally{wt=i,Dl.transition=t}}return!1}function Rd(e,t,i){e=Bo(e,t=ga(0,t=da(i,t),1),1),t=ed(),null!==e&&(vt(e,1,t),sd(e,t))}function Ad(e,t,i){if(3===e.tag)Rd(e,e,i);else for(;null!==t;){if(3===t.tag){Rd(t,e,i);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===ql||!ql.has(s))){t=Bo(t,e=pa(t,e=da(i,e),1),1),e=ed(),null!==t&&(vt(t,1,e),sd(t,e));break}}t=t.return}}function Fd(e,t,i){var s=e.pingCache;null!==s&&s.delete(t),t=ed(),e.pingedLanes|=e.suspendedLanes&i,kl===e&&(Ml&i)===i&&(4===Ll||3===Ll&&(130023424&Ml)===Ml&&500>Ye()-Hl?hd(e,0):Gl|=i),sd(e,t)}function Ed(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var i=ed();null!==(e=Oo(e,t))&&(vt(e,t,i),sd(e,i))}function Dd(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),Ed(e,i)}function Pd(e,t){var i=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;null!==n&&(i=n.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}null!==s&&s.delete(t),Ed(e,i)}function kd(e,t){return Ke(e,t)}function Td(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Md(e,t,i,s){return new Td(e,t,i,s)}function xd(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Id(e,t){var i=e.alternate;return null===i?((i=Md(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ld(e,t,i,s,n,r){var a=2;if(s=e,"function"===typeof e)xd(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case R:return Od(i.children,n,r,t);case A:a=8,n|=8;break;case F:return(e=Md(12,i,t,2|n)).elementType=F,e.lanes=r,e;case k:return(e=Md(13,i,t,n)).elementType=k,e.lanes=r,e;case T:return(e=Md(19,i,t,n)).elementType=T,e.lanes=r,e;case I:return Vd(i,n,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case D:a=9;break e;case P:a=11;break e;case M:a=14;break e;case x:a=16,s=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Md(a,i,t,n)).elementType=e,t.type=s,t.lanes=r,t}function Od(e,t,i,s){return(e=Md(7,e,s,t)).lanes=i,e}function Vd(e,t,i,s){return(e=Md(22,e,s,t)).elementType=I,e.lanes=i,e.stateNode={isHidden:!1},e}function Nd(e,t,i){return(e=Md(6,e,null,t)).lanes=i,e}function Gd(e,t,i){return(t=Md(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _d(e,t,i,s,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Bd(e,t,i,s,n,o,r,a,l){return e=new _d(e,t,i,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Md(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Hd(e){if(!e)return Dn;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var i=e.type;if(xn(i))return On(e,i,t)}return t}function Wd(e,t,i,s,n,o,r,a,l){return(e=Bd(i,s,!0,e,0,o,0,a,l)).context=Hd(null),i=e.current,(o=_o(s=ed(),n=td(i))).callback=void 0!==t&&null!==t?t:null,Bo(i,o,n),e.current.lanes=n,vt(e,n,s),sd(e,s),e}function zd(e,t,i,s){var n=t.current,o=ed(),r=td(n);return i=Hd(i),null===t.context?t.context=i:t.pendingContext=i,(t=_o(o,r)).payload={element:e},null!==(s=void 0===s?null:s)&&(t.callback=s),null!==(e=Bo(n,t,r))&&(id(e,n,r,o),Ho(e,n,r)),r}function Ud(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function qd(e,t){Qd(e,t),(e=e.alternate)&&Qd(e,t)}Rl=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||kn.current)wa=!0;else{if(0===(e.lanes&i)&&0===(128&t.flags))return wa=!1,function(e,t,i){switch(t.tag){case 3:ka(t),po();break;case 5:Jo(t);break;case 1:xn(t.type)&&Vn(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,n=t.memoizedProps.value;En(Ro,s._currentValue),s._currentValue=n;break;case 13:if(null!==(s=t.memoizedState))return null!==s.dehydrated?(En(er,1&er.current),t.flags|=128,null):0!==(i&t.child.childLanes)?Na(e,t,i):(En(er,1&er.current),null!==(e=Ua(e,t,i))?e.sibling:null);En(er,1&er.current);break;case 19:if(s=0!==(i&t.childLanes),0!==(128&e.flags)){if(s)return Wa(e,t,i);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),En(er,er.current),s)break;return null;case 22:case 23:return t.lanes=0,Aa(e,t,i)}return Ua(e,t,i)}(e,t,i);wa=0!==(131072&e.flags)}else wa=!1,no&&0!==(1048576&t.flags)&&Zn(t,qn,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;za(e,t),e=t.pendingProps;var n=Mn(t,Pn.current);To(t,i),n=fr(null,t,s,e,n,i);var r=vr();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xn(s)?(r=!0,Vn(t)):r=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,No(t),n.updater=na,t.stateNode=n,n._reactInternals=t,la(t,s,e,i),t=Pa(null,t,s,!0,r,i)):(t.tag=0,no&&r&&eo(t),ba(null,t,n,i),t=t.child),t;case 16:s=t.elementType;e:{switch(za(e,t),e=t.pendingProps,s=(n=s._init)(s._payload),t.type=s,n=t.tag=function(e){if("function"===typeof e)return xd(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===M)return 14}return 2}(s),e=ia(s,e),n){case 0:t=Ea(null,t,s,e,i);break e;case 1:t=Da(null,t,s,e,i);break e;case 11:t=Sa(null,t,s,e,i);break e;case 14:t=ya(null,t,s,ia(s.type,e),i);break e}throw Error(o(306,s,""))}return t;case 0:return s=t.type,n=t.pendingProps,Ea(e,t,s,n=t.elementType===s?n:ia(s,n),i);case 1:return s=t.type,n=t.pendingProps,Da(e,t,s,n=t.elementType===s?n:ia(s,n),i);case 3:e:{if(ka(t),null===e)throw Error(o(387));s=t.pendingProps,n=(r=t.memoizedState).element,Go(e,t),zo(t,s,null,i);var a=t.memoizedState;if(s=a.element,r.isDehydrated){if(r={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Ta(e,t,s,i,n=da(Error(o(423)),t));break e}if(s!==n){t=Ta(e,t,s,i,n=da(Error(o(424)),t));break e}for(so=dn(t.stateNode.containerInfo.firstChild),io=t,no=!0,oo=null,i=yo(t,null,s,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(po(),s===n){t=Ua(e,t,i);break e}ba(e,t,s,i)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),s=t.type,n=t.pendingProps,r=null!==e?e.memoizedProps:null,a=n.children,tn(s,n)?a=null:null!==r&&tn(s,r)&&(t.flags|=32),Fa(e,t),ba(e,t,a,i),t.child;case 6:return null===e&&co(t),null;case 13:return Na(e,t,i);case 4:return Xo(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=So(t,null,s,i):ba(e,t,s,i),t.child;case 11:return s=t.type,n=t.pendingProps,Sa(e,t,s,n=t.elementType===s?n:ia(s,n),i);case 7:return ba(e,t,t.pendingProps,i),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(s=t.type._context,n=t.pendingProps,r=t.memoizedProps,a=n.value,En(Ro,s._currentValue),s._currentValue=a,null!==r)if(rs(r.value,a)){if(r.children===n.children&&!kn.current){t=Ua(e,t,i);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var l=r.dependencies;if(null!==l){a=r.child;for(var d=l.firstContext;null!==d;){if(d.context===s){if(1===r.tag){(d=_o(-1,i&-i)).tag=2;var c=r.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}r.lanes|=i,null!==(d=r.alternate)&&(d.lanes|=i),ko(r.return,i,t),l.lanes|=i;break}d=d.next}}else if(10===r.tag)a=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(a=r.return))throw Error(o(341));a.lanes|=i,null!==(l=a.alternate)&&(l.lanes|=i),ko(a,i,t),a=r.sibling}else a=r.child;if(null!==a)a.return=r;else for(a=r;null!==a;){if(a===t){a=null;break}if(null!==(r=a.sibling)){r.return=a.return,a=r;break}a=a.return}r=a}ba(e,t,n.children,i),t=t.child}return t;case 9:return n=t.type,s=t.pendingProps.children,To(t,i),s=s(n=Mo(n)),t.flags|=1,ba(e,t,s,i),t.child;case 14:return n=ia(s=t.type,t.pendingProps),ya(e,t,s,n=ia(s.type,n),i);case 15:return Ra(e,t,t.type,t.pendingProps,i);case 17:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:ia(s,n),za(e,t),t.tag=1,xn(s)?(e=!0,Vn(t)):e=!1,To(t,i),ra(t,s,n),la(t,s,n,i),Pa(null,t,s,!0,e,i);case 19:return Wa(e,t,i);case 22:return Aa(e,t,i)}throw Error(o(156,t.tag))};var Kd="function"===typeof reportError?reportError:function(e){console.error(e)};function jd(e){this._internalRoot=e}function $d(e){this._internalRoot=e}function Xd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jd(){}function Zd(e,t,i,s,n){var o=i._reactRootContainer;if(o){var r=o;if("function"===typeof n){var a=n;n=function(){var e=Ud(r);a.call(e)}}zd(t,r,e,n)}else r=function(e,t,i,s,n){if(n){if("function"===typeof s){var o=s;s=function(){var e=Ud(r);o.call(e)}}var r=Wd(t,s,e,0,null,!1,0,"",Jd);return e._reactRootContainer=r,e[pn]=r.current,Hs(8===e.nodeType?e.parentNode:e),cd(),r}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof s){var a=s;s=function(){var e=Ud(l);a.call(e)}}var l=Bd(e,0,!1,null,0,!1,0,"",Jd);return e._reactRootContainer=l,e[pn]=l.current,Hs(8===e.nodeType?e.parentNode:e),cd((function(){zd(t,l,i,s)})),l}(i,t,e,n,s);return Ud(r)}$d.prototype.render=jd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));zd(e,t,null,null)},$d.prototype.unmount=jd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cd((function(){zd(null,e,null,null)})),t[pn]=null}},$d.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var i=0;i<It.length&&0!==t&&t<It[i].priority;i++);It.splice(i,0,e),0===i&&Nt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ut(t.pendingLanes);0!==i&&(Ct(t,1|i),sd(t,Ye()),0===(6&Pl)&&(Wl=Ye()+500,Wn()))}break;case 13:cd((function(){var t=Oo(e,1);if(null!==t){var i=ed();id(t,e,1,i)}})),qd(e,1)}},yt=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)id(t,e,134217728,ed());qd(e,134217728)}},Rt=function(e){if(13===e.tag){var t=td(e),i=Oo(e,t);if(null!==i)id(i,e,t,ed());qd(e,t)}},At=function(){return wt},Ft=function(e,t){var i=wt;try{return wt=e,t()}finally{wt=i}},ye=function(e,t,i){switch(t){case"input":if(J(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var n=Sn(s);if(!n)throw Error(o(90));K(s),J(s,n)}}}break;case"textarea":oe(e,i);break;case"select":null!=(t=i.value)&&ie(e,!!i.multiple,t,!1)}},Pe=dd,ke=cd;var ec={usingClientEntryPoint:!1,Events:[wn,bn,Sn,Ee,De,dd]},tc={findFiberByHostInstance:Cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ic={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{nt=sc.inject(ic),ot=sc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xd(t))throw Error(o(200));return function(e,t,i){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:y,key:null==s?null:""+s,children:e,containerInfo:t,implementation:i}}(e,t,null,i)},t.createRoot=function(e,t){if(!Xd(e))throw Error(o(299));var i=!1,s="",n=Kd;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=Bd(e,1,!1,null,0,i,0,s,n),e[pn]=t.current,Hs(8===e.nodeType?e.parentNode:e),new jd(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return cd(e)},t.hydrate=function(e,t,i){if(!Yd(t))throw Error(o(200));return Zd(null,e,t,!0,i)},t.hydrateRoot=function(e,t,i){if(!Xd(e))throw Error(o(405));var s=null!=i&&i.hydratedSources||null,n=!1,r="",a=Kd;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(n=!0),void 0!==i.identifierPrefix&&(r=i.identifierPrefix),void 0!==i.onRecoverableError&&(a=i.onRecoverableError)),t=Wd(t,null,e,1,null!=i?i:null,n,0,r,a),e[pn]=t.current,Hs(e),s)for(e=0;e<s.length;e++)n=(n=(i=s[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,n]:t.mutableSourceEagerHydrationData.push(i,n);return new $d(t)},t.render=function(e,t,i){if(!Yd(t))throw Error(o(200));return Zd(null,e,t,!1,i)},t.unmountComponentAtNode=function(e){if(!Yd(e))throw Error(o(40));return!!e._reactRootContainer&&(cd((function(){Zd(null,null,e,!1,(function(){e._reactRootContainer=null,e[pn]=null}))})),!0)},t.unstable_batchedUpdates=dd,t.unstable_renderSubtreeIntoContainer=function(e,t,i,s){if(!Yd(i))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zd(e,t,i,!1,s)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,i)=>{var s=i(950);t.createRoot=s.createRoot,t.hydrateRoot=s.hydrateRoot},950:(e,t,i)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=i(730)},153:(e,t,i)=>{var s=i(43),n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,i){var s,o={},d=null,c=null;for(s in void 0!==i&&(d=""+i),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)r.call(t,s)&&!l.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===o[s]&&(o[s]=t[s]);return{$$typeof:n,type:e,key:d,ref:c,props:o,_owner:a.current}}t.jsx=d,t.jsxs=d},202:(e,t)=>{var i=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,f={};function v(e,t,i){this.props=e,this.context=t,this.refs=f,this.updater=i||p}function C(){}function w(e,t,i){this.props=e,this.context=t,this.refs=f,this.updater=i||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},C.prototype=v.prototype;var b=w.prototype=new C;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var S=Array.isArray,y=Object.prototype.hasOwnProperty,R={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function F(e,t,s){var n,o={},r=null,a=null;if(null!=t)for(n in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(r=""+t.key),t)y.call(t,n)&&!A.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(1===l)o.children=s;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];o.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===o[n]&&(o[n]=l[n]);return{$$typeof:i,type:e,key:r,ref:a,props:o,_owner:R.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var D=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,n,o,r){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case s:l=!0}}if(l)return r=r(l=e),e=""===o?"."+P(l,0):o,S(r)?(n="",null!=e&&(n=e.replace(D,"$&/")+"/"),k(r,t,n,"",(function(e){return e}))):null!=r&&(E(r)&&(r=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(D,"$&/")+"/")+e)),t.push(r)),1;if(l=0,o=""===o?".":o+":",S(e))for(var d=0;d<e.length;d++){var c=o+P(a=e[d],d);l+=k(a,t,n,c,r)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=g&&e[g]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),d=0;!(a=e.next()).done;)l+=k(a=a.value,t,n,c=o+P(a,d++),r);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,i){if(null==e)return e;var s=[],n=0;return k(e,s,"","",(function(e){return t.call(i,e,n++)})),s}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var x={current:null},I={transition:null},L={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:I,ReactCurrentOwner:R};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,i){T(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=n,t.Profiler=r,t.PureComponent=w,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=O,t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=m({},e.props),o=e.key,r=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,a=R.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)y.call(t,d)&&!A.hasOwnProperty(d)&&(n[d]=void 0===t[d]&&void 0!==l?l[d]:t[d])}var d=arguments.length-2;if(1===d)n.children=s;else if(1<d){l=Array(d);for(var c=0;c<d;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:i,type:e.type,key:o,ref:r,props:n,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=F,t.createFactory=function(e){var t=F.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return x.current.useCallback(e,t)},t.useContext=function(e){return x.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return x.current.useDeferredValue(e)},t.useEffect=function(e,t){return x.current.useEffect(e,t)},t.useId=function(){return x.current.useId()},t.useImperativeHandle=function(e,t,i){return x.current.useImperativeHandle(e,t,i)},t.useInsertionEffect=function(e,t){return x.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.current.useMemo(e,t)},t.useReducer=function(e,t,i){return x.current.useReducer(e,t,i)},t.useRef=function(e){return x.current.useRef(e)},t.useState=function(e){return x.current.useState(e)},t.useSyncExternalStore=function(e,t,i){return x.current.useSyncExternalStore(e,t,i)},t.useTransition=function(){return x.current.useTransition()},t.version="18.3.1"},43:(e,t,i)=>{e.exports=i(202)},579:(e,t,i)=>{e.exports=i(153)},234:(e,t)=>{function i(e,t){var i=e.length;e.push(t);e:for(;0<i;){var s=i-1>>>1,n=e[s];if(!(0<o(n,t)))break e;e[s]=t,e[i]=n,i=s}}function s(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var s=0,n=e.length,r=n>>>1;s<r;){var a=2*(s+1)-1,l=e[a],d=a+1,c=e[d];if(0>o(l,i))d<n&&0>o(c,l)?(e[s]=c,e[d]=i,s=d):(e[s]=l,e[a]=i,s=a);else{if(!(d<n&&0>o(c,i)))break e;e[s]=c,e[d]=i,s=d}}}return t}function o(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var d=[],c=[],u=1,h=null,g=3,p=!1,m=!1,f=!1,v="function"===typeof setTimeout?setTimeout:null,C="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=s(c);null!==t;){if(null===t.callback)n(c);else{if(!(t.startTime<=e))break;n(c),t.sortIndex=t.expirationTime,i(d,t)}t=s(c)}}function S(e){if(f=!1,b(e),!m)if(null!==s(d))m=!0,I(y);else{var t=s(c);null!==t&&L(S,t.startTime-e)}}function y(e,i){m=!1,f&&(f=!1,C(E),E=-1),p=!0;var o=g;try{for(b(i),h=s(d);null!==h&&(!(h.expirationTime>i)||e&&!k());){var r=h.callback;if("function"===typeof r){h.callback=null,g=h.priorityLevel;var a=r(h.expirationTime<=i);i=t.unstable_now(),"function"===typeof a?h.callback=a:h===s(d)&&n(d),b(i)}else n(d);h=s(d)}if(null!==h)var l=!0;else{var u=s(c);null!==u&&L(S,u.startTime-i),l=!1}return l}finally{h=null,g=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var R,A=!1,F=null,E=-1,D=5,P=-1;function k(){return!(t.unstable_now()-P<D)}function T(){if(null!==F){var e=t.unstable_now();P=e;var i=!0;try{i=F(!0,e)}finally{i?R():(A=!1,F=null)}}else A=!1}if("function"===typeof w)R=function(){w(T)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,x=M.port2;M.port1.onmessage=T,R=function(){x.postMessage(null)}}else R=function(){v(T,0)};function I(e){F=e,A||(A=!0,R())}function L(e,i){E=v((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(y))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return s(d)},t.unstable_next=function(e){switch(g){case 1:case 2:case 3:var t=3;break;default:t=g}var i=g;g=t;try{return e()}finally{g=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=g;g=e;try{return t()}finally{g=i}},t.unstable_scheduleCallback=function(e,n,o){var r=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?r+o:r:o=r,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>r?(e.sortIndex=o,i(c,e),null===s(d)&&e===s(c)&&(f?(C(E),E=-1):f=!0,L(S,o-r))):(e.sortIndex=a,i(d,e),m||p||(m=!0,I(y))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=g;return function(){var i=g;g=t;try{return e.apply(this,arguments)}finally{g=i}}}},853:(e,t,i)=>{e.exports=i(234)}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,i),o.exports}i.m=e,i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,s)=>(i.f[s](e,t),t)),[])),i.u=e=>"static/js/"+e+".7d82fd54.chunk.js",i.miniCssF=e=>{},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="datasets-train:";i.l=(s,n,o,r)=>{if(e[s])e[s].push(n);else{var a,l;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+o){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+o),a.src=s),e[s]=[n];var h=(t,i)=>{a.onerror=a.onload=null,clearTimeout(g);var n=e[s];if(delete e[s],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach((e=>e(i))),t)return t(i)},g=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),i.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/",(()=>{var e={792:0};i.f.j=(t,s)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var o=new Promise(((i,s)=>n=e[t]=[i,s]));s.push(n[2]=o);var r=i.p+i.u(t),a=new Error;i.l(r,(s=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",a.name="ChunkLoadError",a.type=o,a.request=r,n[1](a)}}),"chunk-"+t,t)}};var t=(t,s)=>{var n,o,r=s[0],a=s[1],l=s[2],d=0;if(r.some((t=>0!==e[t]))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(l)l(i)}for(t&&t(s);d<r.length;d++)o=r[d],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},s=self.webpackChunkdatasets_train=self.webpackChunkdatasets_train||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=i(43),n=i(391),o=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const s=t?this.allAsyncListeners:this.allSyncListeners;let n=s.get(e);return!n&&i&&(n=new Set,s.set(e,n)),n}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.getListeners(e,i,!0).add(t)}removeEventListener(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=this.getListeners(e,i,!1);if(s&&(s.delete(t),0===s.size)){(i?this.allAsyncListeners:this.allSyncListeners).delete(e)}}addGlobalListener(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const t=e.event;t instanceof Event&&(e.eventPath=t.composedPath())}const s=(i,s)=>i.forEach((i=>{if(!s.has(i))return;const n=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>i(e))):()=>i(e);t?this.dispatchAsync(n):n()})),n=this.getListeners(i,t,!1)??new Set,o=new Set(n);o.size>0&&s(o,n);new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach((s=>{const n=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>s(i,e))):()=>s(i,e);t?this.dispatchAsync(n):n()}))}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const e=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(e):e(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach((e=>e()))}},r=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(r||{}),a={};function l(e,t){a[t]||(e(),a[t]=!0)}function d(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];console.log("AG Grid: "+e,...i)}function c(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];l((()=>console.warn("AG Grid: "+e,...i)),e+i?.join(""))}function u(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];l((()=>console.error("AG Grid: "+e,...i)),e+i?.join(""))}function h(e){return!!(e&&e.constructor&&e.call&&e.apply)}function g(e){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.length>0&&window.setTimeout((()=>e.forEach((e=>e()))),t)}(e,400)}var p=[],m=!1;function f(e){p.push(e),m||(m=!0,window.setTimeout((()=>{const e=p.slice();p.length=0,m=!1,e.forEach((e=>e()))}),0))}function v(e,t){let i;return function(){for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];const r=this;window.clearTimeout(i),i=window.setTimeout((function(){e.apply(r,n)}),t)}}function C(e,t){let i=0;return function(){const s=(new Date).getTime();if(!(s-i<t)){i=s;for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];e.apply(this,o)}}}function w(e){return null==e||""===e?null:e}function b(e){return null!=e&&(""!==e||arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function S(e){return!b(e)}function y(e){return null==e||0===e.length}function R(e){return null!=e&&"function"===typeof e.toString?e.toString():null}function A(e){if(void 0===e)return;if(null===e||""===e)return null;if("number"===typeof e)return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function F(e){if(void 0!==e)return null!==e&&""!==e&&E(e)}function E(e){return"boolean"===typeof e?e:"string"===typeof e&&("TRUE"===e.toUpperCase()||""==e)}function D(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function P(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=null==e,n=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),s&&n)return 0;if(s)return-1;if(n)return 1;function o(e,t){return e>t?1:e<t?-1:0}if("string"!==typeof e)return o(e,t);if(!i)return o(e,t);try{return e.localeCompare(t)}catch(r){return o(e,t)}}function k(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach((e=>t.push(e))),t}return Object.values(e)}function T(e,t){return e.get("rowModelType")===t}function M(e){return T(e,"clientSide")}function x(e){return T(e,"serverSide")}function I(e,t){return e.get("domLayout")===t}function L(e){return void 0!==de(e)}function O(e){return!e.get("suppressAsyncEvents")}function V(e){return"function"===typeof e.get("getRowHeight")}function N(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0;if(null==s&&(s=e.environment.getDefaultRowHeight()),V(e)){if(i)return{height:s,estimated:!0};const n={node:t,data:t.data},o=e.getCallback("getRowHeight")(n);if(_(o))return 0===o&&c("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,o),estimated:!1}}if(t.detail&&e.get("masterDetail"))return function(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");if(_(t))return{height:t,estimated:!1};return{height:300,estimated:!1}}(e);const n=e.get("rowHeight");return{height:n&&_(n)?n:s,estimated:!1}}function G(e){const{environment:t}=e,i=e.get("rowHeight");if(!i||S(i))return t.getDefaultRowHeight();const s=t.refreshRowHeightVariable();return-1!==s?s:(c("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function _(e){return!isNaN(e)&&"number"===typeof e&&isFinite(e)}function B(e,t,i){const s=t[e.getDomDataKey()];return s?s[i]:void 0}function H(e,t,i,s){const n=e.getDomDataKey();let o=t[n];S(o)&&(o={},t[n]=o),o[i]=s}function W(e){let t=null;const i=e.get("getDocument");return i&&b(i)?t=i():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&b(t)?t:document}function z(e){return W(e).defaultView||window}function U(e){return e.eGridDiv.getRootNode()}function Q(e){return U(e).activeElement}function q(e){const t=W(e),i=Q(e);return null===i||i===t.body}function K(e){return!e.get("ensureDomOrder")&&e.get("animateRows")}function j(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||I(e,"print"))}function $(e){const t=e.get("autoGroupColumnDef");return!t?.comparator&&!e.get("treeData")}function X(e){const t=e.get("groupAggFiltering");return"function"===typeof t?e.getCallback("groupAggFiltering"):!0===t?()=>!0:void 0}function Y(e){const t=e.get("grandTotalRow");if(t)return t;return e.get("groupIncludeTotalFooter")?"bottom":void 0}function J(e){const t=e.get("groupTotalRow");if("function"===typeof t)return e.getCallback("groupTotalRow");if(t)return()=>t;const i=e.get("groupIncludeFooter");if("function"===typeof i){const t=e.getCallback("groupIncludeFooter");return e=>t(e)?"bottom":void 0}return()=>i?"bottom":void 0}function Z(e){return e.exists("groupDisplayType")?"multipleColumns"===e.get("groupDisplayType"):e.get("groupHideOpenParents")}function ee(e,t){return!t&&"groupRows"===e.get("groupDisplayType")}function te(e){const t=e.getCallback("getRowId");return void 0===t?t:e=>{let i=t(e);return"string"!==typeof i&&(c("The getRowId callback must return a string. The ID ",i," is being cast to a string."),i=String(i)),i}}function ie(e){return e?.checkboxes??!0}function se(e){return"multiRow"===e?.mode&&(e.headerCheckbox??!0)}function ne(e){const t=e.get("cellSelection");return void 0!==t?!!t:e.get("enableRangeSelection")}function oe(e){const t=e.get("cellSelection");return void 0!==t?"boolean"!==typeof t&&"fill"===t.handle?.mode:e.get("enableFillHandle")}function re(e){const t=e.get("rowSelection")??"single";if("string"===typeof t){const t=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return(!t||!i)&&(t?"enableDeselection":!i||"enableSelection")}return("singleRow"===t.mode||"multiRow"===t.mode)&&(t.enableClickSelection??!1)}function ae(e){const t=re(e);return!0===t||"enableDeselection"===t}function le(e){const t=e.get("rowSelection");return"string"===typeof t?e.get("isRowSelectable"):t?.isRowSelectable}function de(e){const t=e.get("rowSelection");if("string"===typeof t)switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t?.mode}function ce(e){return"multiRow"===de(e)}function ue(e){const t=e.get("rowSelection");if("string"===typeof t){const t=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return t&&i?"filteredDescendants":t?"descendants":"self"}return"multiRow"===t?.mode?t.groupSelects:void 0}function he(e){const t=ue(e);return"descendants"===t||"filteredDescendants"===t}function ge(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function pe(e){if(e&&e.length)return e[e.length-1]}function me(e,t,i){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every(((e,s)=>i?i(e,t[s]):t[s]===e))}function fe(e,t){const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function ve(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function Ce(e,t,i){e.splice(i,0,t)}function we(e,t,i){!function(e,t){for(let i=0;i<t.length;i++)ve(e,t[i])}(e,t),t.slice().reverse().forEach((t=>Ce(e,t,i)))}function be(e,t){return e.indexOf(t)>-1}function Se(e,t){null!=t&&null!=e&&t.forEach((t=>e.push(t)))}var ye="__ag_Grid_Stop_Propagation",Re=["touchstart","touchend","touchmove","touchcancel","scroll"],Ae={};function Fe(e){e[ye]=!0}function Ee(e){return!0===e[ye]}var De=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t=>{if("boolean"===typeof Ae[t])return Ae[t];const i=document.createElement(e[t]||"div");return Ae[t="on"+t]=t in i}})();function Pe(e,t,i){let s=t;for(;s;){const t=B(e,s,i);if(t)return t;s=s.parentElement}return null}function ke(e,t){return!(!t||!e)&&function(e){const t=e;if(t.path)return t.path;if(t.composedPath)return t.composedPath();return function(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}(t)}(t).indexOf(e)>=0}var Te=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new o),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.localEventService&&this.localEventService.removeEventListener(e,t,i)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const i=[];for(const s in t){const n=t[s];n&&i.push(this._setupListener(e,s,n))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;e instanceof HTMLElement?function(e,t,i,s){const n=be(Re,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,s,n)}(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);const s=()=>(e.removeEventListener(t,i),null);return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter((e=>e!==s)),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const i=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter((e=>e!==i)),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,s=e=>{if(e.changeSet){if(e.changeSet&&e.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=e.changeSet.id}const s={type:"gridPropertyChanged",changeSet:e.changeSet,source:e.source};t(s)};e.forEach((e=>this.setupGridOptionListener(e,s)))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Me(e){return e instanceof xe}var xe=class extends Te{constructor(e,t,i,s){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=Ze(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=s}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some((e=>e.isVisible()))}isPadding(){return this.padding}setExpanded(e){this.expanded=void 0!==e&&e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach((t=>{et(t)?e.push(t):Me(t)&&t.addLeafColumns(e)}))}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((t=>t.addEventListener("visibleChanged",e))),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach((t=>t.removeEventListener("visibleChanged",e))),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1;const s=this.findChildrenRemovingPadding();for(let o=0,r=s.length;o<r;o++){const n=s[o];if(!n.isVisible())continue;const r=n.getColumnGroupShow();"open"===r?(e=!0,i=!0):"closed"===r?(t=!0,i=!0):(e=!0,t=!0)}const n=e&&t&&i;this.expandable!==n&&(this.expandable=n,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=i=>{i.forEach((i=>{Me(i)&&i.isPadding()?t(i.children):e.push(i)}))};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},Ie="ag-Grid-ControlsColumn",Le=class extends Te{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){const e=this.gos.get("rowSelection");if(!e||"string"===typeof e)return[];const t=ie(e),i=se(e);if(t||i){const e=this.gos.get("selectionColumnDef"),t={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:this.gos.get("enableRtl")?"right":"left",comparator(e,t,i,s){const n=i.isSelected(),o=s.isSelected();return n&&o?0:n?1:-1},editable:!1,suppressFillHandle:!0,...e,colId:`${Ie}`},i=new tt(t,null,t.colId,!1);return this.createBean(i),[i]}return[]}},Oe="ag-Grid-AutoColumn";function Ve(e){const t=[],i=e=>{for(let s=0;s<e.length;s++){const n=e[s];et(n)?t.push(n):Me(n)&&i(n.getChildren())}};return i(e),t}function Ne(e){return e.reduce(((e,t)=>e+t.getActualWidth()),0)}function Ge(e,t,i){const s={};if(!t)return;ot(null,t,(e=>{s[e.getInstanceId()]=e})),i&&ot(null,i,(e=>{s[e.getInstanceId()]=null}));const n=Object.values(s).filter((e=>null!=e));e.destroyBeans(n)}function _e(e){return e.getId().startsWith(Oe)}function Be(e){return e.getColId().startsWith(Ie)}function He(e){let t=[];if(e instanceof Array){e.some((e=>"string"!==typeof e))?c("if colDef.type is supplied an array it should be of type 'string[]'"):t=e}else"string"===typeof e?t=e.split(","):c("colDef.type should be of type 'string' | 'string[]'");return t}var We=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=t=>{this.frameworkOverrides.wrapOutgoing((()=>e(t)))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(t,i)=>{this.frameworkOverrides.wrapOutgoing((()=>e(t,i)))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}},ze=new Set(["__proto__","constructor","prototype"]);function Ue(e,t){if(null!=e)if(Array.isArray(e))for(let i=0;i<e.length;i++)t(i.toString(),e[i]);else for(const[i,s]of Object.entries(e))t(i,s)}function Qe(e){const t={},i=Object.keys(e);for(let s=0;s<i.length;s++){if(ze.has(i[s]))continue;const n=i[s],o=e[n];t[n]=o}return t}function qe(e,t){if(!e)return;const i=e,s={};return Object.keys(i).forEach((e=>{if(t&&t.indexOf(e)>=0||ze.has(e))return;const n=i[e],o=Xe(n)&&n.constructor===Object;s[e]=o?qe(n):n})),s}function Ke(e){if(!e)return[];const t=Object;if("function"===typeof t.values)return t.values(e);const i=[];for(const s in e)e.hasOwnProperty(s)&&e.propertyIsEnumerable(s)&&i.push(e[s]);return i}function je(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];b(t)&&Ue(t,((t,n)=>{if(ze.has(t))return;let o=e[t];if(o!==n){if(s){if(null==o&&null!=n){"object"===typeof n&&n.constructor===Object&&(o={},e[t]=o)}}Xe(n)&&Xe(o)&&!Array.isArray(o)?je(o,n,i,s):(i||void 0!==n)&&(e[t]=n)}}))}function $e(e,t,i){if(!t||!e)return;if(!i)return e[t];const s=t.split(".");let n=e;for(let o=0;o<s.length;o++){if(null==n)return;n=n[s[o]]}return n}function Xe(e){return"object"===typeof e&&null!==e}var Ye={resizable:!0,sortable:!0},Je=0;function Ze(){return Je++}function et(e){return e instanceof tt}var tt=class extends Te{constructor(e,t,i,s){super(),this.isColumn=!0,this.instanceId=Ze(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new o,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=s,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){void 0!==e.sort?"asc"!==e.sort&&"desc"!==e.sort||(this.sort=e.sort):"asc"!==e.initialSort&&"desc"!==e.initialSort||(this.sort=e.initialSort);const t=e.sortIndex,i=e.initialSortIndex;void 0!==t?null!==t&&(this.sortIndex=t):null!==i&&(this.sortIndex=i);const s=e.hide,n=e.initialHide;this.visible=void 0!==s?!s:!n,void 0!==e.pinned?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const o=e.flex,r=e.initialFlex;void 0!==o?this.flex=o:void 0!==r&&(this.flex=r)}setColDef(e,t,i){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=b(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=b(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=b(this.colDef.tooltipField)||b(this.colDef.tooltipValueGetter)||b(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const i=A(e.width),s=A(e.initialWidth);return t=null!=i?i:null!=s?s:200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(S(this.colDef)||S(this.colDef.showRowGroup))return!1;const t=!0===this.colDef.showRowGroup,i=this.colDef.showRowGroup===e;return t||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new We(this.frameworkOverrides));const i=this.frameworkEventListenerService?.wrap(t)??t;this.columnEventService.addEventListener(e,i)}removeEventListener(e,t){const i=this.frameworkEventListenerService?.unwrap(t)??t;this.columnEventService.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){const t=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1}isCellEditable(e){if(e.group)if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1;return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const t=this.gos.get("rowSelection");if(t&&"string"!==typeof t){const i=Be(this)&&ie(t);return this.isColumnFunc(e,i)}return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Ye[e]}isColumnFunc(e,t){if("boolean"===typeof t)return t;if("function"===typeof t){return t(this.createColumnFunctionCallbackParams(e))}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return S(this.sort)}isSorting(){return b(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,i){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const s=this.createColumnEvent("filterChanged",t);i&&je(s,i),this.columnEventService.dispatchEvent(s)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){this.pinned=!0===e||"left"===e?"left":"right"===e?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(e,t){const i=!0===e;this.visible!==i&&(this.visible=i,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(S(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(S(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},it={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},st=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=R(e);let i=0;for(;;){let s;if(e?(s=e,0!==i&&(s+="_"+i)):t?(s=t,0!==i&&(s+="_"+i)):s=i,!this.existingKeys[s])return this.existingKeys[s]=!0,String(s);i++}}},nt=class extends Te{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,i,s){const n=new st,{existingCols:o,existingGroups:r,existingColKeys:a}=this.extractExistingTreeData(i);n.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,o,n,r,s),d=this.findMaxDept(l,0),c=this.balanceColumnTree(l,0,d,n);return ot(null,c,((e,t)=>{Me(e)&&e.setupExpandable(),e.setOriginalParent(t)})),{columnTree:c,treeDept:d}}extractExistingTreeData(e){const t=[],i=[],s=[];return e&&ot(null,e,(e=>{if(Me(e)){const t=e;i.push(t)}else{const i=e;s.push(i.getId()),t.push(i)}})),{existingCols:t,existingGroups:i,existingColKeys:s}}balanceTreeForAutoCols(e,t){const i=[],s=this.findDepth(t);return e.forEach((e=>{let t=e;for(let i=s-1;i>=0;i--){const s=new xe(null,`FAKE_PATH_${e.getId()}}_${i}`,!0,i);this.createBean(s),s.setChildren([t]),t.setOriginalParent(s),t=s}0===s&&e.setOriginalParent(null),i.push(t)})),[i,s]}findDepth(e){let t=0,i=e;for(;i&&i[0]&&Me(i[0]);)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,s){const n=[];for(let o=0;o<e.length;o++){const r=e[o];if(Me(r)){const e=r,o=this.balanceColumnTree(e.getChildren(),t+1,i,s);e.setChildren(o),n.push(e)}else{let o,a;for(let e=i-1;e>=t;e--){const e=s.getUniqueKey(null,null),i=this.createMergedColGroupDef(null),n=new xe(i,e,!0,t);this.createBean(n),a&&a.setChildren([n]),a=n,o||(o=a)}if(o&&a){n.push(o);if(e.some((e=>Me(e)))){a.setChildren([r]);continue}a.setChildren(e);break}n.push(r)}}return n}findMaxDept(e,t){let i=t;for(let s=0;s<e.length;s++){const n=e[s];if(Me(n)){const e=n,s=this.findMaxDept(e.getChildren(),t+1);i<s&&(i=s)}}return i}recursivelyCreateColumns(e,t,i,s,n,o,r){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const d=e[l];this.isColumnGroup(d)?a[l]=this.createColumnGroup(i,d,t,s,n,o,r):a[l]=this.createColumn(i,d,s,n,r)}return a}createColumnGroup(e,t,i,s,n,o,r){const a=this.createMergedColGroupDef(t),l=n.getUniqueKey(a.groupId||null,null),d=new xe(a,l,!1,i);this.createBean(d);const c=this.findExistingGroup(t,o);c&&o.splice(c.idx,1);const u=c?.group;u&&d.setExpanded(u.isExpanded());const h=this.recursivelyCreateColumns(a.children,i+1,e,s,n,o,r);return d.setChildren(h),d}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,s,n){const o=this.findExistingColumn(t,i);o&&i?.splice(o.idx,1);let r=o?.column;if(r){const e=this.addColumnDefaultAndTypes(t,r.getColId());r.setColDef(e,t,n),this.applyColumnState(r,e,n)}else{const i=s.getUniqueKey(t.colId,t.field),n=this.addColumnDefaultAndTypes(t,i);r=new tt(n,t,i,e),this.createBean(r)}return this.dataTypeService?.addColumnListeners(r),r}applyColumnState(e,t,i){const s=A(t.flex);void 0!==s&&e.setFlex(s);if(e.getFlex()<=0){const s=A(t.width);if(null!=s)e.setActualWidth(s,i);else{const t=e.getActualWidth();e.setActualWidth(t,i)}}void 0!==t.sort&&("asc"==t.sort||"desc"==t.sort?e.setSort(t.sort,i):e.setSort(void 0,i));const n=A(t.sortIndex);void 0!==n&&e.setSortIndex(n);const o=F(t.hide);void 0!==o&&e.setVisible(!o,i),void 0!==t.pinned&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){const s=t[i].getUserProvidedColDef();if(!s)continue;if(null!=e.colId){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(null!=e.field){if(s.field===e.field)return{idx:i,column:t[i]}}else if(s===e)return{idx:i,column:t[i]}}}findExistingGroup(e,t){if(null!=e.groupId)for(let i=0;i<t.length;i++){const s=t[i];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:i,group:s}}}addColumnDefaultAndTypes(e,t){const i={};je(i,this.gos.get("defaultColDef"),!1,!0);const s=this.updateColDefAndGetColumnType(i,e,t);s&&this.assignColumnTypes(s,i),je(i,e,!1,!0);const n=this.gos.get("autoGroupColumnDef"),o=$(this.gos);return e.rowGroup&&n&&o&&je(i,{sort:n.sort,initialSort:n.initialSort},!1,!0),this.dataTypeService?.validateColDef(i),i}updateColDefAndGetColumnType(e,t,i){const s=this.dataTypeService?.updateColDefAndGetColumnType(e,t,i),n=t.type??s??e.type;return e.type=n,n?He(n):void 0}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},it);Ue(this.gos.get("columnTypes")||{},((e,t)=>{if(e in i)c(`the column type '${e}' is a default column type and cannot be overridden.`);else{t.type&&c("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[e]=t}})),e.forEach((e=>{const s=i[e.trim()];s?je(t,s,!1,!0):c("colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")}))}isColumnGroup(e){return void 0!==e.children}};function ot(e,t,i){if(t)for(let s=0;s<t.length;s++){const n=t[s];Me(n)&&ot(n,n.getChildren(),i),i(n,e)}}var rt=class extends Te{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],(e=>this.refreshAll(at(e.source)))),this.addManagedPropertyListener("rowSelection",(e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,at(e.source))})),this.addManagedPropertyListener("autoGroupColumnDef",(e=>this.onAutoGroupColumnDefChanged(at(e.source)))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],(e=>this.recreateColumnDefs(at(e.source)))),this.addManagedPropertyListener("pivotMode",(e=>this.setPivotMode(this.gos.get("pivotMode"),at(e.source)))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){const t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const i=this.colDefCols?.list,s=this.colDefCols?.tree,n=this.columnFactory.createColumnTree(this.colDefs,!0,s,e);Ge(this.context,this.colDefCols?.tree,n.columnTree);const o=n.columnTree,r=n.treeDept,a=Ve(o),l={};a.forEach((e=>l[e.getId()]=e)),this.colDefCols={tree:o,treeDepth:r,list:a,map:l},this.funcColsService.extractCols(e,i),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),"gridInitializing"===e&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const i=(s=this.gos,this.showingPivotResult?!s.get("enableStrictPivotColumnOrder"):s.get("maintainColumnOrder"));var s;e&&!i||this.restoreColOrder(),this.positionLockedCols(),this.showRowGroupColsService?.refresh(),this.quickFilterService?.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear();!me(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=null!=e,e){const{map:t,list:i,tree:s,treeDepth:n}=e;this.cols={list:i.slice(),map:{...t},tree:s.slice(),treeDepth:n};e.list.some((e=>void 0!==this.cols?.map[e.getColId()]))||(this.lastPivotOrder=null)}else{const{map:e,list:t,tree:i,treeDepth:s}=this.colDefCols;this.cols={list:t.slice(),map:{...e},tree:i.slice(),treeDepth:s}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter((i=>{const s=_e(i);if(e){const e=t&&be(t,i);return s||e}return s||i.isVisible()}))}addAutoCols(){null!=this.autoCols&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),lt(this.cols))}createAutoCols(){const e=ee(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),i=this.funcColsService.getRowGroupColumns(),s=()=>{this.autoCols&&(Ge(this.context,this.autoCols.tree),this.autoCols=null)};if(!(i.length>0||this.gos.get("treeData"))||t||e||!this.autoColService)return void s();const n=this.autoColService.createAutoCols(i)??[],o=(r=n,a=this.autoCols?.list||null,me(r,a,((e,t)=>e.getColId()===t.getColId())));var r,a;const l=this.cols.treeDepth,d=this.autoCols?this.autoCols.treeDepth:-1;if(o&&d==l)return;s();const[c,u]=this.columnFactory.balanceTreeForAutoCols(n,this.cols?.tree);this.autoCols={list:n,tree:c,treeDepth:u,map:{}};const h=e=>{if(!e)return null;const t=e.filter((e=>!_e(e)));return[...n,...t]};this.lastOrder=h(this.lastOrder),this.lastPivotOrder=h(this.lastPivotOrder)}createControlsCols(){Ge(this.context,this.controlsCols?.tree),this.controlsCols=null;const e=this.controlsColService?.createControlsCols()??[],[t,i]=this.columnFactory.balanceTreeForAutoCols(e,this.cols.tree);function s(e,t){const i=Be(e),s=Be(t);return i&&!s?-1:!i&&s?1:0}this.controlsCols={list:e,tree:t,treeDepth:i,map:{}},this.lastOrder?.sort(s),this.lastPivotOrder?.sort(s)}addControlsCols(){null!=this.controlsCols&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),lt(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;this.columnApplyStateService.applyColumnState({state:e.map((e=>({colId:"string"===typeof e?e:e.getColId(),hide:!t})))},i)}setColsPinned(e,t,i){if(!this.cols)return;if(y(e))return;if(I(this.gos,"print"))return void c("Changing the column pinning status is not allowed with domLayout='print'");let s;this.columnAnimationService.start(),s=!0===t||"left"===t?"left":"right"===t?"right":null;const n=[];e.forEach((e=>{if(!e)return;const t=this.getCol(e);t&&t.getPinned()!==s&&(t.setPinned(s),n.push(t))})),n.length&&(this.visibleColsService.refresh(i),this.eventDispatcher.columnPinned(n,i)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let s;s=Me(e)?e.getId():e||"",this.columnGroupStateService.setColumnGroupState([{groupId:s,open:t}],i)}getProvidedColGroup(e){let t=null;return ot(null,this.cols?.tree,(i=>{Me(i)&&i.getId()===e&&(t=i)})),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||0===t)return!1;if(-1===t)return!0;return t>this.funcColsService.getRowGroupColumns().findIndex((t=>t.getColId()===e.getColId()))}isSuppressAutoCol(){if("custom"===this.gos.get("groupDisplayType"))return!0;return"custom"===this.gos.get("treeDataDisplayType")}setAutoHeightActive(){if(this.autoHeightActive=this.cols.list.some((e=>e.isVisible()&&e.isAutoHeight())),this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;M(this.gos)||x(this.gos)||c("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map(((e,t)=>[e,t])));if(!this.cols.list.some((e=>t.has(e))))return;const i=new Map(this.cols.list.map((e=>[e,!0]))),s=e.filter((e=>i.has(e))),n=new Map(s.map((e=>[e,!0]))),o=this.cols.list.filter((e=>!n.has(e))),r=s.slice();o.forEach((e=>{let t=e.getOriginalParent();if(!t)return void r.push(e);const i=[];for(;!i.length&&t;){t.getLeafColumns().forEach((e=>{const t=r.indexOf(e)>=0,s=i.indexOf(e)<0;t&&s&&i.push(e)})),t=t.getOriginalParent()}if(!i.length)return void r.push(e);const s=i.map((e=>r.indexOf(e))),n=Math.max(...s);Ce(r,e,n+1)})),this.cols.list=r}sortColsLikeKeys(e){if(null==this.cols)return;let t=[];const i={};e.forEach((e=>{if(i[e])return;const s=this.cols.map[e];s&&(t.push(s),i[e]=!0)}));let s=0;this.cols.list.forEach((e=>{const n=e.getColId();if(null!=i[n])return;n.startsWith(Oe)?Ce(t,e,s++):t.push(e)})),t=this.columnMoveService.placeLockedColumns(t),this.columnMoveService.doesMovePassMarryChildren(t)?this.cols.list=t:c("Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}sortColsLikeCols(e){if(!e||e.length<=1)return;e.filter((e=>this.cols.list.indexOf(e)<0)).length>0||e.sort(((e,t)=>this.cols.list.indexOf(e)-this.cols.list.indexOf(t)))}resetColDefIntoCol(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const s=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(s,i,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach((e=>e())),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,i){we(this.cols?.list,e,t),this.visibleColsService.refresh(i)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list:this.lastOrder=this.cols?.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort(((e,t)=>this.lastOrder.indexOf(e)-this.lastOrder.indexOf(t))):this.lastOrder&&e.sort(((e,t)=>this.cols.list.indexOf(e)-this.cols.list.indexOf(t)));const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,i)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){return this.colDefCols?.treeDepth>0}setColSpanActive(){this.colSpanActive=this.cols.list.some((e=>null!=e.getColDef().colSpan))}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return!e||!this.gos.get("treeData")||(c("Pivot mode not available with treeData."),!1)}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!y(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){Ge(this.context,this.colDefCols?.tree),Ge(this.context,this.autoCols?.tree),Ge(this.context,this.controlsCols?.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){return this.colDefCols?.list?this.colDefCols.list:null}getCols(){return this.cols?.list??[]}getAllCols(){const e=this.pivotResultColsService.getPivotResultCols(),t=e?.list;return[this.colDefCols?.list??[],this.autoCols?.list??[],this.controlsCols?.list??[],t??[]].flat()}getColsForKeys(e){return e?e.map((e=>this.getCol(e))).filter((e=>null!=e)):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return null==e?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(null==t)return null;const{map:i,list:s}=t;if("string"==typeof e&&i[e])return i[e];for(let n=0;n<s.length;n++)if(dt(s[n],e))return s[n];return this.getAutoCol(e)}getAutoCol(e){return this.autoCols?.list.find((t=>dt(t,e)))??null}getAutoCols(){return this.autoCols?.list??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const i of t){if(!i)continue;const t=i.getGroupRowCount()||0;for(let s=0;s<t;s++){const t=i.getGroupRowCtrlAtIndex(s),n=e[s];if(t){const i=this.getColumnGroupHeaderRowHeight(t);(null==n||i>n)&&(e[s]=i)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let i=0;const s=e.getHeaderCtrls();for(const n of s){const e=n.getColumn();if(e.isAutoHeaderHeight()){const t=e.getAutoHeaderHeight();null!=t&&t>i&&(i=t)}}return Math.max(t,i)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.visibleColsService.getAllCols().filter((e=>e.isAutoHeaderHeight())).map((e=>e.getAutoHeaderHeight()||0));return Math.max(e,...t)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if("fitCellContents"!==e?.type)return;const{colIds:t,skipHeader:i}=e;setTimeout((()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)}))}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,i){if("string"===typeof e||"string"===typeof t)return;const s=(t?ie(t):void 0)!==(e?ie(e):void 0),n=t?se(t):void 0,o=e?se(e):void 0;(s||n!==o)&&this.refreshAll(i)}};function at(e){return"gridOptionsUpdated"===e?"gridOptionsChanged":e}function lt(e){e.map={},e.list.forEach((t=>e.map[t.getId()]=t))}function dt(e,t){const i=e===t,s=e.getColDef()===t,n=e.getColId()==t;return i||s||n}var ct=class extends Te{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.autoSizeCols(e)));const{colKeys:t,skipHeader:i,skipHeaderGroups:s,stopAtGroup:n,source:o="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered())return this.timesDelayed++,void setTimeout((()=>this.autoSizeCols(e)));this.timesDelayed=0;const r=[];let a=-1;const l=null!=i?i:this.gos.get("skipHeaderOnAutoSize"),d=null!=s?s:l;for(;0!==a;){a=0;const e=[];t.forEach((t=>{if(!t)return;const i=this.columnModel.getCol(t);if(!i)return;if(r.indexOf(i)>=0)return;const s=this.autoWidthCalculator.getPreferredWidthForColumn(i,l);if(s>0){const e=this.normaliseColumnWidth(i,s);i.setActualWidth(e,o),r.push(i),a++}e.push(i)})),e.length&&this.visibleColsService.refresh(o)}d||this.autoSizeColumnGroupsByColumns(t,o,n),this.eventDispatcher.columnResized(r,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const s=new Set;let n;this.columnModel.getColsForKeys(e).forEach((e=>{let t=e.getParent();for(;t&&t!=i;)t.isPadding()||s.add(t),t=t.getParent()}));for(const o of s){for(const e of this.ctrlsService.getHeaderRowContainerCtrls())if(n=e.getHeaderCtrlForColumn(o),n)break;n&&n.resizeLeafColumnsToFit(t)}return[]}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.autoSizeAllColumns(e,t)));const i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const i=e.getMinWidth();t<i&&(t=i);const s=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=s),t}},ut=class extends Te{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>ve(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>ve(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>ve(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupCols.slice(0);const i=this.columnModel.getColDefCol(t);return i?[i]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return y(this.rowGroupCols)}setColumnAggFunc(e,t,i){if(!e)return;const s=this.columnModel.getColDefCol(e);s&&(s.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[s],i))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,((e,i)=>this.setRowGroupActive(e,i,t)),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,i),e||this.gos.get("suppressMakeColumnVisibleAfterUnGroup")||this.columnModel.setColsVisible([t],!0,i))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,(e=>this.setRowGroupActive(!0,e,t)),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,(e=>this.setRowGroupActive(!1,e,t)),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,(e=>e.setPivotActive(!0,t)),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,((e,i)=>{i.setPivotActive(e,t)}),t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,(e=>e.setPivotActive(!1,t)),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,((e,i)=>this.setValueActive(e,i,t)),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc()&&this.aggFuncService)){const e=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(e)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,(e=>this.setValueActive(!0,e,t)),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,(e=>this.setValueActive(!1,e,t)),"columnValueChanged",t)}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;const s=this.rowGroupCols[e],n=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,s),this.eventDispatcher.rowGroupChanged(n,i)}setColList(e,t,i,s,n,o,r){if(y(this.columnModel.getCols()))return;const a=new Map;t.forEach(((e,t)=>a.set(e,t))),t.length=0,b(e)&&e.forEach((e=>{const i=this.columnModel.getColDefCol(e);i&&t.push(i)})),t.forEach(((e,t)=>{const i=a.get(e);void 0!==i?s&&i!==t||a.delete(e):a.set(e,0)}));(this.columnModel.getColDefCols()||[]).forEach((e=>{const i=t.indexOf(e)>=0;o(i,e)})),n&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(r),this.eventDispatcher.columnChanged(i,[...a.keys()],r)}updateColList(e,t,i,s,n,o,r){if(!e||y(e))return;let a=!1;const l=new Set;e.forEach((e=>{if(!e)return;const s=this.columnModel.getColDefCol(e);if(s){if(l.add(s),i){if(t.indexOf(s)>=0)return;t.push(s)}else{const e=t.indexOf(s);if(e<0)return;for(let i=e+1;i<t.length;i++)l.add(t[i]);ve(t,s)}n(s),a=!0}})),a&&(s&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(r),this.eventDispatcher.genericColumnEvent(o,Array.from(l),r))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,((t,i)=>t.setValueActive(i,e)),(()=>{}),(()=>{}),(e=>{const t=e.aggFunc;return null===t||""===t?null:void 0!==t?!!t:void 0}),(e=>null!=e.initialAggFunc&&""!=e.initialAggFunc)),this.valueCols.forEach((e=>{const t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?e.setAggFunc(t.aggFunc):e.getAggFunc()||e.setAggFunc(t.initialAggFunc)}))}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,((t,i)=>t.setRowGroupActive(i,e)),(e=>e.rowGroupIndex),(e=>e.initialRowGroupIndex),(e=>e.rowGroup),(e=>e.initialRowGroup))}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,((t,i)=>t.setPivotActive(i,e)),(e=>e.pivotIndex),(e=>e.initialPivotIndex),(e=>e.pivot),(e=>e.initialPivot))}extractColsCommon(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0;const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach((i=>{const d=e.indexOf(i)<0,c=i.getColDef(),u=F(o(c)),h=F(r(c)),g=A(s(c)),p=A(n(c));let m;if(m=void 0!==u?u:void 0!==g?null!==g&&g>=0:d?void 0!==h?h:!!(void 0!==p)&&(null!=p&&p>=0):t.indexOf(i)>=0,m){(d?null!=g||null!=p:null!=g)?a.push(i):l.push(i)}}));const d=e=>{const t=s(e.getColDef()),i=n(e.getColDef());return null!=t?t:i};a.sort(((e,t)=>{const i=d(e),s=d(t);return i===s?0:i<s?-1:1}));const c=[].concat(a);return t.forEach((e=>{l.indexOf(e)>=0&&c.push(e)})),l.forEach((e=>{c.indexOf(e)<0&&c.push(e)})),t.forEach((e=>{c.indexOf(e)<0&&i(e,!1)})),c.forEach((e=>{t.indexOf(e)<0&&i(e,!0)})),c}generateColumnStateForRowGroupAndPivotIndexes(e,t){const i={},s=(e,t,s,n,o,r)=>{const a=this.columnModel.getColDefCols();if(!t.length||!a)return[];const l=Object.keys(e),d=new Set(l),c=new Set(l),u=new Set(t.map((e=>{const t=e.getColId();return c.delete(t),t})).concat(l)),h=[],g={};let p=0;for(let i=0;i<a.length;i++){const e=a[i].getColId();u.has(e)&&(h.push(e),g[e]=p++)}let m=1e3,f=!1,v=0;const C=t=>{const i=g[t];for(let s=v;s<i;s++){const t=h[s];c.has(t)&&(e[t][o]=m++,c.delete(t))}v=i};t.forEach((t=>{const a=t.getColId();if(d.has(a))C(a),e[a][o]=m++;else{const l=t.getColDef();if(null===l[o]||void 0===l[o]&&null==l[r]){if(!f){l[s]||void 0===l[s]&&l[n]?C(a):(c.forEach((t=>{e[t][o]=m+g[t]})),m+=h.length,f=!0)}i[a]||(i[a]={colId:a}),i[a][o]=m++}}}))};return s(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}},ht=class extends Te{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const i=this.columnModel.getColDefCols()||[];if(y(i))return!1;if(e&&e.state&&!e.state.forEach)return c("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const s=this.funcColsService.getModifyColumnsNoEventsCallbacks(),n=(i,n,o)=>{const r=this.compareColumnStatesAndDispatchEvents(t),a=n.slice(),l={},d={},c=[],u=[];let h=0;const g=this.funcColsService.getRowGroupColumns().slice(),p=this.funcColsService.getPivotColumns().slice();i.forEach((i=>{const n=i.colId||"";if(n.startsWith(Oe))return c.push(i),void u.push(i);const r=o(n);r?(this.syncColumnWithStateItem(r,i,e.defaultState,l,d,!1,t,s),ve(a,r)):(u.push(i),h+=1)}));const m=i=>this.syncColumnWithStateItem(i,null,e.defaultState,l,d,!1,t,s);a.forEach(m),this.funcColsService.sortRowGroupColumns(gt.bind(this,l,g)),this.funcColsService.sortPivotColumns(gt.bind(this,d,p)),this.columnModel.refreshCols(!1);const f=(this.columnModel.getAutoCols()||[]).slice();return c.forEach((i=>{const n=this.columnModel.getAutoCol(i.colId);ve(f,n),this.syncColumnWithStateItem(n,i,e.defaultState,null,null,!0,t,s)})),f.forEach(m),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),r(),{unmatchedAndAutoStates:u,unmatchedCount:h}};this.columnAnimationService.start();let{unmatchedAndAutoStates:o,unmatchedCount:r}=n(e.state||[],i,(e=>this.columnModel.getColDefCol(e)));if(o.length>0||b(e.defaultState)){const e=this.pivotResultColsService.getPivotResultCols(),t=e?.list;r=n(o,t||[],(e=>this.pivotResultColsService.getPivotResultCol(e))).unmatchedCount}return this.columnAnimationService.finish(),0===r}resetColumnState(e){if(y(this.columnModel.getColDefCols()))return;const t=Ve(this.columnModel.getColDefColTree()),i=[];let s=1e3,n=1e3,o=[];const r=this.columnModel.getAutoCols();r&&(o=o.concat(r)),t&&(o=o.concat(t)),o.forEach((e=>{const t=this.getColumnStateFromColDef(e);S(t.rowGroupIndex)&&t.rowGroup&&(t.rowGroupIndex=s++),S(t.pivotIndex)&&t.pivot&&(t.pivotIndex=n++),i.push(t)})),this.applyColumnState({state:i,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(e,t)=>null!=e?e:null!=t?t:null,i=e.getColDef(),s=t(i.sort,i.initialSort),n=t(i.sortIndex,i.initialSortIndex),o=t(i.hide,i.initialHide),r=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex);let d=t(i.rowGroupIndex,i.initialRowGroupIndex),c=t(i.rowGroup,i.initialRowGroup);null!=d||null!=c&&0!=c||(d=null,c=null);let u=t(i.pivotIndex,i.initialPivotIndex),h=t(i.pivot,i.initialPivot);null!=u||null!=h&&0!=h||(u=null,h=null);const g=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:s,sortIndex:n,hide:o,pinned:r,width:a,flex:l,rowGroup:c,rowGroupIndex:d,pivot:h,pivotIndex:u,aggFunc:g}}syncColumnWithStateItem(e,t,i,s,n,o,r,a){if(!e)return;const l=(e,s)=>{const n={value1:void 0,value2:void 0};let o=!1;return t&&(void 0!==t[e]&&(n.value1=t[e],o=!0),b(s)&&void 0!==t[s]&&(n.value2=t[s],o=!0)),!o&&i&&(void 0!==i[e]&&(n.value1=i[e]),b(s)&&void 0!==i[s]&&(n.value2=i[s])),n},d=l("hide").value1;void 0!==d&&e.setVisible(!d,r);const u=l("pinned").value1;void 0!==u&&e.setPinned(u);const h=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),g=l("flex").value1;if(void 0!==g&&e.setFlex(g),null==g){const t=l("width").value1;null!=t&&null!=h&&t>=h&&e.setActualWidth(t,r)}const p=l("sort").value1;void 0!==p&&("desc"===p||"asc"===p?e.setSort(p,r):e.setSort(void 0,r));const m=l("sortIndex").value1;if(void 0!==m&&e.setSortIndex(m),o||!e.isPrimary())return;const f=l("aggFunc").value1;void 0!==f&&("string"===typeof f?(e.setAggFunc(f),e.isValueActive()||(e.setValueActive(!0,r),a.addValueCol(e))):(b(f)&&c("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,r),a.removeValueCol(e))));const{value1:v,value2:C}=l("rowGroup","rowGroupIndex");void 0===v&&void 0===C||("number"===typeof C||v?(e.isRowGroupActive()||(e.setRowGroupActive(!0,r),a.addGroupCol(e)),s&&"number"===typeof C&&(s[e.getId()]=C)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,r),a.removeGroupCol(e)));const{value1:w,value2:S}=l("pivot","pivotIndex");void 0===w&&void 0===S||("number"===typeof S||w?(e.isPivotActive()||(e.setPivotActive(!0,r),a.addPivotCol(e)),n&&"number"===typeof S&&(n[e.getId()]=S)):e.isPivotActive()&&(e.setPivotActive(!1,r),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach((e=>{null!=e.colId&&t.push(e.colId)})),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},i=this.columnGetStateService.getColumnState(),s={};return i.forEach((e=>{s[e.colId]=e})),()=>{const n=this.columnModel.getAllCols(),o=(t,i,s,n)=>{if(me(i.map(n),s.map(n)))return;const o=new Set(i);s.forEach((e=>{o.delete(e)||o.add(e)}));const r=[...o];this.eventService.dispatchEvent({type:t,columns:r,column:1===r.length?r[0]:null,source:e})},r=e=>{const t=[];return n.forEach((i=>{const n=s[i.getColId()];n&&e(n,i)&&t.push(i)})),t},a=e=>e.getColId();o("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),o("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const l=r(((e,t)=>{const i=null!=e.aggFunc,s=i!=t.isValueActive(),n=i&&e.aggFunc!=t.getAggFunc();return s||n}));l.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",l,e);this.eventDispatcher.columnResized(r(((e,t)=>e.width!=t.getActualWidth())),!0,e);this.eventDispatcher.columnPinned(r(((e,t)=>e.pinned!=t.getPinned())),e);this.eventDispatcher.columnVisible(r(((e,t)=>e.hide==t.isVisible())),e);const d=r(((e,t)=>e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex()));d.length>0&&this.sortController.dispatchSortChangedEvents(e,d),this.normaliseColumnMovedEventForColumnState(i,e)}}normaliseColumnMovedEventForColumnState(e,t){const i=this.columnGetStateService.getColumnState(),s={};i.forEach((e=>s[e.colId]=e));const n={};e.forEach((e=>{s[e.colId]&&(n[e.colId]=!0)}));const o=e.filter((e=>n[e.colId])),r=i.filter((e=>n[e.colId])),a=[];r.forEach(((e,t)=>{const i=o&&o[t];if(i&&i.colId!==e.colId){const e=this.columnModel.getCol(i.colId);e&&a.push(e)}})),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},gt=(e,t,i,s)=>{const n=e[i.getId()],o=e[s.getId()],r=null!=n,a=null!=o;if(r&&a)return n-o;if(r)return-1;if(a)return 1;const l=t.indexOf(i),d=t.indexOf(s),c=l>=0;return c&&d>=0?l-d:c?-1:1},pt=class extends Te{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,i){const s=this.columnModel.getCols();if(!s)return;const n=s[e];this.moveColumns([n],t,i)}moveColumns(e,t,i){let s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const n=this.columnModel.getCols();if(!n)return;if(t>n.length-e.length)return c("tried to insert columns in invalid location, toIndex = ",t),void c("remember that you should not count the moving columns when calculating the new index");this.columnAnimationService.start();const o=this.columnModel.getColsForKeys(e);this.doesMovePassRules(o,t)&&(this.columnModel.moveInCols(o,t,i),this.eventDispatcher.columnMoved({movedColumns:o,source:i,toIndex:t,finished:s})),this.columnAnimationService.finish()}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!!this.doesMovePassMarryChildren(e)&&!!this.doesMovePassLockedPositions(e)}getProposedColumnOrder(e,t){const i=this.columnModel.getCols().slice();return we(i,e,t),i}doesMovePassLockedPositions(e){const t=this.gos.get("enableRtl");let i=t?1:-1,s=!0;return e.forEach((e=>{const n=(o=e.getColDef().lockPosition)?"left"===o||!0===o?-1:1:0;var o;t?n>i&&(s=!1):n<i&&(s=!1),i=n})),s}doesMovePassMarryChildren(e){let t=!0;return ot(null,this.columnModel.getColTree(),(i=>{if(!Me(i))return;const s=i,n=s.getColGroupDef();if(!(n&&n.marryChildren))return;const o=[];s.getLeafColumns().forEach((t=>{const i=e.indexOf(t);o.push(i)}));Math.max.apply(Math,o)-Math.min.apply(Math,o)>s.getLeafColumns().length-1&&(t=!1)})),t}placeLockedColumns(e){const t=[],i=[],s=[];e.forEach((e=>{const n=e.getColDef().lockPosition;"right"===n?s.push(e):"left"===n||!0===n?t.push(e):i.push(e)}));return this.gos.get("enableRtl")?[...s,...i,...t]:[...t,...i,...s]}},mt=/[&<>"']/g,ft={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function vt(e){const t=String.fromCharCode;function i(e,i){return t(e>>i&63|128)}function s(e){if(0==(4294967168&e))return t(e);let s="";return 0==(4294965248&e)?s=t(e>>6&31|192):0==(4294901760&e)?(!function(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),s=t(e>>12&15|224),s+=i(e,6)):0==(4292870144&e)&&(s=t(e>>18&7|240),s+=i(e,12),s+=i(e,6)),s+=t(63&e|128),s}const n=function(e){const t=[];if(!e)return[];const i=e.length;let s,n,o=0;for(;o<i;)s=e.charCodeAt(o++),s>=55296&&s<=56319&&o<i?(n=e.charCodeAt(o++),56320==(64512&n)?t.push(((1023&s)<<10)+(1023&n)+65536):(t.push(s),o--)):t.push(s);return t}(e),o=n.length;let r,a=-1,l="";for(;++a<o;)r=n[a],l+=s(r);return l}function Ct(e,t){if(null==e)return null;const i=e.toString().toString();return t?i:i.replace(mt,(e=>ft[e]))}var wt=class extends Te{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;const s=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,s):s}getDisplayNameForProvidedColumnGroup(e,t,i){const s=t?t.getColGroupDef():null;return s?this.getHeaderName(s,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,s,n){const o=e.headerValueGetter;if(o){const r=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:s,location:n});return"function"===typeof o?o(r):"string"===typeof o?this.expressionService.evaluate(o,r):(c("headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?(r=e.field)&&null!=r?r.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map((e=>e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):""))).join(" "):null:"";var r}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn;let s,n=null;if(b(i)){const o=this.funcColsService.getValueColumns(),r=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===o.length,a=void 0!==e.getColDef().pivotTotalColumnIds;if(r&&!a)return t;n=i?i.getAggFunc():null,s=!0}else{const t=e.isValueActive(),i=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();t&&i?(n=e.getAggFunc(),s=!0):s=!1}if(s){const e="string"===typeof n?n:"func";return`${this.localeService.getLocaleTextFunc()(e,e)}(${t})`}return t}},bt=class extends Te{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){Ge(this.context,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return null!=this.pivotResultCols}lookupPivotResultCol(e,t){if(null==this.pivotResultCols)return null;const i=this.columnModel.getColDefCol(t);let s=null;return this.pivotResultCols.list.forEach((t=>{const n=t.getColDef().pivotKeys,o=t.getColDef().pivotValueColumn;me(n,e)&&o===i&&(s=t)})),s}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){if(this.columnModel.isReady()&&(null!=e||null!=this.pivotResultCols)){if(e){this.processPivotResultColDef(e);const i=this.columnFactory.createColumnTree(e,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,t);Ge(this.context,this.pivotResultCols?.tree,i.columnTree);const s=i.columnTree,n=i.treeDept,o=Ve(s),r={};this.pivotResultCols={tree:s,treeDepth:n,list:o,map:r},this.pivotResultCols.list.forEach((e=>this.pivotResultCols.map[e.getId()]=e));const a=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!a)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;const s=e=>{e.forEach((e=>{if(b(e.children)){const t=e;i&&i(t),s(t.children)}else{t&&t(e)}}))};e&&s(e)}},St=class extends Te{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,i,s){const n=[];e.forEach((e=>{const i=this.columnModel.getColDefCol(e.key)||this.columnModel.getCol(e.key);if(!i)return;n.push({width:e.newWidth,ratios:[1],columns:[i]});if("shift"===this.gos.get("colResizeDefault")&&(t=!t),t){const t=this.visibleColsService.getColAfter(i);if(!t)return;const s=i.getActualWidth()-e.newWidth,o=t.getActualWidth()+s;n.push({width:o,ratios:[1],columns:[t]})}})),0!==n.length&&this.resizeColumnSets({resizeSets:n,finished:i,source:s})}resizeColumnSets(e){const{resizeSets:t,finished:i,source:s}=e;if(!(!t||t.every((e=>this.checkMinAndMaxWidthsForSet(e))))){if(i){const e=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(e,i,s)}return}const n=[],o=[];t.forEach((e=>{const{width:t,columns:i,ratios:r}=e,a={},l={};i.forEach((e=>o.push(e)));let d=!0,c=0;for(;d;){if(c++,c>1e3){u("infinite loop in resizeColumnSets");break}d=!1;const e=[];let s=0,n=t;i.forEach(((t,i)=>{if(l[t.getId()])n-=a[t.getId()];else{e.push(t);const n=r[i];s+=n}}));const o=1/s;e.forEach(((i,s)=>{let c;s===e.length-1?c=n:(c=Math.round(r[s]*t*o),n-=c);const u=i.getMinWidth(),h=i.getMaxWidth();c<u?(c=u,l[i.getId()]=!0,d=!0):h>0&&c>h&&(c=h,l[i.getId()]=!0,d=!0),a[i.getId()]=c}))}i.forEach((e=>{const t=a[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,s),n.push(e))}))}));const r=n.length>0;let a=[];r&&(a=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.visibleColsService.setLeftValues(s),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const l=o.concat(a);(r||i)&&this.eventDispatcher.columnResized(l,i,s,a)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let s=0,n=0,o=!0;t.forEach((e=>{const t=e.getMinWidth();s+=t||0;const i=e.getMaxWidth();i>0?n+=i:o=!1}));return i>=s&&(!o||i<=n)}refreshFlexedColumns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const i=this.visibleColsService.getCenterCols();let s=-1;if(e.resizingCols){const t=new Set(e.resizingCols);for(let e=i.length-1;e>=0;e--)if(t.has(i[e])){s=e;break}}let n=0,o=[],r=0,a=0;for(let h=0;h<i.length;h++){i[h].getFlex()&&h>s?(o.push(i[h]),a+=i[h].getFlex(),r+=i[h].getMinWidth()):n+=i[h].getActualWidth()}if(!o.length)return[];let l=[];n+r>this.flexViewportWidth&&(o.forEach((e=>e.setActualWidth(e.getMinWidth(),t))),l=o,o=[]);const d=[];let c;e:for(;;){c=this.flexViewportWidth-n;const e=c/a;for(let i=0;i<o.length;i++){const s=o[i],r=e*s.getFlex();let c=0;const u=s.getMinWidth(),h=s.getMaxWidth();if(r<u?c=u:r>h&&(c=h),c){s.setActualWidth(c,t),fe(o,s),a-=s.getFlex(),l.push(s),n+=s.getActualWidth();continue e}d[i]=Math.floor(r)}break}let u=c;return o.forEach(((e,i)=>{const s=i<o.length-1?Math.min(d[i],u):Math.max(d[i],u);e.setActualWidth(s,t),l.push(e),u-=d[i]})),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,o),o}sizeColumnsToFit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sizeColumnsToFit",i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.sizeColumnsToFit(e,t,i,s)));const n={};s&&s?.columnLimits?.forEach((e=>{let{key:t,...i}=e;n["string"===typeof t?t:t.getColId()]=i}));const o=this.visibleColsService.getAllCols(),r=e===Ne(o);if(e<=0||!o.length||r)return;const a=[],l=[];o.forEach((e=>{!0===e.getColDef().suppressSizeToFit?l.push(e):a.push(e)}));const d=a.slice(0);let c=!1;const u=e=>{ve(a,e),l.push(e)};for(a.forEach((e=>{e.resetActualWidth(t);const i=n?.[e.getId()],o=i?.minWidth??s?.defaultMinWidth,r=i?.maxWidth??s?.defaultMaxWidth,a=e.getActualWidth();"number"===typeof o&&a<o?e.setActualWidth(o,t,!0):"number"===typeof r&&a>r&&e.setActualWidth(r,t,!0)}));!c;){c=!0;const i=e-Ne(l);if(i<=0)a.forEach((e=>{const i=n?.[e.getId()]?.minWidth??s?.defaultMinWidth;"number"!==typeof i?e.setMinimum(t):e.setActualWidth(i,t,!0)}));else{const e=i/Ne(a);let o=i;for(let i=a.length-1;i>=0;i--){const r=a[i],l=n?.[r.getId()],d=l?.minWidth??s?.defaultMinWidth,h=l?.maxWidth??s?.defaultMaxWidth,g=r.getMinWidth(),p=r.getMaxWidth(),m="number"===typeof d&&d>g?d:g,f="number"===typeof h&&h<p?h:p;let v=Math.round(r.getActualWidth()*e);v<m?(v=m,u(r),c=!1):v>f?(v=f,u(r),c=!1):0===i&&(v=o),r.setActualWidth(v,t,!0),o-=v}}}d.forEach((e=>{e.fireColumnWidthChangedEvent(t)})),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),i||this.eventDispatcher.columnResized(d,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout((()=>{if("fitGridWidth"===t){const{columnLimits:t,defaultMinWidth:i,defaultMaxWidth:s}=e,n=t?.map((e=>{let{colId:t,minWidth:i,maxWidth:s}=e;return{key:t,minWidth:i,maxWidth:s}}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:i,defaultMaxWidth:s,columnLimits:n})}else"fitProvidedWidth"===t&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")}))}};function yt(e,t){return e+"_"+t}function Rt(e){return e instanceof At}var At=class extends Te{constructor(e,t,i,s){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=s}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return yt(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every((e=>e.isMoving()))}checkLeft(){if(this.displayedChildren.forEach((e=>{Rt(e)&&e.checkLeft()})),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const e=pe(this.displayedChildren).getLeft();this.setLeft(e)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach((t=>{e+=t.getActualWidth()})),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach((t=>{t.isResizable()&&(e=!0)})),e}getMinWidth(){let e=0;return this.displayedChildren.forEach((t=>{e+=t.getMinWidth()})),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach((t=>{et(t)?e.push(t):Rt(t)&&t.addDisplayedLeafColumns(e)}))}addLeafColumns(e){this.children.forEach((t=>{et(t)?e.push(t):Rt(t)&&t.addLeafColumns(e)}))}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;null!=e&&e.isPadding();)e=e.getParent();if(!(!!e&&e.getProvidedColumnGroup().isExpandable()))return this.displayedChildren=this.children,void this.dispatchLocalEvent({type:"displayedChildrenChanged"});this.children.forEach((t=>{if(Rt(t)&&(!t.displayedChildren||!t.displayedChildren.length))return;switch(t.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(t);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(t);break;default:this.displayedChildren.push(t)}})),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},Ft=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return i="number"!==typeof t?0:t+1,this.existingIds[e]=i,i}},Et=class extends Te{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=Pt(this.treeLeft),this.columnsCenter=Pt(this.treeCenter),this.columnsRight=Pt(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter((e=>e.isAutoHeight())),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=Ne(this.columnsCenter),t=Ne(this.columnsLeft),i=Ne(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e;(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,i;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,i=this.columnsRight?pe(this.columnsRight):null):(t=this.columnsLeft?pe(this.columnsLeft):null,i=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach((s=>{s.setLastLeftPinned(s===t,e),s.setFirstRightPinned(s===i,e)}))}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter((e=>"left"==e.getPinned())),i=e.filter((e=>"right"==e.getPinned())),s=e.filter((e=>"left"!=e.getPinned()&&"right"!=e.getPinned())),n=new Ft;this.treeLeft=this.createGroups({columns:t,idCreator:n,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:i,idCreator:n,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:s,idCreator:n,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],i=[],s=[];for(const n of e){const e=n.getPinned();e?!0===e||"left"===e?t.push(n):s.push(n):i.push(n)}this.ariaOrderColumns=t.concat(i).concat(s)}getAriaColIndex(e){let t;return t=Rt(e)?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach((e=>{e.forEach((e=>{if(Rt(e)){e.checkLeft()}}))}))}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const t=this.columnModel.getCols().slice(0),i=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach((s=>{if(i){let t=Ne(s);s.forEach((i=>{t-=i.getActualWidth(),i.setLeft(t,e)}))}else{let t=0;s.forEach((i=>{i.setLeft(t,e),t+=i.getActualWidth()}))}!function(e,t){for(let i=0;i<t.length;i++)fe(e,t[i])}(t,s)})),t.forEach((t=>{t.setLeft(null,e)}))}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,i,s){const n=[];let o=null;for(let r=0;r<t.length;r++){const a=t[r],l=t.length-r,d=Math.min(a.getColSpan(e),l),c=[a];if(d>1){const e=d-1;for(let i=1;i<=e;i++)c.push(t[r+i]);r+=e}let u;if(i?(u=!1,c.forEach((e=>{i(e)&&(u=!0)}))):u=!0,u){if(0===n.length&&o){!!s&&s(a)&&n.push(o)}n.push(a)}o=a}return n}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),i=t.indexOf(e);return i>0?t[i-1]:null}getGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),s=e.getDisplayedLeafColumns(),n="After"===t?pe(s):s[0],o=`getCol${t}`;for(;;){const t=this[o](n);if(!t)return null;const s=this.getColGroupAtLevel(t,i);if(s!==e)return s}}getColGroupAtLevel(e,t){let i,s,n=e.getParent();for(;;){if(i=n.getProvidedColumnGroup().getLevel(),s=n.getPaddingLevel(),i+s<=t)break;n=n.getParent()}return n}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=e=>{this.colsAndGroupsMap[e.getUniqueId()]=e};Dt(this.treeCenter,!1,e),Dt(this.treeLeft,!1,e),Dt(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){Dt(this.getAllTrees(),!1,(e=>{Rt(e)&&e.calculateDisplayedColumns()}))}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){const s=this[t[i]]();if(s.length)return e?pe(s):s[0]}return null}getColumnGroup(e,t){if(!e)return null;if(Rt(e))return e;const i=this.getAllTrees(),s="number"===typeof t;let n=null;return Dt(i,!1,(i=>{if(Rt(i)){const o=i;let r;r=s?e===o.getGroupId()&&t===o.getPartId():e===o.getGroupId(),r&&(n=o)}})),n}getColAfter(e){const t=this.getAllCols(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return Ne(this.columnsLeft)}getDisplayedColumnsRightWidth(){return Ne(this.columnsRight)}isColAtEdge(e,t){const i=this.getAllCols();if(!i.length)return!1;const s="first"===t;let n;if(Rt(e)){const t=e.getDisplayedLeafColumns();if(!t.length)return!1;n=s?t[0]:pe(t)}else n=e;return(s?i[0]:pe(i))===n}createGroups(e){const{columns:t,idCreator:i,pinned:s,oldDisplayedGroups:n,isStandaloneStructure:o}=e,r=this.mapOldGroupsById(n),a=[];let l=t;for(;l.length;){const e=l;l=[];let t=0;const n=n=>{const d=t;t=n;const c=e[d],u=(Rt(c)?c.getProvidedColumnGroup():c).getOriginalParent();if(null==u){for(let t=d;t<n;t++)a.push(e[t]);return}const h=this.createColGroup(u,i,r,s,o);for(let t=d;t<n;t++)h.addChild(e[t]);l.push(h)};for(let i=1;i<e.length;i++){const s=e[i],o=(Rt(s)?s.getProvidedColumnGroup():s).getOriginalParent(),r=e[t];o!==(Rt(r)?r.getProvidedColumnGroup():r).getOriginalParent()&&n(i)}t<e.length&&n(e.length)}return o||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,i,s,n){const o=e.getGroupId(),r=t.getInstanceIdForKey(o);let a=i[yt(o,r)];return a&&a.getProvidedColumnGroup()!==e&&(a=null),b(a)?a.reset():(a=new At(e,o,r,s),n||this.createBean(a)),a}mapOldGroupsById(e){const t={},i=e=>{e.forEach((e=>{if(Rt(e)){const s=e;t[e.getUniqueId()]=s,i(s.getChildren())}}))};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach((e=>{if(e.setParent(t),Rt(e)){const t=e;this.setupParentsIntoCols(t.getChildren(),t)}}))}};function Dt(e,t,i){if(e)for(let s=0;s<e.length;s++){const n=e[s];if(Rt(n)){Dt(t?n.getDisplayedChildren():n.getChildren(),t,i)}i(n)}}function Pt(e){const t=[];return Dt(e,!0,(e=>{et(e)&&t.push(e)})),t}var kt=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],Tt=[...kt,"scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],Mt={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},xt=class{};xt.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],xt.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"],xt.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],xt.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],xt.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],xt.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"],xt.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"],xt.ALL_PROPERTIES=[...xt.ARRAY_PROPERTIES,...xt.OBJECT_PROPERTIES,...xt.STRING_PROPERTIES,...xt.NUMBER_PROPERTIES,...xt.FUNCTION_PROPERTIES,...xt.BOOLEAN_PROPERTIES,...xt.OTHER_PROPERTIES];var It=xt,Lt=class{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}};Lt.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",Lt.PUBLIC_EVENTS=kt,Lt.EVENT_CALLBACKS=Tt.map((e=>Lt.getCallbackForEvent(e))),Lt.BOOLEAN_PROPERTIES=It.BOOLEAN_PROPERTIES,Lt.ALL_PROPERTIES=It.ALL_PROPERTIES,Lt.ALL_PROPERTIES_AND_CALLBACKS=[...Lt.ALL_PROPERTIES,...Lt.EVENT_CALLBACKS],Lt.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Lt.ALL_PROPERTIES_AND_CALLBACKS);var Ot=Lt;var Vt=class extends Te{};function Nt(e,t,i){return i&&e.addDestroyFunc((()=>t.destroyBean(i))),i??e}var Gt,_t,Bt,Ht,Wt,zt,Ut,Qt,qt,Kt,jt=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1)return void t.forEach((e=>this.addCssClass(e)));if(!0!==this.cssClassStates[e]&&e.length){const t=this.getGui();t&&t.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1)return void t.forEach((e=>this.removeCssClass(e)));if(!1!==this.cssClassStates[e]&&e.length){const t=this.getGui();t&&t.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return!!t&&t.classList.contains(e)}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const i=(e||"").split(" ");if(i.length>1)return void i.forEach((e=>this.addOrRemoveCssClass(e,t)))}if(this.cssClassStates[e]!==t&&e.length){const i=this.getGui();i&&i.classList.toggle(e,t),this.cssClassStates[e]=t}}};function $t(e,t,i){null==i||"string"===typeof i&&""==i?Yt(e,t):Xt(e,t,i)}function Xt(e,t,i){e.setAttribute(Jt(t),i.toString())}function Yt(e,t){e.removeAttribute(Jt(t))}function Jt(e){return`aria-${e}`}function Zt(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function ei(e,t){$t(e,"label",t)}function ti(e,t){$t(e,"labelledby",t)}function ii(e,t){$t(e,"live",t)}function si(e,t){$t(e,"hidden",t)}function ni(e,t){Xt(e,"expanded",t)}function oi(e,t){Xt(e,"rowcount",t)}function ri(e,t){Xt(e,"rowindex",t)}function ai(e,t){Xt(e,"colcount",t)}function li(e,t){Xt(e,"colindex",t)}function di(e,t){Xt(e,"sort",t)}function ci(e){Yt(e,"sort")}function ui(e,t){$t(e,"selected",t)}function hi(e,t){return void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}function gi(){return void 0===Gt&&(Gt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Gt}function pi(){if(void 0===_t)if(gi()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(_t=null!=e[1]?parseFloat(e[1]):0)}else _t=0;return _t}function mi(){if(void 0===Bt){const e=window;Bt=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Bt}function fi(){return void 0===Ht&&(Ht=/(firefox)/i.test(navigator.userAgent)),Ht}function vi(){return void 0===Wt&&(Wt=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Wt}function Ci(){return void 0===zt&&(zt=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),zt}function wi(){return!gi()||pi()>=15}function bi(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return-1!==t||null!==i&&(""!==i||fi())?t.toString():null}function Si(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;0===i&&0===t.clientWidth&&(i=null),t.parentNode&&t.parentNode.removeChild(t),null!=i&&(Qt=i,Ut=0===i)}function yi(){return null==Ut&&Si(),Ut}var Ri="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Ai(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),s=t.call(e,Ri),n=Bi(e);return i&&!s&&n}function Fi(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipAriaHidden:s}=i;e.classList.toggle("ag-hidden",!t),s||si(e,!t)}function Ei(e,t){const i="disabled",s=t?e=>e.setAttribute(i,""):e=>e.removeAttribute(i);s(e),ji(e.querySelectorAll("input"),(e=>s(e)))}function Di(e,t,i){let s=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof i){if(++s>i)break}else if(e===i)break}return!1}function Pi(e){const{height:t,width:i,borderTopWidth:s,borderRightWidth:n,borderBottomWidth:o,borderLeftWidth:r,paddingTop:a,paddingRight:l,paddingBottom:d,paddingLeft:c,marginTop:u,marginRight:h,marginBottom:g,marginLeft:p,boxSizing:m}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(s||"0"),borderRightWidth:parseFloat(n||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(r||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(d||"0"),paddingLeft:parseFloat(c||"0"),marginTop:parseFloat(u||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(g||"0"),marginLeft:parseFloat(p||"0"),boxSizing:m}}function ki(e){const t=Pi(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function Ti(e){const t=Pi(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function Mi(e){const{height:t,marginBottom:i,marginTop:s}=Pi(e);return Math.floor(t+i+s)}function xi(e){const{width:t,marginLeft:i,marginRight:s}=Pi(e);return Math.floor(t+i+s)}function Ii(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:s,borderRightWidth:n,borderBottomWidth:o}=Pi(e);return{top:t.top+(i||0),left:t.left+(s||0),right:t.right+(n||0),bottom:t.bottom+(o||0)}}function Li(){if("boolean"===typeof Kt)return Kt;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,Kt=0===Math.floor(e.scrollLeft),document.body.removeChild(e),Kt}function Oi(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),mi()&&!Li()&&(i=e.scrollWidth-e.clientWidth-i)),i}function Vi(e,t,i){i&&(Li()?t*=-1:(gi()||mi())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function Ni(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Gi(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function _i(e){return!!e.offsetParent}function Bi(e){const t=e;if(t.checkVisibility)return t.checkVisibility({checkVisibilityCSS:!0});return!(!_i(e)||"visible"!==window.getComputedStyle(e).visibility)}function Hi(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Wi(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):zi(e,t)}function zi(e,t){t=Qi(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Ui(e,t){t=Qi(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function Qi(e){return"number"===typeof e?`${e}px`:e}function qi(e){return e instanceof Node||e instanceof HTMLElement}function Ki(e,t,i){null==i||""===i?e.removeAttribute(t):e.setAttribute(t,i.toString())}function ji(e,t){if(null!=e)for(let i=0;i<e.length;i++)t(e[i])}var $i=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},Xi=class e extends Te{constructor(e,t,i,s){super(),this.parentComp=e,this.tooltipShowDelayOverride=t,this.tooltipHideDelayOverride=i,this.shouldDisplayTooltip=s,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupService=e.popupService,this.userComponentFactory=e.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.parentComp.getGui();0===this.tooltipTrigger&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),1===this.tooltipTrigger&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return t<0&&c(`${e} should not be lower than 0`),Math.max(200,t)}getTooltipDelay(e){return"show"===e?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return e&&"hover"!==e?1:0}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),Ci()||(e.isLocked?this.showTooltipTimeoutId=window.setTimeout((()=>{this.prepareToShowTooltip(t)}),100):this.prepareToShowTooltip(t))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,i=this.parentComp.getGui(),s=this.tooltipComp?.getGui();this.isInteractingWithTooltip||i.contains(t)||this.interactionEnabled&&s?.contains(t)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(t){if(0!=this.state||e.isLocked)return;let i=0;t&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){return(new Date).getTime()-e.lastTooltipHideTime<1e3}setToDoNothing(e){e||2!==this.state||this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e={...this.parentComp.getTooltipParams()};if(!b(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())return void this.setToDoNothing();this.state=2,this.tooltipInstanceCount++;const t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(t)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=(new Date).getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(2!==this.state||this.tooltipInstanceCount!==e)return void this.destroyBean(t);const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const s=this.localeService.getLocaleTextFunc(),n=this.popupService.addPopup({eChild:i,ariaLabel:s("ariaLabelTooltip","Tooltip")});if(n&&(this.tooltipPopupDestroyFunc=n.hideFunc),this.positionTooltip(),1===this.tooltipTrigger){const e=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:e,columnMoved:e})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),1===this.tooltipTrigger&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=Q(this.gos);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...e,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,i=0===this.tooltipTrigger?1e3:0;window.setTimeout((()=>{e(),this.destroyBean(t)}),i),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach((e=>{e&&e()})),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){e.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout((()=>{this.unlockService(),this.setToDoNothing()}),100)}unlockService(){e.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};Xi.isLocked=!1;var Yi=Xi,Ji=class extends Te{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",i=this.ctrl.getGui();i&&(null!=e&&""!=e?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){if(null!=this.tooltipManager)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new Yi(e,this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,t=e.getColumn?.(),i=e.getColDef?.(),s=e.getRowNode?.();return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?.(),node:s,data:s?.data,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?.(),hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},Zi=new $i,es=null,ts=class e extends Te{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=Zi.next(),this.cssClassManager=new jt((()=>this.eGui)),this.componentSelectors=new Map((t??[]).map((e=>[e.selector,e]))),e&&this.setTemplate(e)}preWireBeans(e){super.preWireBeans(e)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){const{newTooltipText:t,showDelayOverride:i,hideDelayOverride:s,location:n,shouldDisplayTooltip:o}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==t&&(this.tooltipText=t);const r=()=>this.tooltipText;null!=t&&(this.tooltipFeature=this.createBean(new Ji({getTooltipValue:r,getGui:()=>this.getGui(),getLocation:()=>n??"UNKNOWN",getColDef:e?.getColDef,getColumn:e?.getColumn,getTooltipShowDelayOverride:null!=i?()=>i:void 0,getTooltipHideDelayOverride:null!=s?()=>s:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(void 0===t&&(t=this.getDataRefAttribute(e)),t){const n=this[t];if(n===es)this[t]=s??e;else{const e=i&&i[t];this.suppressDataRefValidation||e||c(`Issue with data-ref: ${t} on ${this.constructor.name} with ${n}`)}}}createChildComponentsFromTags(e,t){(function(e){if(null==e)return[];const t=[];return ji(e,(e=>t.push(e))),t})(e.childNodes).forEach((i=>{if(!(i instanceof HTMLElement))return;const s=this.createComponentFromElement(i,(e=>{e.getGui()&&this.copyAttributesFromNode(i,e.getGui())}),t);if(s){if(s.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const e=Array.prototype.slice.call(i.children);s.addItems(e)}this.swapComponentForNode(s,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)}))}createComponentFromElement(t,i,s){const n=t.nodeName,o=this.getDataRefAttribute(t),r=0===n.indexOf("AG-"),a=r?this.componentSelectors.get(n):null;let l=null;if(a){e.elementGettingCreated=t;const n=s&&o?s[o]:void 0;l=new a.component(n),l.setParentComponent(this),this.createBean(l,null,i)}else r&&c(`Missing selector: ${n}`);return this.applyElementsToComponent(t,o,s,l),l}copyAttributesFromNode(e,t){!function(e,t){if(e)for(let i=0;i<e.length;i++){const s=e[i];t(s.name,s.value)}}(e.attributes,((e,i)=>t.setAttribute(e,i)))}swapComponentForNode(e,t,i){const s=e.getGui();t.replaceChild(s,i),t.insertBefore(document.createComment(i.nodeName),s),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach((e=>e.setAttribute("tabindex",t.toString())))}setTemplate(e,t,i){const s=Hi(e);this.setTemplateFromElement(s,t,i)}setTemplateFromElement(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.eGui=e,this.suppressDataRefValidation=s,t)for(let n=0;n<t.length;n++){const e=t[n];this.componentSelectors.set(e.selector,e)}this.wireTemplate(e,i)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let i=t;return null==e?null:(i||(i=this.eGui),qi(e)?{element:e,parent:i}:{element:e.getGui(),parent:i})}prependChild(e,t){const{element:i,parent:s}=this.getContainerAndElement(e,t)||{};i&&s&&s.insertAdjacentElement("afterbegin",i)}appendChild(e,t){const{element:i,parent:s}=this.getContainerAndElement(e,t)||{};i&&s&&s.appendChild(i)}isDisplayed(){return this.displayed}setVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e!==this.visible){this.visible=e;const{skipAriaHidden:i}=t;!function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipAriaHidden:s}=i;e.classList.toggle("ag-invisible",!t),s||si(e,!t)}(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:i}=t;Fi(this.eGui,e,{skipAriaHidden:i});const s={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(s)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(e,t,i){this.eGui.addEventListener(e,t,i),this.addDestroyFunc((()=>this.eGui.removeEventListener(e,t)))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}},is={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},ss=(()=>{const e=new Set(Object.values(is));return e.add("eye"),e})();function ns(e,t,i,s){let n=null;const o=i&&i.getColDef().icons;if(o&&(n=o[e]),t&&!n){const i=t.get("icons");i&&(n=i[e])}if(!n){const t=document.createElement("span");let i=is[e]??(ss.has(e)?e:void 0);return i||(s?i=e:(c(`Did not find icon ${e}`),i="")),t.setAttribute("class",`ag-icon ag-icon-${i}`),t.setAttribute("unselectable","on"),Zt(t,"presentation"),t}{let e;if("function"===typeof n)e=n();else{if("string"!==typeof n)throw new Error("icon from grid options needs to be a string or a function");e=n}if("string"===typeof e)return Hi(e);if(qi(e))return e;c("iconRenderer should return back a string or a dom object")}}var os=class extends ts{constructor(){super(...arguments),this.dragSource=null,this.eIcon=es,this.eLabel=es}postConstruct(){const e=e=>function(e,t,i){const s=ns(e,t,i);if(s){const{className:e}=s;if("string"===typeof e&&e.indexOf("ag-icon")>-1||"object"===typeof e&&e["ag-icon"])return s}const n=document.createElement("span");return n.appendChild(s),n}(e,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate('<div class="ag-dnd-ghost ag-unselectable">\n                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>\n            </div>')}destroy(){this.dragSource=null,super.destroy()}setIcon(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ni(this.eIcon);let i=null;e||(e=this.dragSource?.getDefaultIconName?this.dragSource?.getDefaultIconName():"notAllowed"),i=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),i===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns")||i&&this.eIcon.appendChild(i)}setLabel(e){this.eLabel.textContent=Ct(e)}};function rs(e,t,i){if(0===i)return!1;const s=Math.abs(e.clientX-t.clientX),n=Math.abs(e.clientY-t.clientY);return Math.max(s,n)<=i}var as=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new o,this.eElement=e,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),s=this.onTouchMove.bind(this),n=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",s,{passive:!0}),this.eElement.addEventListener("touchend",n,{passive:!1}),this.destroyFuncs.push((()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",s,{passive:!0}),this.eElement.removeEventListener("touchend",n,{passive:!1})}))}getActiveTouch(e){for(let t=0;t<e.length;t++){if(e[t].identifier===this.touchStart.identifier)return e[t]}return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout((()=>{const i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;const t={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(t)}}),500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!rs(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const e={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0){if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const e={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(e),this.lastTapTime=null}else this.lastTapTime=e}else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach((e=>e()))}};function ls(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var ds=`<span class="ag-sort-indicator-container">\n        ${ls("Order","order")}\n        ${ls("Asc","ascending-icon")}\n        ${ls("Desc","descending-icon")}\n        ${ls("Mixed","mixed-icon")}\n        ${ls("None","none-icon")}\n    </span>`,cs=class extends ts{constructor(e){super(),this.eSortOrder=es,this.eSortAsc=es,this.eSortDesc=es,this.eSortMixed=es,this.eSortNone=es,e||this.setTemplate(ds)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,i,s,n){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=s,this.eSortNone=n}setupSort(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const i=this.updateIcons.bind(this),s=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:s,columnRowGroupChanged:s}),this.onSortChanged()}addInIcon(e,t,i){if(null==t)return;const s=ns(e,this.gos,i);s&&t.appendChild(s)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t="asc"===e;Fi(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t="desc"===e;Fi(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),i=null===e||void 0===e;Fi(this.eSortNone,!t&&i,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;$(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e="mixed"===this.sortController.getDisplaySortForColumn(this.column);Fi(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,i=e.some((e=>this.sortController.getDisplaySortIndexForColumn(e)??!1)),s=t>=0&&i;Fi(this.eSortOrder,s,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():Ni(this.eSortOrder)}},us={selector:"AG-SORT-INDICATOR",component:cs},hs=class extends ts{constructor(){super(...arguments),this.eFilter=es,this.eFilterButton=es,this.eSortIndicator=es,this.eMenu=es,this.eLabel=es,this.eText=es,this.eSortOrder=es,this.eSortAsc=es,this.eSortDesc=es,this.eSortMixed=es,this.eSortNone=es,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&t.enableFilterButton==e.enableFilterButton&&t.enableFilterIcon==e.enableFilterIcon&&(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??'<div class="ag-cell-label-container" role="presentation">\n        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">\n            <span data-ref="eText" class="ag-header-cell-text"></span>\n            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>\n        </div>\n    </div>';return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[us]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=Ct(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,i){if(null==t)return;const s=ns(e,this.gos,i);s&&t.appendChild(s)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new as(this.getGui(),!0),i=this.shouldSuppressMenuHide(),s=i&&b(this.eMenu),n=s?new as(this.eMenu,!0):t;if(this.params.enableMenu){const e=s?"tap":"longTap",t=e=>this.params.showColumnMenuAfterMouseClick(e.touchStart);this.addManagedListeners(n,{[e]:t})}if(this.params.enableSorting){const e=e=>{const t=e.touchStart.target;i&&(this.eMenu?.contains(t)||this.eFilterButton?.contains(t))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:e})}if(this.params.enableFilterButton){const e=new as(this.eFilterButton,!0);this.addManagedListeners(e,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc((()=>e.destroy()))}this.addDestroyFunc((()=>t.destroy())),s&&this.addDestroyFunc((()=>n.destroy()))}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return Gi(this.eMenu),void(this.eMenu=void 0);const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,i=this.menuService.isLegacyMenuEnabled();if(e&&!i){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new cs(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=(new Date).getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:e=>{const t=this.params.column.isMoving(),i=(new Date).getTime()-this.lastMovingChanged<50;if(!(t||i)){const t="ctrl"===this.gos.get("multiSortKey")?e.ctrlKey||e.metaKey:e.shiftKey;this.params.progressSort(t)}}});const e=()=>{const e=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc","asc"===e),this.addOrRemoveCssClass("ag-header-cell-sorted-desc","desc"===e),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!e),this.params.column.getColDef().showRowGroup){const e=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),t=e?.every((e=>this.params.column.getSort()==e.getSort())),i=!t;this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",i)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,i){if(!e)return Gi(t),!1;const s=this.params.column;return this.addInIcon("filter",t,s),this.addManagedListeners(s,{filterChanged:i}),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Fi(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},gs=class extends ts{constructor(){super('<div class="ag-header-group-cell-label" role="presentation">\n            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>'),this.agOpened=es,this.agClosed=es,this.agLabel=es}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&c("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=e=>{if(Ee(e))return;const t=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),t,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=e=>{Fe(e)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup(),s=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:s,expandableChanged:s})}addTouchAndClickListeners(e,t){const i=new as(e,!0);this.addManagedListeners(i,{tap:t}),this.addDestroyFunc((()=>i.destroy())),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const e=this.params.columnGroup.isExpanded();Fi(this.agOpened,e),Fi(this.agClosed,!e)}else Fi(this.agOpened,!1),Fi(this.agClosed,!1)}addInIcon(e,t){const i=ns(e,this.gos,null);i&&t.appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return Fi(this.agOpened,!1),void Fi(this.agClosed,!1)}setupLabel(){const{displayName:e,columnGroup:t}=this.params;if(b(e)){const t=Ct(e,!0);this.agLabel.textContent=t}this.addOrRemoveCssClass("ag-sticky-label",!t.getColGroupDef()?.suppressStickyLabel)}},ps=class extends ts{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),s=e.formatValue(i),n=b(s)?s:i,o=t>=0;this.eDelta.textContent=o?"\u2191"+n:"\u2193"+n,this.eDelta.classList.toggle("ag-value-change-delta-up",o),this.eDelta.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{e===this.refreshCount&&this.hideDeltaValue()}),2e3)}))}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Ni(this.eDelta)}refresh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=e.value;if(i===this.lastValue)return!1;if(b(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:b(e.value)?this.eValue.textContent=i:Ni(this.eValue),this.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"===typeof i&&"number"===typeof this.lastValue){const t=i-this.lastValue;this.showDelta(e,t)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},ms=class extends ts{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)}),3e3)}))}refresh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.value;return S(i)&&(i=""),i!==this.lastValue&&(!this.filterManager?.isSuppressFlashingCellsBecauseFiltering()&&(t||this.addSlideAnimation(),this.lastValue=i,b(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:b(e.value)?this.eCurrent.textContent=i:Ni(this.eCurrent),!0))}},fs=class{};fs.BACKSPACE="Backspace",fs.TAB="Tab",fs.ENTER="Enter",fs.ESCAPE="Escape",fs.SPACE=" ",fs.LEFT="ArrowLeft",fs.UP="ArrowUp",fs.RIGHT="ArrowRight",fs.DOWN="ArrowDown",fs.DELETE="Delete",fs.F2="F2",fs.PAGE_UP="PageUp",fs.PAGE_DOWN="PageDown",fs.PAGE_HOME="Home",fs.PAGE_END="End",fs.A="KeyA",fs.C="KeyC",fs.D="KeyD",fs.V="KeyV",fs.X="KeyX",fs.Y="KeyY",fs.Z="KeyZ";var vs=class extends ts{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:s,disabled:n}=this.config;null!=n&&this.setDisabled(n),null!=e&&this.setLabelSeparator(e),null!=t&&this.setLabel(t),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()}refreshLabel(){Ni(this.eLabel),"string"===typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(Fi(this.eLabel,!1),Zt(this.eLabel,"presentation")):(Fi(this.eLabel,!0),Zt(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e||(this.label=e,this.refreshLabel()),this}setLabelAlignment(e){const t=this.getGui().classList;return t.toggle("ag-label-align-left","left"===e),t.toggle("ag-label-align-right","right"===e),t.toggle("ag-label-align-top","top"===e),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return null==this.label||Wi(this.eLabel,e),this}setDisabled(e){e=!!e;const t=this.getGui();return Ei(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},Cs=class extends vs{constructor(e,t,i,s){super(e,t,i),this.className=s}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;null!=e&&this.setWidth(e),null!=t&&this.setValue(t),null!=i&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();null==i||""==i||null!==e.getAttribute("aria-label")?ti(e,""):ti(e,t??"")}setAriaLabel(e){return ei(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return zi(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e||(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}},ws=class extends Cs{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"input";super(e,e?.template??`\n            <div role="presentation">\n                <div data-ref="eLabel" class="ag-input-field-label"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${s} data-ref="eInput" class="ag-input-field-input"></${s}>\n                </div>\n            </div>`,[],t),this.inputType=i,this.displayFieldTag=s,this.eLabel=es,this.eWrapper=es,this.eInput=es}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;null!=e&&this.setInputName(e),null!=t&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Wi(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){return this.eInput.maxLength=e,this}setInputPlaceholder(e){return Ki(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return ei(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Ei(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(!0===e)Ki(this.eInput,"autocomplete",null);else{const t="string"===typeof e?e:"off";Ki(this.eInput,"autocomplete",t)}return this}},bs=class extends ws{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ag-checkbox",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"checkbox"),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;"boolean"===typeof e&&this.setReadOnly(e),"boolean"===typeof t&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return void 0===this.selected||!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){return this.getInputElement().name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"===typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});const s=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:s.id,name:s.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)}},Ss={selector:"AG-CHECKBOX",component:bs},ys=class extends ts{constructor(){super('\n            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[Ss]),this.eCheckbox=es}init(e){this.refresh(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),ii(t,"polite"),this.addManagedListeners(t,{click:e=>{if(Fe(e),this.eCheckbox.isDisabled())return;const t=this.eCheckbox.getValue();this.onCheckboxChanged(t)},dblclick:e=>{Fe(e)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:e=>{if(e.key===fs.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Q(this.gos)&&this.eCheckbox.toggle();const t=this.eCheckbox.getValue();this.onCheckboxChanged(t),e.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,i=!0;if(e.node.group&&e.column)if("boolean"===typeof e.value)t=e.value;else{const s=e.column.getColId();s.startsWith(Oe)?t=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[s]?t=e.value??void 0:i=!1}else t=e.value??void 0;if(!i)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(t);const s=null!=e.disabled?e.disabled:!e.column?.isCellEditable(e.node);this.eCheckbox.setDisabled(s);const n=this.localeService.getLocaleTextFunc(),o=hi(n,t),r=s?o:`${n("ariaToggleCellValue","Press SPACE to toggle cell value")} (${o})`;this.eCheckbox.setInputAriaLabel(r)}onCheckboxChanged(e){const{column:t,node:i,value:s}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s});const n=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:n}),n||this.updateCheckbox(this.params)}},Rs=class extends ts{constructor(){super('<div class="ag-loading">\n            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" data-ref="eLoadingText"></span>\n        </div>'),this.eLoadingIcon=es,this.eLoadingText=es}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=ns("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},As=class extends ts{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc((()=>ti(e.eParentOfValue))),ti(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");ei(this.getGui(),t)}setupLoading(e){const t=W(this.gos).createElement("div");t.classList.add("ag-skeleton-effect");const i=e.node.rowIndex;if(null!=i){const e=75+25*(i%2===0?Math.sin(i):Math.cos(i));t.style.width=`${e}%`}this.getGui().appendChild(t);const s=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");ei(this.getGui(),s)}refresh(e){return!1}destroy(){super.destroy()}},Fs=class extends ts{constructor(){super()}destroy(){super.destroy()}},Es=class extends Fs{init(){const e=w(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const e=this.localeService.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=e("loadingOoo","Loading...")}))}}},Ds=class extends Fs{init(){const e=w(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const e=this.localeService.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=e("noRowsToShow","No Rows To Show")}))}}},Ps=class extends ts{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},ks=class extends Ps{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=Ct(t,!0)}};function Ts(e,t,i,s){let n=t.map(((t,i)=>({value:t,relevance:Ms(e.toLowerCase(),t.toLocaleLowerCase()),idx:i})));if(n.sort(((e,t)=>t.relevance-e.relevance)),i&&(n=n.filter((e=>0!==e.relevance))),n.length>0&&s&&s>0){const e=n[0].relevance*s;n=n.filter((t=>e-t.relevance<0))}const o=[],r=[];for(const a of n)o.push(a.value),r.push(a.idx);return{values:o,indices:r}}function Ms(e,t){const i=e.replace(/\s/g,""),s=t.replace(/\s/g,"");let n=0,o=-1;for(let r=0;r<i.length;r++){const e=s.indexOf(i[r],o+1);-1!==e&&(o=e,n+=100-100*o/1e4*100)}return n}var xs=class extends Te{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:os,agColumnHeader:hs,agColumnGroupHeader:gs,agSortIndicator:cs,agAnimateShowChangeCellRenderer:ps,agAnimateSlideCellRenderer:ms,agLoadingCellRenderer:Rs,agSkeletonCellRenderer:As,agCheckboxCellRenderer:ys,agLoadingOverlay:Es,agNoRowsOverlay:Ds,agTooltipComponent:ks},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");null!=e&&Ue(e,((e,t)=>this.registerJsComponent(e,t)))}registerDefaultComponent(e,t,i){this.agGridDefaults[e]=t,i&&(this.agGridDefaultParams[e]=i)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(e,t,i)=>({componentFromFramework:t,component:e,params:i}),s=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(null!=s)return i(s,!0);const n=this.jsComps[t];if(n){return i(n,this.getFrameworkOverrides().isFrameworkComponent(n))}const o=this.agGridDefaults[t];if(o)return i(o,!1,this.agGridDefaultParams[t]);const r=this.enterpriseAgDefaultCompsModule[t];return r?this.gos.assertModuleRegistered(r,`AG Grid '${e}' component: ${t}`):l((()=>{this.warnAboutMissingComponent(e,t)}),"MissingComp"+t),null}warnAboutMissingComponent(e,t){const i=Ts(t,[...Object.keys(this.agGridDefaults).filter((e=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(e))),...Object.keys(this.jsComps)],!0,.8).values;c(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),i.length>0&&c(`         Did you mean: [${i.slice(0,3)}]?`),c(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},Is=class e{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e((e=>this.onDone(e)),(e=>this.onReject(e)))}static all(t){return t.length?new e((e=>{let i=t.length;const s=new Array(i);t.forEach(((t,n)=>{t.then((t=>{s[n]=t,i--,0===i&&e(s)}))}))})):e.resolve()}static resolve(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new e((e=>e(t)))}then(t){return new e((e=>{1===this.status?e(t(this.resolution)):this.waiters.push((i=>e(t(i))))}))}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach((t=>t(e)))}onReject(e){}},Ls={propertyName:"dateComponent",cellRenderer:!1},Os={propertyName:"dragAndDropImageComponent",cellRenderer:!1},Vs={propertyName:"headerComponent",cellRenderer:!1},Ns={propertyName:"headerGroupComponent",cellRenderer:!1},Gs={propertyName:"cellRenderer",cellRenderer:!0},_s={propertyName:"cellRenderer",cellRenderer:!1},Bs={propertyName:"loadingCellRenderer",cellRenderer:!0},Hs={propertyName:"cellEditor",cellRenderer:!1},Ws={propertyName:"innerRenderer",cellRenderer:!0},zs={propertyName:"loadingOverlayComponent",cellRenderer:!1},Us={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Qs={propertyName:"tooltipComponent",cellRenderer:!1},qs={propertyName:"filter",cellRenderer:!1},Ks={propertyName:"floatingFilterComponent",cellRenderer:!1},js={propertyName:"toolPanel",cellRenderer:!1},$s={propertyName:"statusPanel",cellRenderer:!1},Xs={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Ys={propertyName:"loadingCellRenderer",cellRenderer:!0},Js={propertyName:"groupRowRenderer",cellRenderer:!0},Zs={propertyName:"detailCellRenderer",cellRenderer:!0},en={propertyName:"menuItem",cellRenderer:!1},tn=class e extends Te{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(e){this.agComponentUtils=e.agComponentUtils,this.componentMetadataProvider=e.componentMetadataProvider,this.userComponentRegistry=e.userComponentRegistry,this.frameworkComponentWrapper=e.frameworkComponentWrapper,this.gridOptions=e.gridOptions}getDragAndDropImageCompDetails(e){return this.getCompDetails(this.gridOptions,Os,"agDragAndDropImage",e,!0)}getHeaderCompDetails(e,t){return this.getCompDetails(e,Vs,"agColumnHeader",t)}getHeaderGroupCompDetails(e){const t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,Ns,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,Xs,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,Ys,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,Js,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,Zs,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,Ws,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,Ws,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,Gs,null,t)}getEditorRendererDetails(e,t){return this.getCompDetails(e,_s,null,t)}getLoadingCellRendererDetails(e,t){return this.getCompDetails(e,Bs,"agSkeletonCellRenderer",t,!0)}getCellEditorDetails(e,t){return this.getCompDetails(e,Hs,"agCellEditor",t,!0)}getFilterDetails(e,t,i){return this.getCompDetails(e,qs,i,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,Ls,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,zs,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,Us,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,Qs,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,Gs,null,t)}getFloatingFilterCompDetails(e,t,i){return this.getCompDetails(e,Ks,i,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,js,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,$s,null,t,!0)}getMenuItemCompDetails(e,t){return this.getCompDetails(e,en,"agMenuItem",t,!0)}getCompDetails(t,i,s,n){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{propertyName:r,cellRenderer:a}=i;let l,{compName:d,jsComp:c,fwComp:h,paramsFromSelector:g,popupFromSelector:p,popupPositionFromSelector:m}=e.getCompKeys(this.frameworkOverrides,t,i,n);const f=e=>{const t=this.userComponentRegistry.retrieve(r,e);t&&(c=t.componentFromFramework?void 0:t.component,h=t.componentFromFramework?t.component:void 0,l=t.params)};if(null!=d&&f(d),null==c&&null==h&&null!=s&&f(s),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(r,c)),!c&&!h)return void(o&&u(`Could not find component ${d}, did you forget to configure this component?`));const v=this.mergeParamsWithApplicationProvidedParams(t,i,n,g,l),C=null==c,w=c||h;return{componentFromFramework:C,componentClass:w,params:v,type:i,popupFromSelector:p,popupPositionFromSelector:m,newAgStackInstance:()=>this.newAgStackInstance(w,C,v,i)}}static getCompKeys(e,t,i,s){const{propertyName:n}=i;let o,r,a,l,d,c;if(t){const i=t,u=i[n+"Selector"],h=u?u(s):null,g=t=>{if("string"===typeof t)o=t;else if(null!=t&&!0!==t){e.isFrameworkComponent(t)?a=t:r=t}};h?(g(h.component),l=h.params,d=h.popup,c=h.popupPosition):g(i[n])}return{compName:o,jsComp:r,fwComp:a,paramsFromSelector:l,popupFromSelector:d,popupPositionFromSelector:c}}newAgStackInstance(e,t,i,s){const n=s.propertyName;let o;if(!t)o=new e;else{const t=this.componentMetadataProvider.retrieve(n);o=this.frameworkComponentWrapper.wrap(e,t.mandatoryMethodList,t.optionalMethodList,s)}const r=this.initComponent(o,i);return null==r?Is.resolve(o):r.then((()=>o))}mergeParamsWithApplicationProvidedParams(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4?arguments[4]:void 0;const o=this.gos.getGridCommonParams();je(o,i),n&&je(o,n);const r=e&&e[t.propertyName+"Params"];if("function"===typeof r){je(o,r(i))}else"object"===typeof r&&je(o,r);return je(o,s),o}initComponent(e,t){if(this.createBean(e),null!=e.init)return e.init(t)}};function sn(e){const t=e;return null!=t&&null!=t.getFrameworkComponentInstance?t.getFrameworkComponentInstance():e}var nn=class e{static register(t){e.__register(t,!0,void 0)}static registerModules(t){e.__registerModules(t,!0,void 0)}static __register(t,i,s){e.runVersionChecks(t),void 0!==s?(e.areGridScopedModules=!0,void 0===e.gridModulesMap[s]&&(e.gridModulesMap[s]={}),e.gridModulesMap[s][t.moduleName]=t):e.globalModulesMap[t.moduleName]=t,e.setModuleBased(i)}static __unRegisterGridModules(t){delete e.gridModulesMap[t]}static __registerModules(t,i,s){e.setModuleBased(i),t&&t.forEach((t=>e.__register(t,i,s)))}static isValidModuleVersion(t){const[i,s]=t.version.split(".")||[],[n,o]=e.currentModuleVersion.split(".")||[];return i===n&&s===o}static runVersionChecks(t){e.currentModuleVersion||(e.currentModuleVersion=t.version);const i=e=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${e} Please update all modules to the same version.`;if(t.version?e.isValidModuleVersion(t)||u(i(`'${t.moduleName}' is version ${t.version} but the other modules are version ${e.currentModuleVersion}.`)):u(i(`'${t.moduleName}' is incompatible.`)),t.validate){const e=t.validate();if(!e.isValid){u(`${e.message}`)}}}static setModuleBased(t){void 0===e.moduleBased?e.moduleBased=t:e.moduleBased!==t&&(u("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),u("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){e.isBundled=!0}static __assertRegistered(t,i,s){if(this.__isRegistered(t,s))return!0;let n;if(e.isBundled)n=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(e.moduleBased||void 0===e.moduleBased){const o=Object.entries(r).find((e=>{let[i,s]=e;return s===t}))?.[0];n=`AG Grid: unable to use ${i} as the ${o} is not registered${e.areGridScopedModules?` for gridId: ${s}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${o} } from '${t}';\n    \n    ModuleRegistry.registerModules([ ${o} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else n=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';`;return u(n),!1}static __isRegistered(t,i){return!!e.globalModulesMap[t]||!!e.gridModulesMap[i]?.[t]}static __getRegisteredModules(t){return[...k(e.globalModulesMap),...k(e.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return k(e.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!e.moduleBased}};nn.globalModulesMap={},nn.gridModulesMap={},nn.areGridScopedModules=!1;var on=nn,rn=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,e&&e.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){Object.entries(e.providedBeanInstances).forEach((e=>{let[t,i]=e;this.beans[t]=i})),e.beanClasses.forEach((e=>{const t=new e;t.beanName?this.beans[t.beanName]=t:console.error(`Bean ${e.name} is missing beanName`),this.createdBeans.push(t)})),e.derivedBeans?.forEach((e=>{const{beanName:t,bean:i}=e(this);this.beans[t]=i,this.createdBeans.push(i)})),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach((e=>{e.preWireBeans?.(this.beans),e.wireBeans?.(this.beans)})),e.forEach((e=>e.preConstruct?.())),t&&e.forEach(t),e.forEach((e=>e.postConstruct?.()))}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},an=class extends rn{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),on.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},ln=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(ln||{}),dn=class extends Te{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return e&&e.comp?e.comp:null}removeDragSource(e){const t=this.dragSourceAndParamsList.find((t=>t.dragSource===e));t&&(this.dragService.removeDragSource(t.params),ve(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach((e=>this.dragService.removeDragSource(e.params))),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){if(this.dragSource?.onDragStopped?.(),this.lastDropTarget?.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.clearDragAndDropProperties()}onDragCancel(){this.dragSource?.onDragCancelled?.(),this.lastDropTarget?.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.getHorizontalDirection(e),s=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const n=this.dropTargets.filter((t=>this.isMouseOnDropTarget(e,t))),o=this.findCurrentDropTarget(e,n);if(o!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,i,s,t),null!==this.lastDropTarget&&null===o&&this.dragSource?.onGridExit?.(this.dragItem),null===this.lastDropTarget&&null!==o&&this.dragSource?.onGridEnter?.(this.dragItem),this.enterDragTargetIfExists(o,e,i,s,t),o&&this.dragAndDropImageComp){const{comp:e,promise:t}=this.dragAndDropImageComp;e?e.setIcon(o.getIconName?o.getIconName():null):t.then((e=>{e&&e.setIcon(o.getIconName?o.getIconName():null)}))}this.lastDropTarget=o}else if(o&&o.onDragging){const n=this.createDropTargetEvent(o,e,i,s,t);o.onDragging(n)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const{width:t,height:s,left:n,right:o,top:r,bottom:a}=i.getBoundingClientRect();if(0===t||0===s)return!1;const l=e.clientX>=n&&e.clientX<o,d=e.clientY>=r&&e.clientY<a;if(!l||!d)return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let s=!1;for(const r of i)if(this.allContainersIntersect(e,r)){s=!0;break}const{eElement:n,type:o}=this.dragSource;return!(t.targetContainsSource&&!t.getContainer().contains(n))&&(s&&t.isInterestedIn(o,n))}findCurrentDropTarget(e,t){const i=t.length;if(0===i)return null;if(1===i)return t[0];const s=U(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const o of s)for(const e of t){if(-1!==(n=this.getAllContainersFromDropTarget(e),n?.flatMap((e=>e))??[]).indexOf(o))return e}var n;return null}enterDragTargetIfExists(e,t,i,s,n){if(e&&e.onDragEnter){const o=this.createDropTargetEvent(e,t,i,s,n);e.onDragEnter(o)}}leaveLastTargetIfExists(e,t,i,s){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const n=this.createDropTargetEvent(this.lastDropTarget,e,t,i,s);this.lastDropTarget.onDragLeave(n)}const n=this.getDragAndDropImageComponent();n&&n.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter((t=>t.getContainer()!==e.getContainer()))}hasExternalDropZones(){return this.dropTargets.some((e=>e.external))}findExternalZone(e){return this.dropTargets.filter((e=>e.external)).find((t=>t.getContainer()===e.getContainer()))||null}isDropZoneWithinThisGrid(e){const t=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:i}=e;return t.contains(i)}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,s,n){const o=e.getContainer(),r=o.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,d=t.clientX-r.left,c=t.clientY-r.top;return this.gos.addGridCommonParams({event:t,x:d,y:c,vDirection:s,hDirection:i,dragSource:l,fromNudge:n,dragItem:a,dropZoneTarget:o})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();if(!t)return;const i=t.getGui(),s=i.getBoundingClientRect().height,n=(document.body?.clientWidth??(window.innerHeight||document.documentElement?.clientWidth||-1))-2,o=(document.body?.clientHeight??(window.innerHeight||document.documentElement?.clientHeight||-1))-2;if(!i.offsetParent)return;const r=Ii(i.offsetParent),{clientY:a,clientX:l}=e;let d=a-r.top-s/2,c=l-r.left-10;const u=W(this.gos),h=u.defaultView||window,g=h.pageYOffset||u.documentElement.scrollTop,p=h.pageXOffset||u.documentElement.scrollLeft;n>0&&c+i.clientWidth>n+p&&(c=n+p-i.clientWidth),c<0&&(c=0),o>0&&d+i.clientHeight>o+g&&(d=o+g-i.clientHeight),d<0&&(d=0),i.style.left=`${c}px`,i.style.top=`${d}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const t=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:t},t.then((e=>{e&&this.isAlive()&&(this.processDragAndDropImageComponent(e),this.dragAndDropImageComp.comp=e)}))}processDragAndDropImageComponent(e){const{dragSource:t,mouseEventService:i,environment:s}=this;if(!t)return;const n=e.getGui();n.style.setProperty("position","absolute"),n.style.setProperty("z-index","9999"),i.stampTopLevelGridCompWithGridInstance(n),s.applyThemeClasses(n),e.setIcon(null);let{dragItemName:o}=t;h(o)&&(o=o()),e.setLabel(o||""),n.style.top="20px",n.style.left="20px";const r=W(this.gos);let a=null,l=null;try{a=r.fullscreenElement}catch(d){}finally{a||(a=U(this.gos));const e=a.querySelector("body");l=e||(a instanceof ShadowRoot?a:a instanceof Document?a?.documentElement:a)}this.dragAndDropImageParent=l,l?l.appendChild(n):c("Could not find document body, it is needed for drag and drop.")}},cn=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.shouldSkipVerticalScroll();if(t&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=e.clientX<i.left+s,this.tickRight=e.clientX>i.right-s,this.tickUp=e.clientY<i.top+s&&!t,this.tickDown=e.clientY>i.bottom-s&&!t,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},un=class extends Te{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){M(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,(e=>{const t=e.gridBodyCtrl;this.autoScrollService=new cn({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:e=>t.getScrollFeature().setVerticalScrollPosition(e),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})}))}getContainer(){return this.eContainer}isInterestedIn(e){return 2===e}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){if(this.funcColsService.getRowGroupColumns().length)return!0;const e=this.filterManager?.isAnyFilterPresent();if(e)return!0;return!!this.sortController.isSortActive()}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const e=[...this.selectionService.getSelectedNodes()].sort(((e,t)=>null==e.rowIndex||null==t.rowIndex?0:this.getRowIndexNumber(e)-this.getRowIndexNumber(t)));if(-1!==e.indexOf(t))return e}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach((e=>{e.setDragging(!0)})),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),s=this.gos.get("rowDragManaged"),n=e.dragItem.rowNodes;s&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(n[0],t):this.moveRows(n,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(pe(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&1===t.highlighted,s=this.mouseEventService.getNormalisedPosition(e).y,n=e.dragItem.rowNodes;let o=i?1:0;if(this.isFromThisGrid(e))n.forEach((e=>{e.rowTop<s&&(o-=1)})),this.moveRows(n,s,o);else{const e=te(this.gos);let t=this.clientSideRowModel.getRowIndexAtPixel(s)+1;0===this.clientSideRowModel.getHighlightPosition(s)&&t--,this.clientSideRowModel.updateRowData({add:n.filter((t=>!this.clientSideRowModel.getRowNode(e?.({data:t.data,level:0,rowPinned:t.rowPinned})??t.data.id))).map((e=>e.data)),addIndex:t})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),this.rangeService?.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer())return void c("addRowDropZone - A container target needs to be provided");if(this.dragAndDropService.findExternalZone(e))return void c("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=t=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",t))}),e.onDragLeave&&(t.onDragLeave=t=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",t))}),e.onDragging&&(t.onDragging=t=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",t))}),e.onDragStop&&(t.onDragStop=t=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",t))}),e.onDragCancel&&(t.onDragCancel=t=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",t))}));const i={isInterestedIn:e=>2===e,getIconName:()=>"move",external:!0,...t};this.dragAndDropService.addDropTarget(i),this.addDestroyFunc((()=>this.dragAndDropService.removeDropTarget(i)))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),n=this.onDragging.bind(this),o=this.onDragStop.bind(this),r=this.onDragCancel.bind(this);let a;return a=e?{getContainer:t,onDragEnter:e.onDragEnter?t=>{i(t),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",t))}:i,onDragLeave:e.onDragLeave?t=>{s(t),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",t))}:s,onDragging:e.onDragging?t=>{n(t),e.onDragging(this.draggingToRowDragEvent("rowDragMove",t))}:n,onDragStop:e.onDragStop?t=>{o(t),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",t))}:o,onDragCancel:e.onDragCancel?t=>{r(t),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",t))}:r,fromGrid:!0}:{getContainer:t,onDragEnter:i,onDragLeave:s,onDragging:n,onDragStop:o,onDragCancel:r,fromGrid:!0},a}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y;let s,n,o=-1;switch(i>this.pageBoundsService.getCurrentPageHeight()||(o=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(o)),t.vDirection){case 1:n="down";break;case 0:n="up";break;default:n=null}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:o,overNode:s,y:i,vDirection:n})}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach((e=>{e.setDragging(!1)}))}},hn=class extends Te{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find((t=>t.dragSource===e));t&&(this.removeListener(t),ve(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:s,stopPropagationForTouch:n}=e;i.addEventListener("mousedown",t);let o=null;const r=this.gos.get("suppressTouch");s&&!r&&(o=t=>{Ai(t.target)||(n&&t.stopPropagation(),this.onTouchStart(e,t))},i.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!s})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const s=t=>this.onTouchUp(t,e.eElement),n=t.target,o=[{target:U(this.gos),type:"touchmove",listener:e=>{e.cancelable&&e.preventDefault()},options:{passive:!1}},{target:n,type:"touchmove",listener:t=>this.onTouchMove(t,e.eElement),options:{passive:!0}},{target:n,type:"touchend",listener:s,options:{passive:!0}},{target:n,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(o),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t))return;if(i._alreadyProcessedByDragService)return;if(i._alreadyProcessedByDragService=!0,0!==t.button)return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const s=U(this.gos),n=[{target:s,type:"mousemove",listener:t=>this.onMouseMove(t,e.eElement)},{target:s,type:"mouseup",listener:t=>this.onMouseUp(t,e.eElement)},{target:s,type:"contextmenu",listener:e=>e.preventDefault()},{target:s,type:"keydown",listener:t=>{t.key===fs.ESCAPE&&this.cancelDrag(e.eElement)}}];this.addTemporaryEvents(n),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach((e=>{const{target:t,type:i,listener:s,options:n}=e;t.addEventListener(i,s,n)})),this.dragEndFunctions.push((()=>{e.forEach((e=>{const{target:t,type:i,listener:s,options:n}=e;t.removeEventListener(i,s,n)}))}))}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams;return rs(e,t,b(i)?i:4)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){if(gi()){const e=W(this.gos);e.getSelection()?.removeAllRanges()}this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),i="mousemove"===e.type;return t&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,i=t?.tagName.toLocaleLowerCase();return!!i?.match("^a$|textarea|input|select|button")}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventService.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((e=>e())),this.dragEndFunctions.length=0}},gn=class extends ts{constructor(e,t,i,s,n,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=s,this.dragStartPixels=n,this.suppressVisibilityChange=o,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(ns("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new fn(this,this.beans,this.rowNode,this.column):new mn(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const e=this.beans.selectionService.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&c("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:e=>{e?.preventDefault()}})[0]);const i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const e=this.getDragItem(),t=e.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(e,t):1===t?this.cellValueFn():`${t} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},pn=class extends Te{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let e=!0,i=!1;this.column&&(e=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=h(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,t),this.parent.setVisible(e,t)):(this.parent.setDisplayed(e,t),this.parent.setVisible(!0,t))}}},mn=class extends pn{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},fn=class extends pn{constructor(e,t,i,s){super(e,i,s),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),t=e&&e.shouldPreventRowMove(),i=this.gos.get("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones(),n=t&&!s||i;this.setDisplayedOrVisible(n)}},vn=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),Cn=class e{constructor(t){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const i=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,i,t);this.localEventService?.dispatchEvent(s)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,i){return{type:"dataChanged",node:this,oldData:t,newData:e,update:i}}getRowIndexString(){return null==this.rowIndex?(u("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):"top"===this.rowPinned?e.ID_PREFIX_TOP_PINNED+this.rowIndex:"bottom"===this.rowPinned?e.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new e(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(e,t){const i=b(this.id)?this.createDaemonNode():null,s=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,i);const n=this.createDataChangedEvent(e,s,!1);this.localEventService?.dispatchEvent(n)}checkRowSelectable(){const e=le(this.beans.gos);this.setRowSelectable(!e||e(this))}setRowSelectable(e,t){if(this.selectable!==e){if(this.selectable=e,this.dispatchRowEvent("selectableChanged"),t)return;if(he(this.beans.gos)){const e=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:e??!1,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){const i=te(this.beans.gos);if(i)if(this.data){const t=this.parent?.getRoute()??[];this.id=i({data:this.data,parentKeys:t.length>0?t:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&u(`Row IDs cannot start with ${e.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(null!==e))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.dispatchRowEvent("masterChanged"))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,null!=e&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=v(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,t=!0,i=0;const s=this.__autoHeights;if(null==s)return;if(this.beans.visibleColsService.getAllAutoHeightCols().forEach((n=>{let o=s[n.getId()];if(null==o){if(!this.beans.columnModel.isColSpanActive())return void(e=!0);{let t=[];switch(n.getPinned()){case"left":t=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":t=this.beans.visibleColsService.getRightColsForRow(this);break;case null:t=this.beans.columnViewportService.getColsWithinViewport(this)}if(t.includes(n))return void(e=!0);o=-1}}else t=!1;o>i&&(i=o)})),e)return;if((t||i<10)&&(i=N(this.beans.gos,this).height),i==this.rowHeight)return;this.setRowHeight(i);const n=this.beans.rowModel;n.onRowHeightChangedDebounced?.()}setExpanded(e,t,i){if(this.expanded===e)return;this.expanded=e,this.dispatchRowEvent("expandedChanged");const s={...this.createGlobalRowEvent("rowGroupOpened"),expanded:e,event:t||null};this.beans.rowNodeEventThrottle.dispatchExpanded(s,i),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return this.beans.gos.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(e,t,i){const s=(()=>"string"!==typeof e?e:this.beans.columnModel.getCol(e)??this.beans.columnModel.getColDefCol(e))(),n=this.beans.valueService.getValueForDisplay(s,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:s,colDef:s.getColDef(),data:this.data,node:this,oldValue:n,newValue:t,value:t,source:i}),!1;const o=this.beans.valueService.setValue(this,s,t,i);return this.dispatchCellChangedEvent(s,t,n),this.checkRowSelectable(),o}setGroupValue(e,t){const i=this.beans.columnModel.getCol(e);S(this.groupData)&&(this.groupData={});const s=i.getColId(),n=this.groupData[s];n!==t&&(this.groupData[s]=t,this.dispatchCellChangedEvent(i,t,n))}setAggData(e){const t=this.aggData;if(this.aggData=e,this.localEventService){const i=e=>{const i=this.aggData?this.aggData[e]:void 0,s=t?t[e]:void 0;if(i===s)return;const n=this.beans.columnModel.getCol(e);n&&this.dispatchCellChangedEvent(n,i,s)};for(const e in t)i(e);for(const s in e)t&&s in t||i(s)}}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(x(this.beans.gos)){const t=this.beans.gos.get("treeData"),i=this.beans.gos.get("isServerSideGroup");e=!this.stub&&!this.footer&&(t?!!i&&i(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,i){const s={type:"cellChanged",node:this,column:e,newValue:t,oldValue:i};this.localEventService?.dispatchEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((t=>t.depthFirstSearch(e))),e(this)}calculateSelectedFromChildren(){let e=!1,t=!1;if(!this.childrenAfterGroup?.length)return this.selectable?this.selected:null;for(let i=0;i<this.childrenAfterGroup.length;i++){const s=this.childrenAfterGroup[i];let n=s.isSelected();if(!s.selectable){const e=s.calculateSelectedFromChildren();if(null===e)continue;n=e}switch(n){case!0:e=!0;break;case!1:t=!0;break;default:return}}return e&&t?void 0:!!e||!t&&(this.selectable?this.selected:null)}setSelectedInitialValue(e){this.selected=e}dispatchRowEvent(e){this.localEventService?.dispatchEvent({type:e,node:this})}selectThisNode(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";const s=!this.selectable&&e,n=this.selected===e;if(s||n)return!1;this.selected=e,this.dispatchRowEvent("rowSelected");const o=this.sibling;return o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:t||null,source:i}),!0}setSelected(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";"boolean"!==typeof i?this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:i}):c("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(e){return this.rowPinned?(c("cannot select pinned rows"),0):void 0===this.id?(c("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...e,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(e,t){this.localEventService||(this.localEventService=new o),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new We(this.beans.frameworkOverrides));const i=this.frameworkEventListenerService?.wrap(t)??t;this.localEventService.addEventListener(e,i)}removeEventListener(e,t){if(!this.localEventService)return;const i=this.frameworkEventListenerService?.unwrap(t)??t;this.localEventService.removeEventListener(e,i),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(c("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return!!e&&e({rowNode:this})}getRoute(){if(-1===this.level)return[];if(null==this.key)return;const e=[];let t=this;for(;t&&null!=t.key;)e.push(t.key),t=t.parent;return e.reverse()}createFooter(){if(this.sibling)return;const t=new e(this.beans);Object.keys(this).forEach((e=>{vn.has(e)||(t[e]=this[e])})),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setLastChild(e){this.lastChild!==e&&(this.lastChild=e,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(e){this.childIndex!==e&&(this.childIndex=e,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setDragging(e){this.dragging!==e&&(this.dragging=e,this.dispatchRowEvent("draggingChanged"))}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};Cn.ID_PREFIX_ROW_GROUP="row-group-",Cn.ID_PREFIX_TOP_PINNED="t-",Cn.ID_PREFIX_BOTTOM_PINNED="b-",Cn.OBJECT_ID_SEQUENCE=0;var wn=Cn,bn=class extends ts{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then((()=>{}))??Is.resolve()}afterGuiAttached(e){this.filterWrapper?.filterPromise?.then((t=>{t?.afterGuiAttached?.(e)}))}afterGuiDetached(){this.filterWrapper?.filterPromise?.then((e=>{e?.afterGuiDetached?.()}))}createFilter(e){const{column:t,source:i}=this;this.filterWrapper=this.filterManager?.getOrCreateFilterWrapper(t)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then((s=>{const n=s.getGui();b(n)||c(`getGui method from filter returned ${n}; it should be a DOM element.`),this.appendChild(n),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:i,eGui:this.getGui()})}))}onFilterDestroyed(e){"api"!==e.source&&"paramsUpdated"!==e.source||e.column.getId()!==this.column.getId()||!this.columnModel.getColDefCol(this.column)||(Ni(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},Sn="ag-resizer-wrapper",yn=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,Rn=`<div class="${Sn}">\n        ${yn("eTopLeft","topLeft")}\n        ${yn("eTop","top")}\n        ${yn("eTopRight","topRight")}\n        ${yn("eRight","right")}\n        ${yn("eBottomRight","bottomRight")}\n        ${yn("eBottom","bottom")}\n        ${yn("eBottomLeft","bottomLeft")}\n        ${yn("eLeft","left")}\n    </div>`,An=class extends Te{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,s=e/2-this.getHeight()/2;this.offsetElement(i,s)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:s,minHeight:n,height:o,x:r,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,d=0;const c=Bi(this.element);if(c){const e=this.findBoundaryElement(),t=window.getComputedStyle(e);if(null!=t.minWidth){const i=e.offsetWidth-this.element.offsetWidth;d=parseInt(t.minWidth,10)-i}if(null!=t.minHeight){const i=e.offsetHeight-this.element.offsetHeight;l=parseInt(t.minHeight,10)-i}}if(this.minHeight=n||l,this.minWidth=i||d,s&&this.setWidth(s),o&&this.setHeight(o),s&&o||this.refreshSize(),e)this.center();else if(r||a)this.offsetElement(r,a);else if(c&&t){let e=this.boundaryEl,t=!0;if(e||(e=this.findBoundaryElement(),t=!1),e){const i=parseFloat(e.style.top),s=parseFloat(e.style.left);t?this.offsetElement(isNaN(s)?0:s,isNaN(i)?0:i):this.setPosition(s,i)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"===typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach((t=>{const i=!!e[t],s=this.getResizerElement(t),n={dragStartPixels:0,eElement:s,onDragStart:e=>this.onResizeStart(e,t),onDragging:this.onResize.bind(this),onDragStop:e=>this.onResizeEnd(e,t)};(i||!this.isAlive()&&!i)&&(i?(this.dragService.addDragSource(n),this.resizeListeners.push(n),s.style.pointerEvents="all"):s.style.pointerEvents="none",this.resizable[t]=i)}))}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;-1!==t&&(this.element.style.width=`${t}px`),-1!==e&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let s=!1;if("string"===typeof e&&-1!==e.indexOf("%"))Ui(i,e),e=Mi(i),s=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const t=this.getAvailableHeight();t&&e>t&&(e=t)}this.getHeight()!==e&&(s?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?Ui(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height="number"===typeof e?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const s=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:s.top,r=e?0:n.top;let a=0;if(t){const e=this.element.parentElement;if(e){const{bottom:t}=e.getBoundingClientRect();a=t-s.bottom}}return i+r-o-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let s=!1;if("string"===typeof e&&-1!==e.indexOf("%"))zi(t,e),e=xi(t),s=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:t}=this.offsetParent,s=i?this.position.x:this.element.getBoundingClientRect().left;t&&e+s>t&&(e=t-s)}this.getWidth()!==e&&(s?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?zi(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width="number"===typeof e?e:parseFloat(e)))}offsetElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{forcePopupParentAsOffsetParent:i}=this.config,s=i?this.boundaryEl:this.element;s&&(this.popupService.positionPopup({ePopup:s,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(s.style.left),parseFloat(s.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const e=this.getAvailableHeight();this.element.style.setProperty("max-height",`${e}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:s,anywhereWithin:n,topBuffer:o}=e,r=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!i,!!n,r)?0:r,movementY:this.shouldSkipY(t,!!s,o,a)?0:a}}shouldSkipX(e,t,i,s){const n=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:n.left;let l=a<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=r.right;return!!l||(l=t?s<0&&e.clientX>a+o.left||s>0&&e.clientX<a+o.left:i?s<0&&e.clientX>r.right||s>0&&e.clientX<a+o.left:s<0&&e.clientX>r.right||s>0&&e.clientX<r.right,l)}shouldSkipY(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3?arguments[3]:void 0;const n=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:n.top;let l=a<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=r.bottom;return!!l||(l=t?s<0&&e.clientY>a+o.top+i||s>0&&e.clientY<a+o.top:s<0&&e.clientY>r.bottom||s>0&&e.clientY<r.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const t=(new DOMParser).parseFromString(Rn,"text/html").body;e.appendChild(t.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${Sn}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:s}=this.config;i||s||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter((e=>!e.classList.contains("ag-hidden"))):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let s=0;s<e.length;s++){const n=e[s],o=!!n.style.flex&&"0 0 auto"!==n.style.flex;if(n===this.element)continue;let r=this.minHeight||0,a=this.minWidth||0;if(o){const e=window.getComputedStyle(n);e.minHeight&&(r=parseInt(e.minHeight,10)),e.minWidth&&(a=parseInt(e.minWidth,10))}else r=n.offsetHeight,a=n.offsetWidth;t+=r,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let s=0;s<i.length;s++){const n=i[s];n!==t&&(e?n.style.height=`${n.offsetHeight}px`:n.style.width=`${n.offsetWidth}px`,n.style.flex="0 0 auto",n===this.element&&(t=i[s+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some((e=>e))}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:s,isRight:n,isBottom:o,isLeft:r}=this.currentResizer,a=n||r,l=o||s,{movementX:d,movementY:c}=this.calculateMouseMovement({e:e,isLeft:r,isTop:s}),u=this.position.x,h=this.position.y;let g=0,p=0;if(a&&d){const e=r?-1:1,t=this.getWidth(),i=t+d*e;let s=!1;r&&(g=t-i,(u+g<=0||i<=this.minWidth)&&(s=!0,g=0)),s||this.setWidth(i)}if(l&&c){const e=s?-1:1,t=this.getHeight(),i=t+c*e;let n=!1;s?(p=t-i,(h+p<=0||i<=this.minHeight)&&(n=!0,p=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&t<i&&this.getMinSizeOfSiblings().height+i>this.element.parentElement.offsetHeight&&(n=!0),n||this.setHeight(i)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&g||p)&&this.offsetElement(u+g,h+p)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());const{movementX:n,movementY:o}=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(t+n,i+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},Fn=class e extends Te{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.eFocusableElement=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:e=>{if(e.defaultPrevented)return;const t=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e.shiftKey);t&&(t.focus(),e.preventDefault())},...t}}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:e=>{e.defaultPrevented||Ee(e)||(this.callbacks.shouldStopEventPropagation(e)?Fe(e):e.key===fs.TAB?this.callbacks.onTabKeyDown(e):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(e))}})}};Fn.FOCUS_MANAGED_CLASS="ag-focus-managed";var En=Fn,Dn={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function Pn(e,t){return kn(e)?(null!=e.debounceMs&&c("debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:t}function kn(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var Tn=class extends ts{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=es,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new En(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new An(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then((()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}setParams(e){this.providedFilterParams=e,this.applyActive=kn(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=kn(e),this.resetUiToActiveModel(this.getModel(),(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}resetButtonsPanel(e,t){const{buttons:i,readOnly:s}=t??{},{buttons:n,readOnly:o}=e;if(s===o&&D(i,n))return;const r=n&&n.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Ni(this.eButtonsPanel),this.buttonListeners.forEach((e=>e())),this.buttonListeners=[]):r&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!r)return void(this.eButtonsPanel&&Gi(this.eButtonsPanel));const a=document.createDocumentFragment(),l=e=>{let t,i;switch(e){case"apply":t=this.translate("applyFilter"),i=e=>this.onBtApply(!1,!1,e);break;case"clear":t=this.translate("clearFilter"),i=()=>this.onBtClear();break;case"reset":t=this.translate("resetFilter"),i=()=>this.onBtReset();break;case"cancel":t=this.translate("cancelFilter"),i=e=>{this.onBtCancel(e)};break;default:return void c("Unknown button type specified")}const s=Hi(`<button\n                    type="${"apply"===e?"submit":"button"}"\n                    data-ref="${e}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${t}\n                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(s,{click:i})),a.append(s)};n.forEach((e=>l(e))),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=Pn(this.providedFilterParams,this.getDefaultDebounceMs()),t=v(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then((()=>{this.updateUiVisibility(),this.applyModel("api")}))}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),(()=>{this.handleCancelEnd(e)}))}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),t?.()};null!=e?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then((()=>this.onUiChanged()))}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(){const e=this.getModelFromUi();if(!this.isModelValid(e))return!1;const t=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(t,e)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;if(i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")){const i="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:i})}const{closeOnApply:s}=this.providedFilterParams;s&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,i=t&&t.key;let s;"Enter"!==i&&"Space"!==i||(s={keyboardEvent:t}),this.hidePopup(s),this.hidePopup=null}onUiChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const e=this.isModelValid(this.getModelFromUi()),t=this.queryForHtmlElement('[data-ref="applyFilterButton"]');t&&Ei(t,!e)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||"toolPanel"===e)return;const t="floatingFilter"===e||"columnFilter"===e,{positionableFeature:i,gos:s}=this;t?(i.restoreLastSize(),i.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,Dn[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},Mn=class extends bs{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},xn=class extends ts{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),this.unFocusable||this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case fs.ENTER:if(this.highlightedEl){const e=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(e)}else this.setValue(this.getValue());break;case fs.DOWN:case fs.UP:e.preventDefault(),this.navigate(t);break;case fs.PAGE_DOWN:case fs.PAGE_UP:case fs.PAGE_HOME:case fs.PAGE_END:e.preventDefault(),this.navigateToPage(t)}}navigate(e){const t=e===fs.DOWN;let i;if(this.highlightedEl){let e=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);e=Math.min(Math.max(e,0),this.itemEls.length-1),i=this.itemEls[e]}else i=this.itemEls[t?0:this.itemEls.length-1];this.highlightItem(i)}navigateToPage(e){if(!this.highlightedEl||0===this.itemEls.length)return;const t=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,s=this.itemEls[0].clientHeight,n=Math.floor(this.getGui().clientHeight/s);let o=-1;e===fs.PAGE_HOME?o=0:e===fs.PAGE_END?o=i:e===fs.PAGE_DOWN?o=Math.min(t+n,i):e===fs.PAGE_UP&&(o=Math.max(t-n,0)),-1!==o&&this.highlightItem(this.itemEls[o])}addOptions(e){return e.forEach((e=>this.addOption(e))),this}addOption(e){const{value:t,text:i}=e,s=i||t;return this.options.push({value:t,text:s}),this.renderOption(t,s),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach((e=>{Gi(e)})),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(((t,i)=>{Xt(t,"posinset",i+1),function(e,t){Xt(e,"setsize",t)}(t,e.length)}))}renderOption(e,t){const i=W(this.gos),s=i.createElement("div");Zt(s,"option"),s.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const n=i.createElement("span");s.appendChild(n),n.textContent=t,this.unFocusable||(s.tabIndex=-1),this.itemEls.push(s),this.addManagedListeners(s,{mouseover:()=>this.highlightItem(s),mousedown:t=>{t.preventDefault(),t.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new Ji({getTooltipValue:()=>t,getGui:()=>s,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>n.scrollWidth>n.clientWidth})),this.getGui().appendChild(s)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(t),this;const i=this.options.findIndex((t=>t.value===e));if(-1!==i){const e=this.options[i];this.value=e.value,this.displayValue=e.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex((e=>e.value===this.value));-1!==e&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Bi(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),ui(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:i,clientHeight:s}=t,{offsetTop:n,offsetHeight:o}=e;(n+o>i+s||n<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){this.highlightedEl&&Bi(this.highlightedEl)&&(this.highlightedEl.classList.remove(this.activeClass),ui(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},In=class extends Cs{constructor(e){if(super(e,e?.template||'\n            <div class="ag-picker-field" role="presentation">\n                <div data-ref="eLabel"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=es,this.eWrapper=es,this.eDisplayField=es,this.eIcon=es,this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:s,minPickerWidth:n,maxPickerWidth:o}=e;null!=t&&(this.pickerGap=t),this.variableWidth=!!s,null!=i&&this.setPickerMaxHeight(i),null!=n&&this.setPickerMinWidth(n),null!=o&&this.setPickerMaxWidth(o)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:i,inputWidth:s}=this.config;if(i){const e=ns(i,this.gos);e&&this.eIcon.appendChild(e)}null!=s&&this.setInputWidth(s)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),ni(e,!1),this.ariaRole&&Zt(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case fs.UP:case fs.DOWN:case fs.ENTER:case fs.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case fs.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:s,modalPicker:n=!0}=this.config,o={modal:n,eChild:e,closeOnEsc:!0,closedCallback:()=>{const e=q(this.gos);this.beforeHidePicker(),e&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,s),anchorToElement:this.eWrapper};e.style.position="absolute";const r=this.popupService.addPopup(o),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:d,variableWidth:c}=this;c?(l&&(e.style.minWidth=l),e.style.width=Qi(xi(this.eWrapper)),d&&(e.style.maxWidth=d)):Wi(e,d??xi(this.eWrapper));const u=a??`${ki(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",u),this.alignPickerToComponent(),r.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;ni(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return Wi(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return"number"===typeof e&&(e=`${e}px`),this.minPickerWidth=null==e?void 0:e,this}setPickerMaxWidth(e){return"number"===typeof e&&(e=`${e}px`),this.maxPickerWidth=null==e?void 0:e,this}setPickerMaxHeight(e){return"number"===typeof e&&(e=`${e}px`),this.maxPickerHeight=null==e?void 0:e,this}destroy(){this.hidePicker(),super.destroy()}},Ln=class extends In{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:i}=this.config;null!=e&&this.addOptions(e),null!=t&&this.setValue(t,!0),i&&null==t&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new xn("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;var i,s;e.setAttribute("id",t),$t(i=this.getAriaElement(),"controls",(s=e).id),ti(s,i.id),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===fs.TAB&&this.hidePicker(),t){case fs.ENTER:case fs.UP:case fs.DOWN:case fs.PAGE_UP:case fs.PAGE_DOWN:case fs.PAGE_HOME:case fs.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case fs.ESCAPE:super.onKeyDown(e);break;case fs.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e)}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach((e=>this.addOption(e))),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(e,t,i){if(this.value===e||!this.listComponent)return this;i||this.listComponent.setValue(e,!0);if(this.listComponent.getValue()===this.getValue())return this;let s=this.listComponent.getDisplayValue();return null==s&&this.config.placeholder&&(s=this.config.placeholder),this.eDisplayField.textContent=s,this.setTooltip({newTooltipText:s??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},On={selector:"AG-SELECT",component:Ln},Vn=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach((e=>{if("string"===typeof e)return;[["displayKey"],["displayName"],["predicate","test"]].every((t=>!!t.some((t=>null!=e[t]))||(c(`ignoring FilterOptionDef as it doesn't contain one of '${t}'`),!1)))?this.customFilterOptions[e.displayKey]=e:this.filterOptions=this.filterOptions.filter((t=>t===e))||[]}))}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const e=this.filterOptions[0];"string"===typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:c("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else c("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},Nn=class extends Tn{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:e}=t;return null!=e?e:1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:"inRange"===e?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach(((t,i)=>{0===i?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)}))}getModelFromUi(){const e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map((e=>e.getValue()))}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const i=!e.operator,s=!t.operator;if(!i&&s||i&&!s)return!1;let n;if(i){const i=e,s=t;n=this.areSimpleModelsEqual(i,s)}else{const i=e,s=t;n=i.operator===s.operator&&me(i.conditions,s.conditions,((e,t)=>this.areSimpleModelsEqual(e,t)))}return n}shouldRefresh(e){const t=this.getModel(),i=t?t.conditions??[t]:null,s=e.filterOptions?.map((e=>"string"===typeof e?e:e.displayKey))??this.getDefaultFilterOptions();return!(i&&!i.every((e=>void 0!==s.find((t=>t===e.type)))))&&!("number"===typeof e.maxNumConditions&&i&&i.length>e.maxNumConditions)}refresh(e){if(!this.shouldRefresh(e))return!1;return!!super.refresh(e)&&(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const t=e;let i=t.conditions;null==i&&(i=[],c("Filter model is missing 'conditions'"));const s=this.validateAndUpdateConditions(i),n=this.getNumConditions();if(s<n)this.removeConditionsAndOperators(s);else if(s>n)for(let e=n;e<s;e++)this.createJoinOperatorPanel(),this.createOption();const o="OR"===t.operator;this.eJoinOperatorsAnd.forEach((e=>e.setValue(!o,!0))),this.eJoinOperatorsOr.forEach((e=>e.setValue(o,!0))),i.forEach(((e,t)=>{this.eTypes[t].setValue(e.type,!0),this.setConditionIntoUi(e,t)}))}else{const t=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(t.type,!0),this.setConditionIntoUi(t,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Is.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),c('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(null==t)return!0;const{operator:i}=t,s=[];if(i){const e=t;s.push(...e.conditions??[])}else s.push(t);return s[i&&"OR"===i?"some":"every"]((t=>this.individualConditionPasses(e,t)))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new Vn,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(c('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(c('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(c('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new Ln);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,(e=>this.resetInput(e))),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const s=this.eJoinOperatorPanels.length-1,n=this.joinOperatorId++;this.resetJoinOperatorAnd(t,s,n),this.resetJoinOperatorOr(i,s,n),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){const s=this.createManagedBean(new Mn);return e.push(s),s.addCssClass("ag-filter-condition-operator"),s.addCssClass(`ag-filter-condition-operator-${i}`),t.appendChild(s.getGui()),s}getDefaultJoinOperator(e){return"AND"===e||"OR"===e?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map((e=>"string"===typeof e?this.createBoilerplateListOption(e):this.createCustomListOption(e)))}putOptionsIntoDropdown(e){this.filterListOptions.forEach((t=>{e.addOption(t)})),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const t=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<t){this.removeConditionsAndOperators(t+1);const i=e+1,s=t-i;s>0&&this.removeConditionsAndOperators(i,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach(((t,i)=>{const s=this.isConditionDisabled(i,e);t.setDisabled(s||this.filterListOptions.length<=1),1===i&&(Ei(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))})),this.eConditionBodies.forEach(((e,t)=>{Fi(e,this.isConditionBodyVisible(t))}));const i="OR"===(t??this.getJoinOperator());this.eJoinOperatorsAnd.forEach((e=>{e.setValue(!i,!0)})),this.eJoinOperatorsOr.forEach((e=>{e.setValue(i,!0)})),this.forEachInput(((t,i,s,n)=>{this.setElementDisplayed(t,i<n),this.setElementDisabled(t,this.isConditionDisabled(s,e))})),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach((e=>Gi(e)))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach((e=>{Gi(e.getGui()),this.destroyBean(e)}))}removeItems(e,t,i){return null==i?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{const e=this.getInputs(0)[0];if(!e)return;e instanceof ws&&e.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,s=!1;const n=this.getJoinOperator();for(let r=this.getNumConditions()-1;r>=0;r--)if(this.isConditionUiComplete(r))-1===t&&(t=r,i=r);else{const e=r<t;(r>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(r-1)||e)&&(this.removeConditionsAndOperators(r,1),s=!0,e&&i--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(i,n),s&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(h(this.filterPlaceholder)){const e=this.filterPlaceholder,s=this.eTypes[t].getValue();i=e({filterOptionKey:s,filterOption:this.translate(s),placeholder:i})}else"string"===typeof this.filterPlaceholder&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput(((t,i,s,n)=>{if(!(t instanceof ws))return;const o=0===i&&n>1?"inRangeStart":0===i?"filterOoo":"inRangeEnd",r=0===i&&n>1?e("ariaFilterFromValue","Filter from value"):0===i?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(o,s)),t.setInputAriaLabel(r)}))}setElementValue(e,t,i){e instanceof ws&&e.setValue(null!=t?String(t):null,!0)}setElementDisplayed(e,t){e instanceof ts&&Fi(e.getGui(),t)}setElementDisabled(e,t){e instanceof ts&&Ei(e.getGui(),t)}attachElementOnChange(e,t){e instanceof ws&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach(((t,i)=>{this.forEachPositionTypeInput(i,t,e)}))}forEachPositionInput(e,t){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){const s=this.getNumberOfInputs(t),n=this.getInputs(e);for(let o=0;o<n.length;o++){const t=n[o];null!=t&&i(t,o,e,s)}}isConditionDisabled(e,t){return!!this.isReadOnly()||0!==e&&e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){if(e>=this.getNumConditions())return!1;return"empty"!==this.getConditionType(e)&&!this.getValues(e).some((e=>null==e))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach((e=>this.resetType(e))),this.eJoinOperatorsAnd.forEach(((e,t)=>this.resetJoinOperatorAnd(e,t,this.joinOperatorId+t))),this.eJoinOperatorsOr.forEach(((e,t)=>this.resetJoinOperatorOr(e,t,this.joinOperatorId+t))),this.joinOperatorId++,this.forEachInput((e=>this.resetInput(e))),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Is.resolve()}resetType(e){const t=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(t).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,s,n){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${n}`).setLabel(s),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach(((e,t)=>this.updateJoinOperatorDisabled(e,t))),this.eJoinOperatorsOr.forEach(((e,t)=>this.updateJoinOperatorDisabled(e,t)))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const i=this.mapValuesFromModel(e);this.forEachInput(((e,s,n)=>{n===t&&this.setElementValue(e,null!=i[s]?i[s]:null)}))}setValueFromFloatingFilter(e){this.forEachInput(((t,i,s)=>{this.setElementValue(t,0===i&&0===s?e:null,!0)}))}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,(e=>{this.attachElementOnChange(e,this.listener)})))}individualConditionPasses(e,t){const i=this.getCellValue(e.node),s=this.mapValuesFromModel(t),n=this.optionsFactory.getCustomOption(t.type),o=this.evaluateCustomFilter(n,s,i);return null!=o?o:null==i?this.evaluateNullValue(t.type):this.evaluateNonNullValue(s,i,t,e)}evaluateCustomFilter(e,t,i){if(null==e)return;const{predicate:s}=e;return null==s||t.some((e=>null==e))?void 0:s(t,i)}isBlank(e){return null==e||"string"===typeof e&&0===e.trim().length}hasInvalidInputs(){return!1}},Gn=class extends Nn{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){const s=this.comparator(),n=null!=e[0]?s(e[0],t):0;switch(i.type){case"equals":return 0===n;case"notEqual":return 0!==n;case"greaterThan":return n>0;case"greaterThanOrEqual":return n>=0;case"lessThan":return n<0;case"lessThanOrEqual":return n<=0;case"inRange":{const i=s(e[1],t);return this.scalarFilterParams.inRangeInclusive?n>=0&&i<=0:n>0&&i<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return c('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}};function _n(e){if(e.altKey||e.ctrlKey||e.metaKey)return!1;return 1===e.key?.length}function Bn(e,t,i,s,n){const o=s?s.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const r=e.addGridCommonParams({event:t,editing:n,column:s,node:i,data:i.data,colDef:s.getColDef()});if(o){if(o(r))return!0}return!1}var Hn=class extends ws{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ag-text-field",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text")}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=b(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListeners(this.eInput,{keydown:t=>{_n(t)&&t.key&&!e.test(t.key)&&t.preventDefault()},paste:t=>{const i=t.clipboardData?.getData("text");i&&i.split("").some((t=>!e.test(t)))&&t.preventDefault()}})}},Wn={selector:"AG-INPUT-TEXT-FIELD",component:Hn},zn=class extends Hn{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const e=parseFloat(this.eInput.value),t=isNaN(e)?"":this.normalizeValue(e.toString());this.value!==t&&this.setValue(t)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:i,step:s}=this.config;"number"===typeof e&&this.setPrecision(e),"number"===typeof t&&this.setMin(t),"number"===typeof i&&this.setMax(i),"number"===typeof s&&this.setStep(s)}onWheel(e){Q(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));const t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(null==this.precision)return e;if(t){const t=parseFloat(e).toFixed(this.precision);return parseFloat(t).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e||(this.min=e,Ki(this.eInput,"min",e)),this}setMax(e){return this.max===e||(this.max=e,Ki(this.eInput,"max",e)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e||(this.step=e,Ki(this.eInput,"step",e)),this}setValue(e,t){return this.setValueOrInputValue((e=>super.setValue(e,t)),(()=>this),e)}setStartValue(e){return this.setValueOrInputValue((e=>super.setValue(e,!0)),(e=>{this.eInput.value=e}),e)}setValueOrInputValue(e,t,i){if(b(i)){let s=this.isScientificNotation(i);if(s&&this.eInput.validity.valid)return e(i);if(!s){s=(i=this.adjustPrecision(i))!=this.normalizeValue(i)}if(s)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return"string"===typeof e&&e.includes("e")}},Un={selector:"AG-INPUT-NUMBER-FIELD",component:zn},Qn=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],qn=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;const t=null!=e.operator,i=this.localeService.getLocaleTextFunc();if(t){const t=e,s=(t.conditions??[]).map((e=>this.getModelAsString(e))),n="AND"===t.operator?"andCondition":"orCondition";return s.join(` ${i(n,Dn[n])} `)}if("blank"===e.type||"notBlank"===e.type)return i(e.type,e.type);{const t=e,s=this.optionsFactory.getCustomOption(t.type),{displayKey:n,displayName:o,numberOfInputs:r}=s||{};return n&&o&&0===r?(i(n,o),o):this.conditionToString(t,s)}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},Kn=class extends qn{conditionToString(e,t){const{numberOfInputs:i}=t||{};return"inRange"==e.type||2===i?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:null!=e.filter?this.formatValue(e.filter):`${e.type}`}};function jn(e){const{allowedCharPattern:t}=e??{};return t??null}var $n=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],Xn=class extends qn{conditionToString(e,t){const{numberOfInputs:i}=t||{};return"inRange"==e.type||2===i?`${e.filter}-${e.filterTo}`:null!=e.filter?`${e.filter}`:`${e.type}`}};function Yn(e){const t=e&&e.trim();return""===t?e:t}function Jn(e){if("number"===typeof e)return e;if("string"===typeof e){const t=parseInt(e);if(isNaN(t))return;return t}}function Zn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return i=>{const s=Jn(i);if(!(null==s||s<e||s>t))return s}}function eo(e,t){return e.toString().padStart(t,"0")}function to(e,t,i){return"number"!==typeof e?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function io(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";if(!e)return null;let s=[e.getFullYear(),e.getMonth()+1,e.getDate()].map((e=>eo(e,2))).join(i);return t&&(s+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map((e=>eo(e,2))).join(":")),s}var so=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function no(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";const i=eo(e.getFullYear(),4),s=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>s[e.getMonth()],MMM:()=>s[e.getMonth()].slice(0,3),MM:()=>eo(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${so(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${so(e.getDate())}`,DD:()=>eo(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>n[e.getDay()],ddd:()=>n[e.getDay()].slice(0,3),dd:()=>n[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${so(e.getDay())}`,d:()=>`${e.getDay()}`},r=new RegExp(Object.keys(o).join("|"),"g");return t.replace(r,(e=>e in o?o[e]():e))}function oo(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const s=t.split("-").map((e=>parseInt(e,10)));if(3!==s.filter((e=>!isNaN(e))).length)return null;const[n,o,r]=s,a=new Date(n,o-1,r);if(a.getFullYear()!==n||a.getMonth()!==o-1||a.getDate()!==r)return null;if(!i||"00:00:00"===i)return a;const[l,d,c]=i.split(":").map((e=>parseInt(e,10)));return l>=0&&l<24&&a.setHours(l),d>=0&&d<60&&a.setMinutes(d),c>=0&&c<60&&a.setSeconds(c),a}var ro=class{constructor(e,t,i,s,n){this.alive=!0,this.context=e,this.eParent=s;t.getDateCompDetails(i).newAgStackInstance().then((t=>{this.alive?(this.dateComp=t,t&&(s.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),this.tempValue&&t.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled),n?.(this))):e.destroyBean(t)}))}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Fi(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&"function"===typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)}updateParams(e){let t=!1;if(this.dateComp?.refresh&&"function"===typeof this.dateComp.refresh){null!==this.dateComp.refresh(e)&&(t=!0)}if(!t&&this.dateComp?.onParamsUpdated&&"function"===typeof this.dateComp.onParamsUpdated){null!==this.dateComp.onParamsUpdated(e)&&c("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}}setDateCompDisabled(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)}},ao=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],lo=class extends qn{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:s}=t||{},n="inRange"==i||2===s,o=oo(e.dateFrom),r=oo(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(n){return`${null!==o?no(o,a):"null"}-${null!==r?no(r,a):"null"}`}return null!=o?no(o,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},co=1/0,uo=class extends Te{constructor(e,t,i,s){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=s,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?pe(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=b(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),s=this.modifyLeftForPrintLayout(e,i),n=this.modifyLeftForPrintLayout(e,t);this.setLeft(s),this.actualLeft=n,this.beans.columnAnimationService.executeNextVMTurn((()=>{this.actualLeft===n&&this.setLeft(n)}))}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!I(this.beans.gos,"print"))return t;if("left"===e.getPinned())return t;const i=this.beans.visibleColsService.getColsLeftWidth();if("right"===e.getPinned()){return i+this.beans.visibleColsService.getBodyContainerWidth()+t}return i+t}setLeft(e){if(b(e)&&(this.eCell.style.left=`${e}px`),Rt(this.columnOrGroup)){const e=this.columnOrGroup.getLeafColumns();if(!e.length)return;e.length>1&&(t=this.ariaEl,i=e.length,Xt(t,"colspan",i))}var t,i}};function ho(e,t,i,s){return S(e)?[]:po(e.headerClass,e,t,i,s)}function go(e,t,i){e.addOrRemoveCssClass("ag-column-first",i.isColAtEdge(t,"first")),e.addOrRemoveCssClass("ag-column-last",i.isColAtEdge(t,"last"))}function po(e,t,i,s,n){if(S(e))return[];let o;if("function"===typeof e){const r=function(e,t,i,s){return t.addGridCommonParams({colDef:e,column:i,columnGroup:s})}(t,i,s,n);o=e(r)}else o=e;return"string"===typeof o?[o]:Array.isArray(o)?[...o]:[]}var mo=0,fo=class e extends Te{constructor(e,t,i){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=e,this.parentRowCtrl=i,this.beans=t,this.instanceId=e.getUniqueId()+"-"+mo++}wireBeans(e){this.pinnedWidthService=e.pinnedWidthService,this.focusService=e.focusService,this.userComponentFactory=e.userComponentFactory,this.ctrlsService=e.ctrlsService,this.dragAndDropService=e.dragAndDropService,this.menuService=e.menuService}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:i}=this.focusService.getFocusedHeader();return function(e,t,i,s){const n=s.getDefinition(),o=n&&n.suppressHeaderKeyboardEvent;return!!b(o)&&!!o(e.addGridCommonParams({colDef:n,column:s,headerRowIndex:i,event:t}))}(this.gos,e,t,i)}getWrapperHasFocus(){return Q(this.gos)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:i,compBean:s}=e,{animationFrameService:n,resizeObserverService:o,columnModel:r,gos:a}=this.beans,l=e=>{if(!this.isAlive()||!s.isAlive())return;const{paddingTop:i,paddingBottom:o,borderBottomWidth:d,borderTopWidth:c}=Pi(this.getGui()),u=i+o+d+c,h=t.offsetHeight+u;if(e<5){const i=W(a);if(!i||!i.contains(t)||0==h)return void n.requestAnimationFrame((()=>l(e+1)))}r.setColHeaderHeight(this.column,h)};let d,c=!1;const u=()=>{const e=this.column.isAutoHeaderHeight();e&&!c&&h(),!e&&c&&g()},h=()=>{c=!0,l(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),d=o.observeResize(t,(()=>l(0)))},g=()=>{c=!1,d&&d(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),d=void 0};u(),s.addDestroyFunc((()=>g())),s.addManagedListeners(this.column,{widthChanged:()=>c&&l(0)}),s.addManagedEventListeners({sortChanged:()=>{c&&window.setTimeout((()=>l(0)))}}),i&&i(u)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:i,eGui:s}=this;e&&t&&s&&(go(e,t,i.visibleColsService),li(s,i.visibleColsService.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){this.resizeFeature&&e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=this.focusService.isHeaderFocusSuppressed();this.eGui&&Ki(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=Q(this.gos),i=e.key===fs.LEFT||e.key===fs.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey)return;if((this.isResizing||i)&&(e.preventDefault(),e.stopImmediatePropagation()),!i)return;const s=e.key===fs.LEFT!==this.gos.get("enableRtl"),n=ln[s?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const t=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(t,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(n)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e);if(this.column.getPinned()){const e=this.pinnedWidthService.getPinnedLeftWidth(),i=this.pinnedWidthService.getPinnedRightWidth(),s=Ti(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(e+i+t>s){if(!(s>e+i))return 0;t=s-e-i}}return t}getResizeDiff(e){let t=e.key===fs.LEFT!==this.gos.get("enableRtl");const i=this.column.getPinned(),s=this.gos.get("enableRtl");return i&&s!==("right"===i)&&(t=!t),(t?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout((()=>{this.resizeFeature?.toggleColumnResizing(!1)}),150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case fs.PAGE_DOWN:case fs.PAGE_UP:case fs.PAGE_HOME:case fs.PAGE_END:t&&e.preventDefault()}}addDomData(t){const i=e.DOM_DATA_KEY_HEADER_CTRL;H(this.gos,this.eGui,i,this),t.addDestroyFunc((()=>H(this.gos,this.eGui,i,null)))}getGui(){return this.eGui}focus(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,i){const s=e??t;this.gos.get("preventDefaultOnContextMenu")&&s.preventDefault(),this.menuService.isHeaderContextMenuEnabled(i)&&this.menuService.showHeaderContextMenu(i,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",i)}dispatchColumnMouseEvent(e,t){this.eventService.dispatchEvent({type:e,column:t})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};fo.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var vo=fo,Co=class extends Te{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};var wo="32.2.1";var bo={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},So=["january","february","march","april","may","june","july","august","september","october","november","december"];var yo=class extends ts{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e)return void(this.lastType=this.optionsFactory.getDefaultOption());let t;if(e.operator){t=e.conditions[0]}else t=e;this.lastType=t.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const t=e;return this.isTypeEditable(t.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.optionsFactory=new Vn,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return null==i||1==i}isTypeEditable(e){return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&["inRange","empty","blank","notBlank"].indexOf(e)<0}getAriaLabel(e){return`${this.columnNameService.getDisplayNameForColumn(e.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},Ro=class extends Te{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=es,this.valueChangedListener=()=>{}}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new Hn(this.params?.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const i=e=>this.valueChangedListener(e);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},Ao=class extends yo{constructor(){super(...arguments),this.eFloatingFilterInputContainer=es}postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=kn(this.params.filterParams),!this.isReadOnly()){const e=Pn(this.params.filterParams,this.getDefaultDebounceMs()),t=v(this.syncUpWithParentFilter.bind(this),e);this.floatingFilterInputService.setValueChangedListener(t)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();Ni(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===fs.ENTER;if(this.applyActive&&!t)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=Yn(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance((e=>{e&&e.onFloatingFilterChanged(this.getLastType()||null,i||null)}))}setEditable(e){this.floatingFilterInputService.setEditable(e)}},Fo=class extends Te{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new zn),this.eFloatingFilterTextInput=this.createManagedBean(new Hn),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,(e=>this.valueChangedListener(e))),this.setupListeners(i,(e=>this.valueChangedListener(e)))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}};var Eo={version:wo,moduleName:"@ag-grid-community/filter-core",beans:[class extends Te{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:e=>{let{enabled:t}=e;return this.onAdvancedFilterEnabledChanged(t)},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],(()=>{this.onFilterChanged({source:"api"})})),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",(()=>{this.updateAggFiltering(),this.onFilterChanged()})),this.addManagedPropertyListener("advancedFilterModel",(e=>this.setAdvancedFilterModel(e.currentValue))),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return"function"===typeof e&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return"function"===typeof t&&t(e)}setFilterModel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this.isAdvancedFilterEnabled()?this.warnAdvancedFilters():this.columnFilterService?.setFilterModel(e,t)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){e?this.columnFilterService?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilterService?.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){X(this.gos)&&this.onFilterChanged()}onFilterChanged(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{source:t,additionalEventAttributes:i,columns:s=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):Is.resolve()).then((()=>{const e={source:t,type:"filterChanged",columns:s};i&&je(e,i),this.eventService.dispatchEvent(e),this.columnFilterService?.updateAfterFilterChanged()}))}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!X(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode))&&!(this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode))&&(!(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode))&&(!(this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip))&&!(this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))))}isFilterActive(e){return!!this.columnFilterService?.isFilterActive(e)}getOrCreateFilterWrapper(e){return this.columnFilterService?.getOrCreateFilterWrapper(e)??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){return!this.isAdvancedFilterEnabled()&&!!this.columnFilterService?.isFilterAllowed(e)}getFloatingFilterCompDetails(e,t){return this.columnFilterService?.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){return this.columnFilterService?.getCurrentFloatingFilterParentModel(e)}destroyFilter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this.columnFilterService?.destroyFilter(e,t)}areFilterCompsDifferent(e,t){return!!this.columnFilterService?.areFilterCompsDifferent(e,t)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){this.isAdvancedFilterEnabled()&&(this.dataTypeService?.isPendingInference()?this.advancedFilterModelUpdateQueue.push(e):(this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})))}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return!this.isAdvancedFilterEnabled()&&!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(e,t){if(!this.isAdvancedFilterEnabled())return this.columnFilterService?.getFilterInstance(e,t);this.warnAdvancedFilters()}getColumnFilterInstance(e){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):this.columnFilterService?.getColumnFilterInstance(e)??Promise.resolve(void 0)}warnAdvancedFilters(){c("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){this.advancedFilterService?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach((e=>this.setAdvancedFilterModel(e))),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){return this.columnFilterService?.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):this.columnFilterService?.setColumnFilterModel(e,t)??Promise.resolve()}setColDefPropertiesForDataType(e,t,i){this.columnFilterService?.setColDefPropertiesForDataType(e,t,i)}}]},Do={version:wo,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:function(e){return!!e.filterManager?.isAnyFilterPresent()},onFilterChanged:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";e.filterManager?.onFilterChanged({source:t})}},dependantModules:[Eo]},Po={version:wo,moduleName:"@ag-grid-community/column-filter",beans:[class extends Te{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...this.gos.get("initialState")?.filter?.filterModel??{}}}setFilterModel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";if(this.dataTypeService?.isPendingInference())return void this.filterModelUpdateQueue.push({model:e,source:t});const i=[],s=this.getFilterModel(!0);if(e){const t=new Set(Object.keys(e));this.allColumnFilters.forEach(((s,n)=>{const o=e[n];i.push(this.setModelOnFilterWrapper(s.filterPromise,o)),t.delete(n)})),t.forEach((t=>{const s=this.columnModel.getColDefCol(t)||this.columnModel.getCol(t);if(!s)return void c("setFilterModel() - no column found for colId: "+t);if(!s.isFilterAllowed())return void c("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+t);const n=this.getOrCreateFilterWrapper(s);n?i.push(this.setModelOnFilterWrapper(n.filterPromise,e[t])):c("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+t)}))}else this.allColumnFilters.forEach((e=>{i.push(this.setModelOnFilterWrapper(e.filterPromise,null))}));Is.all(i).then((()=>{const e=this.getFilterModel(!0),i=[];this.allColumnFilters.forEach(((t,n)=>{D(s?s[n]:null,e?e[n]:null)||i.push(t.column)})),i.length>0&&this.filterManager?.onFilterChanged({columns:i,source:t})}))}setModelOnFilterWrapper(e,t){return new Is((i=>{e.then((e=>{"function"!==typeof e.setModel&&(c("filter missing setModel method, which is needed for setFilterModel"),i()),(e.setModel(t)||Is.resolve()).then((()=>i()))}))}))}getFilterModel(e){const t={},{allColumnFilters:i,initialFilterModel:s}=this;return i.forEach(((e,i)=>{const s=this.getModelFromFilterWrapper(e);b(s)&&(t[i]=s)})),e||Object.entries(s).forEach((e=>{let[s,n]=e;b(n)&&!i.has(s)&&this.columnModel.getCol(s)?.isFilterAllowed()&&(t[s]=n)})),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?"function"!==typeof t.getModel?(c("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return!!this.allColumnFilters.size&&(this.allColumnFilters.forEach((e=>this.disposeFilterWrapper(e,"advancedFilterEnabled"))),!0)}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=!!X(this.gos),t=t=>{if(!t.isPrimary())return!0;const i=!this.columnModel.isPivotActive();return!(!t.isValueActive()||!i)&&(!!this.columnModel.isPivotMode()||e)},i=[],s=[];return this.forEachColumnFilter(((e,n)=>{const o=(e=>!!e&&(e.isFilterActive?e.isFilterActive():(c("Filter is missing isFilterActive() method"),!1)))(e);o&&(t(n.column)?i.push(e):s.push(e))})).then((()=>{this.activeAggregateFilters=i,this.activeColumnFilters=s}))}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter(((i,s)=>s.column.setFilterActive(i.isFilterActive(),e,t)))}forEachColumnFilter(e){return Is.all(Array.from(this.allColumnFilters.values()).map((t=>t.filterPromise.then((i=>e(i,t))))))}doColumnFiltersPass(e,t,i){const{data:s,aggData:n}=e,o=i?this.activeAggregateFilters:this.activeColumnFilters,r=i?n:s;for(let a=0;a<o.length;a++){const i=o[a];if(null!=i&&i!==t){if("function"!==typeof i.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!i.doesFilterPass({node:e,data:r}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>this.filterManager?.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then((()=>this.updateFilterFlagInColumns("filterChanged",i).then((()=>{this.allColumnFilters.forEach((e=>{e.filterPromise&&e.filterPromise.then((e=>{e&&e!==t&&e.onAnyFilterChanged&&e.onAnyFilterChanged()}))})),this.processingFilterChange=!0}))))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter((e=>{e.onNewRowsLoaded&&e.onNewRowsLoaded()})).then((()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0}))).then((()=>this.updateActiveFilters()))}createValueGetter(e){return t=>{let{node:i}=t;return this.valueService.getValue(e,i,!0)}}createGetValue(e){return(t,i)=>{const s=i?this.columnModel.getCol(i):e;return s?this.valueService.getValue(s,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():null!=this.getModelFromInitialState(e)}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(ge(this.gos))t="agSetColumnFilter";else{const i=this.dataTypeService?.getBaseDataType(e);t="number"===i?"agNumberColumnFilter":"date"===i||"dateString"===i?"agDateColumnFilter":"agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(ge(this.gos))t="agSetColumnFloatingFilter";else{const i=this.dataTypeService?.getBaseDataType(e);t="number"===i?"agNumberColumnFloatingFilter":"date"===i||"dateString"===i?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const i=this.getDefaultFilter(e),s=e.getColDef();let n;const o={...this.createFilterParams(e,s),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(n,e)(),filterChangedCallback:t=>this.filterChangedCallbackFactory(n,e)(t),doesRowPassOtherFilter:e=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(n,e)},r=this.userComponentFactory.getFilterDetails(s,o,i);return r?{filterPromise:()=>{const e=r.newAgStackInstance();return null!=e&&e.then((e=>{n=e,t&&(t.filter=e)})),e},compDetails:r}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:Qe(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:i,compDetails:s}=this.createFilterInstance(e,t);return t.filterPromise=i?.()??null,t.compDetails=s,t}onColumnsChanged(){const e=[];this.allColumnFilters.forEach(((t,i)=>{let s;s=t.column.isPrimary()?this.columnModel.getColDefCol(i):this.columnModel.getCol(i),s&&s===t.column||(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(i))}));const t=e.every((e=>"agGroupColumnFilter"===e.getColDef().filter));e.length>0&&!t?this.filterManager?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e?.forEach((e=>{"agGroupColumnFilter"===e.getColDef().filter&&this.getOrCreateFilterWrapper(e)}))}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:t}=this.allColumnFilters.get(e.getColId())??{};return!t||("function"!==typeof t?.isFilterAllowed||t.isFilterAllowed())}getFloatingFilterCompDetails(e,t){const i=t=>{const i=this.getOrCreateFilterWrapper(e)?.filterPromise;null!=i&&i.then((e=>{t(sn(e))}))},s=e.getColDef(),n={...this.createFilterParams(e,s),filterChangedCallback:()=>i((t=>this.filterChangedCallbackFactory(t,e)()))},o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,qs,n);let r=function(e,t,i){if(null==t)return null;let s=null;const{compName:n,jsComp:o,fwComp:r}=tn.getCompKeys(e,t,qs);n?s={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[n]:null==o&&null==r&&!0===t.filter&&(s=i());return s}(this.frameworkOverrides,s,(()=>this.getDefaultFloatingFilter(e)));null==r&&(r="agReadOnlyFloatingFilter");const a={column:e,filterParams:o,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(s,a,r)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";const i=e.getColId(),s=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],s&&(this.disposeFilterWrapper(s,t),this.filterManager?.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then((i=>{this.destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})}))}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return i=>{const s={filter:e,additionalEventAttributes:i,columns:[t],source:i?.source??"columnFilter"};this.callOnFilterChangedOutsideRenderCycle(s)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:s}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,s))return void this.destroyFilter(i,"paramsUpdated");const n=i.getColDef().filterParams;t.filterPromise?t.filterPromise.then((e=>{!1===(!e?.refresh||e.refresh({...this.createFilterParams(i,i.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(e,i),filterChangedCallback:this.filterChangedCallbackFactory(e,i),doesRowPassOtherFilter:t=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(e,t),...n}))&&this.destroyFilter(i,"paramsUpdated")})):this.destroyFilter(i,"paramsUpdated")}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:s}=t;return!(i===s||i?.render&&s?.render&&i.render===s.render)}hasFloatingFilters(){return this.columnModel.getCols().some((e=>e.getColDef().floatingFilter))}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then((e=>{const i=sn(e);t(i)}))}getColumnFilterInstance(e){return new Promise((t=>{this.getFilterInstanceImpl(e).then((e=>{t(sn(e))}))}))}getFilterInstanceImpl(e){const t=this.columnModel.getColDefCol(e);if(!t)return Is.resolve(void 0);const i=this.getOrCreateFilterWrapper(t)?.filterPromise;return i??Is.resolve(null)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach((e=>{let{model:t,source:i}=e;return this.setFilterModel(t,i)})),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach((e=>{let{key:t,model:i,resolve:s}=e;this.setColumnFilterModel(t,i).then((()=>s()))})),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.dataTypeService?.isPendingInference()){let i=()=>{};const s=new Promise((e=>{i=e}));return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:i}),s}const i=this.columnModel.getColDefCol(e),s=i?this.getOrCreateFilterWrapper(i):null;return s?(n=this.setModelOnFilterWrapper(s.filterPromise,t),new Promise((e=>{n.then((t=>e(t)))}))):Promise.resolve();var n}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,i){const s=ge(this.gos),n=this.localeService.getLocaleTextFunc(),o=t=>{const{filterParams:i}=e;e.filterParams="object"===typeof i?{...i,...t}:t};switch(t.baseDataType){case"number":s&&o({comparator:(e,t)=>{const i=null==e?0:parseInt(e),s=null==t?0:parseInt(t);return i===s?0:i>s?1:-1}});break;case"boolean":o(s?{valueFormatter:e=>b(e.value)?n(String(e.value),e.value?"True":"False"):n("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>!1===t,numberOfInputs:0}]});break;case"date":s&&o({valueFormatter:e=>{const t=i(e);return b(t)?t:n("blanks","(Blanks)")},treeList:!0,treeListFormatter:(e,t)=>{if(1===t&&null!=e){const t=So[Number(e)-1];return n(t,bo[t])}return e??n("blanks","(Blanks)")}});break;case"dateString":{const e=t.dateParser;o(s?{valueFormatter:e=>{const t=i(e);return b(t)?t:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:t=>{const i=e(t??void 0);return i?[String(i.getFullYear()),String(i.getMonth()+1),String(i.getDate())]:null},treeListFormatter:(e,t)=>{if(1===t&&null!=e){const t=So[Number(e)-1];return n(t,bo[t])}return e??n("blanks","(Blanks)")}}:{comparator:(t,i)=>{const s=e(i);return null==i||s<t?-1:s>t?1:0}});break}case"object":s?o({valueFormatter:e=>{const t=i(e);return b(t)?t:n("blanks","(Blanks)")}}):e.filterValueGetter=e=>i({column:e.column,node:e.node,value:this.valueService.getValue(e.column,e.node)})}}destroy(){super.destroy(),this.allColumnFilters.forEach((e=>this.disposeFilterWrapper(e,"gridDestroyed"))),this.allColumnListeners.clear()}}],dependantModules:[Eo]},ko={version:wo,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:function(e){return!!e.filterManager?.isColumnFilterPresent()||!!e.filterManager?.isAggregateFilterPresent()},getFilterInstance:function(e,t,i){return e.filterManager?.getFilterInstance(t,i)},getColumnFilterInstance:function(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)},destroyFilter:function(e,t){const i=e.columnModel.getColDefCol(t);if(i)return e.filterManager?.destroyFilter(i,"api")},setFilterModel:function(e,t){e.frameworkOverrides.wrapIncoming((()=>e.filterManager?.setFilterModel(t)))},getFilterModel:function(e){return e.filterManager?.getFilterModel()??{}},getColumnFilterModel:function(e,t){return e.filterManager?.getColumnFilterModel(t)??null},setColumnFilterModel:function(e,t,i){return e.filterManager?.setColumnFilterModel(t,i)??Promise.resolve()},showColumnFilter:function(e,t){const i=e.columnModel.getCol(t);i?e.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"}):u(`column '${t}' not found`)}},dependantModules:[Po,Do]},To={version:wo,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:class extends vo{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,s,n){this.comp=e,n=Nt(this,this.beans.context,n),this.eButtonShowMainFilter=i,this.eFloatingFilterBody=s,this.setGui(t,n),this.setupActive(),this.setupWidth(n),this.setupLeft(n),this.setupHover(n),this.setupFocus(n),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(n),this.setupUi(),n.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(n),n.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(n)}),n.addDestroyFunc((()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()}))}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=ns("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new En(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();ei(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(Q(this.gos)===this.eGui)return;const t=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(t)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void t.focus();const i=this.findNextColumnWithFloatingFilter(e.shiftKey);i&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:i},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let i=this.column;do{if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case fs.UP:case fs.DOWN:t||e.preventDefault();case fs.LEFT:case fs.RIGHT:if(t)return;e.stopPropagation();case fs.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case fs.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const t=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&Di(e.relatedTarget,"ag-floating-filter");if(t&&i&&e.target===this.eGui){const e=this.lastFocusEvent,t=!(!e||e.key!==fs.TAB);if(e&&t){const t=e.shiftKey;this.focusService.focusInto(this.eGui,t)}}const s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.column)}setupHover(e){e.createManagedBean(new Co([this.column],this.eGui));const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){const t=new uo(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter()));e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,i=e=>{if("filterDestroyed"===e?.source&&!this.isAlive())return;const i=this.comp.getFloatingFilterComp();i&&i.then((i=>{if(i){const s=t?.getCurrentFloatingFilterParentModel(this.column),n=e?{...e,columns:e.columns??[],source:"api"===e.source?"api":"columnFilter"}:null;i.onParentModelChanged(s,n)}}))};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:i}),t?.isFilterActive(this.column)&&i(null)}setupWidth(e){const t=()=>{const e=`${this.column.getActualWidth()}px`;this.comp.setWidth(e)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const s=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter())):null,n=this.comp.getFloatingFilterComp();n&&s?n.then((t=>{!t||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,s)?this.updateCompDetails(e,s,i):this.updateFloatingFilterParams(s)})):this.updateCompDetails(e,s,i)}updateCompDetails(e,t,i){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){if(!e)return;const t=e.params;this.comp.getFloatingFilterComp()?.then((e=>{let i=!1;if(e?.refresh&&"function"===typeof e.refresh){null!==e.refresh(t)&&(i=!0)}if(!i&&e?.onParamsUpdated&&"function"===typeof e.onParamsUpdated){null!==e.onParamsUpdated(t)&&c("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}}))}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}}}],dependantModules:[Po]},Mo={version:wo,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:class extends ts{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>\n            </div>',[Wn]),this.eFloatingFilterText=es}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){null!=e?this.params.parentFilterInstance((t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})):this.eFloatingFilterText.setValue("")}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}}}],dependantModules:[To]},xo={version:wo,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[{version:wo,moduleName:"@ag-grid-community/simple-filter",dependantModules:[Po],userComponents:[{name:"agTextColumnFilter",classImp:class extends Nn{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>null==e?null:e.toString().toLowerCase(),this.defaultMatcher=e=>{let{filterOption:t,value:i,filterText:s}=e;if(null==s)return!1;switch(t){case"contains":return i.indexOf(s)>=0;case"notContains":return i.indexOf(s)<0;case"equals":return i===s;case"notEqual":return i!=s;case"startsWith":return 0===i.indexOf(s);case"endsWith":{const e=i.lastIndexOf(s);return e>=0&&e===i.length-s.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new Xn(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(c("textCustomComparator is deprecated, use textMatcher instead."),t=>{let{filterOption:i,value:s,filterText:n}=t;return e(i,s,n)}):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},s=this.getValuesWithSideEffects(e,!0);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const i=[];return this.forEachPositionInput(e,((e,s,n,o)=>{if(s<o){let s=w(e.getValue());t&&this.textFilterParams.trimInput&&(s=Yn(s)??null,e.setValue(s,!0)),i.push(s)}})),i}getDefaultFilterOptions(){return $n}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Zt(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const s=this.createManagedBean(new Hn);s.addCssClass(`ag-filter-${i}`),s.addCssClass("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:s}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(s))}evaluateNullValue(e){return!!e&&["notEqual","notContains","blank"].indexOf(e)>=0}evaluateNonNullValue(e,t,i,s){const n=e.map((e=>this.formatter(e)))||[],o=this.formatter(t),{api:r,colDef:a,column:l,context:d,textFormatter:c}=this.textFilterParams;if("blank"===i.type)return this.isBlank(t);if("notBlank"===i.type)return!this.isBlank(t);const u={api:r,colDef:a,column:l,context:d,node:s.node,data:s.data,filterOption:i.type,value:o,textFormatter:c};return n.some((e=>this.matcher({...u,filterText:e})))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}}},{name:"agNumberColumnFilter",classImp:class extends Gn{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:s}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(s))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new Kn(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return Qn}setElementValue(e,t,i){const s=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,s)}createValueElement(){const e=jn(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Zt(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,s){const n=this.createManagedBean(s?new Hn({allowedCharPattern:s}):new zn);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,((e,i,s,n)=>{i<n&&t.push(this.processValue(this.stringToFloat(e.getValue())))})),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return null==e||isNaN(e)?null:e}stringToFloat(e){if("number"===typeof e)return e;let t=w(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},s=this.getValues(e);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput((t=>{t.getInputElement().validity.valid||(e=!0)})),e}}},{name:"agDateColumnFilter",classImp:class extends Gn{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=co,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:s}=e||{};return[t&&oo(t)||null,i&&oo(i)||null].slice(0,this.getNumberOfInputs(s))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){return null==t||t<e?-1:t>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(t,i)=>{if(null!=e[t]){if(!isNaN(e[t]))return null==e[t]?i:Number(e[t]);c(`DateFilter ${t} is not a number`)}return i};this.minValidYear=t("minValidYear",1e3),this.maxValidYear=t("maxValidYear",co),this.minValidYear>this.maxValidYear&&c("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:oo(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:oo(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&c("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new lo(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new ro(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc((()=>t.destroy())),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return ao}createValueElement(){const e=W(this.gos).createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,i,s){const n=W(this.gos).createElement("div");n.classList.add(`ag-filter-${s}`),n.classList.add(`ag-filter-date-${s}`),t.push(n),e.appendChild(n),i.push(this.createDateCompWrapper(n))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach((e=>e.destroy()))}isValidDateValue(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput(((i,s,n,o)=>{n!==e||!t||s>=o||(t=t&&this.isValidDateValue(i.getDate()))})),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),i={},s=this.getValues(e);return s.length>0&&(i.dateFrom=io(s[0])),s.length>1&&(i.dateTo=io(s[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...i}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput((e=>{e.setInputPlaceholder(t),e.setInputAriaLabel(i)}))}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,((e,i,s,n)=>{i<n&&t.push(e.getDate())})),t}translate(e){return"lessThan"===e?super.translate("before"):"greaterThan"===e?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}}},{name:"agDateInput",classImp:class extends ts{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>\n            </div>',[Wn]),this.eDateInput=es}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:e=>{e.target===Q(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&gi(),t.type=i?"date":"text";const{minValidYear:s,maxValidYear:n,minValidDate:o,maxValidDate:r}=e.filterParams||{};if(o&&s&&c("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),r&&n&&c("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),o&&r){const[e,t]=[o,r].map((e=>e instanceof Date?e:oo(e)));e&&t&&e.getTime()>t.getTime()&&c("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}o?o instanceof Date?t.min=no(o):t.min=o:s&&(t.min=`${s}-01-01`),r?r instanceof Date?t.max=no(r):t.max=r:n&&(t.max=`${n}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return oo(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(io(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e&&e.suppressFocus||this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:mi()||fi()||gi()&&pi()>=14.1}}}]},To],userComponents:[{name:"agTextColumnFloatingFilter",classImp:class extends Ao{init(e){super.init(e),this.filterModelFormatter=new Xn(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return $n}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new Ro)}}},{name:"agNumberColumnFloatingFilter",classImp:class extends Ao{init(e){super.init(e),this.filterModelFormatter=new Kn(this.localeService,this.optionsFactory,e.filterParams?.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){jn(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return Qn}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=jn(e.filterParams),this.allowedCharPattern?this.createManagedBean(new Ro({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Fo)}}},{name:"agDateColumnFloatingFilter",classImp:class extends yo{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>\n                <div data-ref="eDateWrapper" style="display: flex;"></div>\n            </div>',[Wn]),this.eReadOnlyText=es,this.eDateWrapper=es}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return ao}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new lo(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const t=e;this.dateComp.setDate(oo(t.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Fi(this.eDateWrapper,e),Fi(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=io(this.dateComp.getDate());this.params.parentFilterInstance((t=>{if(t){const i=oo(e);t.onFloatingFilterChanged(this.getLastType()||null,i)}}))}getDateComponentParams(){const e=Pn(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:v(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new ro(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,(e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))})),this.addDestroyFunc((()=>this.dateComp.destroy()))}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}}}]},Io={version:wo,moduleName:"@ag-grid-community/quick-filter-core",beans:[class extends Te{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",(e=>this.setQuickFilter(e.currentValue))),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],(()=>this.onQuickFilterColumnConfigChanged())),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],(()=>this.setQuickFilterParserAndMatcher()))}refreshQuickFilterCols(){const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),i=this.columnModel.getColDefCols();let s=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:i)??[];t&&(s=s.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?s:s.filter((e=>e.isVisible()||e.isRowGroupActive()))}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every((i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i)))}resetQuickFilterCache(){this.rowModel.forEachNode((e=>e.quickFilterAggregateText=null))}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;this.quickFilterParts=e?t?t(e):e.split(" "):null}parseQuickFilter(e){return b(e)?M(this.gos)?e.toUpperCase():(c("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(null!=e&&"string"!==typeof e)return void c("Grid option quickFilterText only supports string inputs, received: "+typeof e);const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some((i=>{const s=this.getQuickFilterTextForColumn(i,e);return b(s)&&s.indexOf(t)>=0}))}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);const{quickFilterParts:s,matcher:n}=this;return n(s,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const s=e.getColDef();if(s.getQuickFilterText){const n=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:s});i=s.getQuickFilterText(n)}return b(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach((i=>{const s=this.getQuickFilterTextForColumn(i,e);b(s)&&t.push(s)})),t.join("\n")}}],dependantModules:[Eo]},Lo={version:wo,moduleName:"@ag-grid-community/filter",dependantModules:[xo,Mo,{version:wo,moduleName:"@ag-grid-community/quick-filter",dependantModules:[Io,{version:wo,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:function(e){return!!e.filterManager?.isQuickFilterPresent()},getQuickFilter:function(e){return e.gos.get("quickFilterText")},resetQuickFilter:function(e){e.filterManager?.resetQuickFilterCache()}},dependantModules:[Io]}]},ko]},Oo=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(Oo||{}),Vo=class extends Te{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.gridBodyCon=e.gridBodyCtrl}));const e=W(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){return this.ctrlsService.getHeaderRowContainerCtrl()?.getRowCount()??0}getHeaderPositionForColumn(e,t){let i;if("string"===typeof e?(i=this.columnModel.getCol(e),i||(i=this.visibleColService.getColumnGroup(e))):i=e,!i)return null;const s=this.ctrlsService.getHeaderRowContainerCtrl(),n=s?.getAllCtrls(),o="filter"===pe(n||[]).getType(),r=this.getHeaderRowCount()-1;let a=-1,l=i;for(;l;)a++,l=l.getParent();let d=a;return t&&o&&d===r-1&&d++,-1===d?null:{headerRowIndex:d,column:i}}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:s}=t,n=t.column,o=this.getHeaderRowCount(),r=0===e;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:d}=r?this.headerPositionUtils.getColumnVisibleParent(n,s):this.headerPositionUtils.getColumnVisibleChild(n,s),c=!1;return a<0&&(a=0,l=n,c=!0),a>=o?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==d&&(this.currentHeaderRowWithoutSpan=d),!(!c&&!l)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;const s=this.focusService.getFocusedHeader(),n=2===e,o=this.gos.get("enableRtl");let r,a;if(-1!==this.currentHeaderRowWithoutSpan?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,n!==o?(a="Before",r=this.headerPositionUtils.findHeader(s,a)):(a="After",r=this.headerPositionUtils.findHeader(s,a)),r||!t)return this.focusService.focusHeaderPosition({headerPosition:r,direction:a,fromTab:t,allowUserOverride:!0,event:i});if(t){const e=this.gos.getCallback("tabToNextHeader");if(e)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:e,headerPosition:r,direction:a})}return this.focusNextHeaderRow(s,a,i)}focusNextHeaderRow(e,t,i){const s=e.headerRowIndex;let n,o=null;if("Before"===t?s>0&&(n=s-1,this.currentHeaderRowWithoutSpan-=1,o=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"end")):(n=s+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),o=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"start")),!o)return!1;const{column:r,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(o.column,o?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"After";if(!e.getPinned()){if(Rt(e)){const s=e.getDisplayedLeafColumns();t="Before"===i?pe(s):s[0]}else t=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(t)}}},No=class extends Te{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new En(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const s=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:s}),this.mockContextMenuForIPad(s),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame((()=>e())),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let t=0;const i=this.columnModel.getGroupRowsHeight().reduce(((e,t)=>e+t),0),s=this.columnModel.getColumnHeaderRowHeight();if(this.filterManager?.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=i,t+=s,this.headerHeight===t)return;this.headerHeight=t;const n=`${t+1}px`;this.comp.setHeightAndMinHeight(n),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const e=this.visibleColsService.getAllCols().some((e=>e.isSpanHeaderHeight()));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey,s=i!==t?2:3;(this.headerNavigationService.navigateHorizontally(s,!0,e)||!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case fs.LEFT:t=2;case fs.RIGHT:b(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break;case fs.UP:t=0;case fs.DOWN:b(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(Q(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,i){if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:s}=e??t;s!==this.eGui&&s!==this.ctrlsService.getHeaderRowContainerCtrl()?.getViewportElement()||this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!Ci())return;const t=new as(this.eGui);this.addManagedListeners(t,{longTap:t=>{e(void 0,t.touchStart,t.touchEvent)}}),this.addDestroyFunc((()=>t.destroy()))}},Go=class extends Te{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=I(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),i=this.visibleColsService.getColsLeftWidth(),s=this.visibleColsService.getDisplayedColumnsRightWidth();let n;if(e)n=t+i+s;else if(n=t,this.addSpacer){0===(this.gos.get("enableRtl")?i:s)&&this.scrollVisibleService.isVerticalScrollShowing()&&(n+=this.scrollVisibleService.getScrollbarWidth())}this.callback(n)}},_o=class extends Te{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach((e=>{e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?this.columnsToAggregate.push(e):e.isAllowRowGroup()?this.columnsToGroup.push(e):e.isAllowPivot()&&this.columnsToPivot.push(e)))}))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function Bo(e){const{isFromHeader:t,fromLeft:i,xPosition:s,fromEnter:n,fakeEvent:o,pinned:r,gos:a,columnModel:l,columnMoveService:d,visibleColsService:c}=e;let{allMovingColumns:u}=e;if(t){const e=[];u.forEach((t=>{let i=null,s=t.getParent();for(;null!=s&&1===s.getDisplayedLeafColumns().length;)i=s,s=s.getParent();if(null!=i){(!!i.getColGroupDef()?.marryChildren?i.getProvidedColumnGroup().getLeafColumns():i.getLeafColumns()).forEach((t=>{e.includes(t)||e.push(t)}))}else e.includes(t)||e.push(t)})),u=e}const h=u.slice();l.sortColsLikeCols(h);const g=function(e){const{movingCols:t,draggingRight:i,xPosition:s,pinned:n,gos:o,columnModel:r,visibleColsService:a}=e,l=o.get("suppressMovableColumns")||t.some((e=>e.getColDef().suppressMovable));if(l)return[];const d=function(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}(a,n),c=r.getCols(),u=d.filter((e=>be(t,e))),h=d.filter((e=>!be(t,e))),g=c.filter((e=>!be(t,e)));let p,m=0,f=s;if(i){let e=0;u.forEach((t=>e+=t.getActualWidth())),f-=e}if(f>0){for(let e=0;e<h.length;e++){if(f-=h[e].getActualWidth(),f<0)break;m++}i&&m++}if(m>0){const e=h[m-1];p=g.indexOf(e)+1}else p=g.indexOf(h[0]),-1===p&&(p=0);const v=[p],C=(e,t)=>e-t;if(i){let e=p+1;const t=c.length-1;for(;e<=t;)v.push(e),e++;v.sort(C)}else{let e=p;const t=c.length-1;let i=c[e];for(;e<=t&&d.indexOf(i)<0;)e++,v.push(e),i=c[e];e=p-1;const s=0;for(;e>=s;)v.push(e),e--;v.sort(C).reverse()}return v}({movingCols:h,draggingRight:i,xPosition:s,pinned:r,gos:a,columnModel:l,visibleColsService:c}),p=function(e,t){const i=t.getCols(),s=(r=e.map((e=>i.indexOf(e))),r.sort(((e,t)=>e-t))),n=s[0],o=pe(s);var r;return o-n!==s.length-1?null:n}(h,l);if(0===g.length)return;const m=g[0];let f=null!==p&&!n;if(t&&(f=null!==p),f&&!o){if(!i&&m>=p)return;if(i&&m<=p)return}const v=c.getAllCols(),C=[];let w=null;for(let S=0;S<g.length;S++){const e=g[S],t=d.getProposedColumnOrder(h,e);if(!d.doesOrderPassRules(t))continue;const i=t.filter((e=>v.includes(e)));if(null===w)w=i;else if(!me(i,w))break;const s=Wo(t);C.push({move:e,fragCount:s})}if(0===C.length)return;C.sort(((e,t)=>e.fragCount-t.fragCount));const b=C[0].move;return b>l.getCols().length-u.length?void 0:{columns:u,toIndex:b}}function Ho(e){const{columns:t,toIndex:i}=Bo(e)||{},{finished:s,columnMoveService:n}=e;return t&&null!=i?(n.moveColumns(t,i,"uiColumnMoved",s),s?null:{columns:t,toIndex:i}):null}function Wo(e){function t(e){const t=[];let i=e.getOriginalParent();for(;null!=i;)t.push(i),i=i.getOriginalParent();return t}let i=0;for(let s=0;s<e.length-1;s++){let n=t(e[s]),o=t(e[s+1]);[n,o]=n.length>o.length?[n,o]:[o,n],n.forEach((e=>{-1===o.indexOf(e)&&i++}))}return i}function zo(e){const{pinned:t,fromKeyboard:i,gos:s,ctrlsService:n,useHeaderRow:o,skipScrollPadding:r}=e;let a=n.getHeaderRowContainerCtrl(t)?.getViewportElement(),{x:l}=e;return a?(i&&(l-=a.getBoundingClientRect().left),s.get("enableRtl")&&(o&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),null!=t||r||(l+=n.get("center").getCenterViewportScrollLeft()),l):0}function Uo(e,t){for(const i of e)i.setMoving(t,"uiColumnMoved")}var Qo=class extends Te{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!b(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.gridBodyCon=e.gridBodyCtrl}))}getIconName(){const e=this.lastDraggingEvent?.dragItem.columns??[];for(const t of e){const e=t.getPinned();if(t.getColDef().lockPinned){if(e==this.pinned)return"move"}else{if(e===this.pinned||!this.pinned)return"move";if(!e&&this.pinned)return"pinned"}}return"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(0===e.dragSource.type)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const i=e.dragItem.visibleState,s=(t||[]).filter((e=>i[e.getId()]));this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastDraggingEvent,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=this.gos.get("suppressMoveWhenColumnDragging");if(s&&!n)return void this.finishColumnMoving();if(this.lastDraggingEvent=e,!e||!s&&S(e.hDirection))return;const{pinned:o,gos:r,ctrlsService:a}=this,l=zo({x:e.x,pinned:o,gos:r,ctrlsService:a});t||this.checkCenterForScrolling(l),n?this.handleColumnDragWhileSuppressingMovement(e,t,i,l,s):this.handleColumnDragWhileAllowingMovement(e,t,i,l,s)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e)return;const s=e.filter((e=>!e.getColDef().lockVisible));this.columnModel.setColsVisible(s,t,i)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,i,s,n){const o=this.getAllMovingColumns(e,!0);if(n){const e=this.isAttemptingToPin(o);e&&this.attemptToPinColumns(o,void 0,!0);const{fromLeft:s,xPosition:n}=this.getNormalisedXPositionInfo(o,e)||{};if(null==s||null==n)return void this.finishColumnMoving();this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:n,fromEnter:t,fakeEvent:i,fromLeft:s})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,s)}}handleColumnDragWhileAllowingMovement(e,t,i,s,n){const o=this.getAllMovingColumns(e),r=1===this.normaliseDirection(e.hDirection),a=1===e.dragSource.type,l=Ho({...this.getMoveColumnParams({allMovingColumns:o,isFromHeader:a,xPosition:s,fromLeft:r,fromEnter:t,fakeEvent:i}),finished:n});l&&(this.lastMovedInfo=l)}getAllMovingColumns(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=e.dragSource.getDragItem();let s=null;t?(s=i.columnsInSplit,s||(s=i.columns)):s=i.columns;return s?s.filter((e=>!e.getColDef().lockPinned||e.getPinned()==this.pinned)):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:i,xPosition:s,fromLeft:n,fromEnter:o,fakeEvent:r}=e,{pinned:a,gos:l,columnModel:d,columnMoveService:c,visibleColsService:u}=this;return{allMovingColumns:t,isFromHeader:i,fromLeft:n,xPosition:s,pinned:a,fromEnter:o,fakeEvent:r,gos:l,columnModel:d,columnMoveService:c,visibleColsService:u}}findFirstAndLastMovingColumns(e){const t=e.length;let i,s;for(let n=0;n<=t;n++){if(!i){const t=e[n];null!=t.getLeft()&&(i=t)}if(!s){const i=e[t-1-n];null!=i.getLeft()&&(s=i)}if(i&&s)break}return{firstMovingCol:i,lastMovingCol:s}}highlightHoveredColumn(e,t){const{gos:i,columnModel:s}=this,n=i.get("enableRtl"),o=s.getCols().filter((e=>e.isVisible()&&e.getPinned()===this.pinned));let r,a=null,l=null,d=null;for(const c of o){if(l=c.getActualWidth(),a=this.getNormalisedColumnLeft(c,0,n),null!=a){if(a<=t&&a+l>=t){d=c;break}}a=null,l=null}if(d)-1!==e.indexOf(d)&&(d=null);else{for(let e=o.length-1;e>=0;e--){const t=o[e],i=o[e].getParent();if(!i){d=t;break}const s=i?.getDisplayedLeafColumns();if(s.length){d=pe(s);break}}if(!d)return;a=this.getNormalisedColumnLeft(d,0,n),l=d.getActualWidth()}this.lastHighlightedColumn?.column!==d&&this.clearHighlighted(),null!=d&&null!=a&&null!=l&&(r=t-a<l/2!==n?0:1,d.setHighlighted(r),this.lastHighlightedColumn={column:d,position:r})}getNormalisedXPositionInfo(e,t){const{gos:i,visibleColsService:s}=this,n=i.get("enableRtl"),{firstMovingCol:o,column:r,position:a}=this.getColumnMoveAndTargetInfo(e,t,n);if(!o||!r||null==a)return;const l=s.getAllCols(),d=l.indexOf(o),c=l.indexOf(r),u=0===a!==n,h=d<c||d===c&&!u;let g=0;if(u?h&&(g-=1):h||(g+=1),c+g===d)return;const p=l[c+g];if(!p)return;return{fromLeft:h,xPosition:this.getNormalisedColumnLeft(p,20,n)}}getColumnMoveAndTargetInfo(e,t,i){const s=this.lastHighlightedColumn||{},{firstMovingCol:n,lastMovingCol:o}=this.findFirstAndLastMovingColumns(e);if(!n||!o||s.column||!t)return{firstMovingCol:n,...s};const r="left"===this.getPinDirection();return{firstMovingCol:n,position:r?1:0,column:r!==i?n:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,i){const{gos:s,ctrlsService:n}=this,o=e.getLeft();if(null==o)return null;const r=e.getActualWidth();return zo({x:i?o+r-t:o+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:s,ctrlsService:n})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,i=this.failedMoveAttempts>7;return t&&i||e.some((e=>e.getPinned()!==this.pinned))}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:i,fromEnter:s,fakeEvent:n,fromLeft:o}=e,r=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:o,fromEnter:s,fakeEvent:n}),{columns:a,toIndex:l}=Bo(r)||{};a&&null!=l&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.ctrlsService.get("center"),i=t.getCenterViewportScrollLeft(),s=i+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<i+50,this.needToMoveLeft=e>s-50):(this.needToMoveLeft=e<i+50,this.needToMoveRight=e>s-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=8)return;if(this.dragAndDropService.getDragAndDropImageComponent()?.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const e=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(e,void 0,!0)}}}getPinDirection(){return this.needToMoveLeft||"left"===this.pinned?"left":this.needToMoveRight||"right"===this.pinned?"right":void 0}attemptToPinColumns(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=(e||[]).filter((e=>!e.getColDef().lockPinned));return s.length?(i&&(t=this.getPinDirection()),this.columnModel.setColsPinned(s,t,"uiColumnDragged"),i&&this.dragAndDropService.nudge(),s.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},qo=class extends Te{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]]}})),this.moveColumnFeature=this.createManagedBean(new Qo(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new _o(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc((()=>this.dragAndDropService.removeDropTarget(this)))}isInterestedIn(e){return 1===e||0===e&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&0===e.dragSource.type}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},Ko=class extends Te{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,s,n){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=s,this.ctrl=n}postConstruct(){const e=[];let t,i;const s=()=>{if(Fi(this.eResize,t),!t)return;const s=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(s),i){const t=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",t)};this.eResize.addEventListener("dblclick",i);const s=new as(this.eResize);s.addEventListener("doubleTap",i),e.push((()=>{this.eResize.removeEventListener("dblclick",i),s.removeEventListener("doubleTap",i),s.destroy()}))}},n=()=>{e.forEach((e=>e())),e.length=0},o=()=>{const e=this.column.isResizable(),o=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(e!==t||o!==i)&&(t=e,i=o,n(),s())};o(),this.addDestroyFunc(n),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){const{column:i,lastResizeAmount:s,resizeStartWidth:n}=this,o=this.normaliseResizeAmount(t),r=[{key:i,newWidth:n+o}];if(this.column.getPinned()){if(this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(o-s)>Ti(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50)return}this.lastResizeAmount=o,this.columnSizeService.setColumnWidths(r,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i="left"!==this.pinned,s="right"===this.pinned;return this.gos.get("enableRtl")?i&&(t*=-1):s&&(t*=-1),t}},jo=class extends Te{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){const e=e=>{e&&"string"!==typeof e&&(this.selectionOptions=e)};e(this.gos.get("rowSelection")),this.addManagedPropertyListener("rowSelection",(t=>e(t.currentValue)))}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Q(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new bs),this.cbSelectAll.addCssClass("ag-header-select-all"),Zt(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),si(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),t=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),i=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${i} (${t})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${i} (${t})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return!!ce(this.gos)||(c(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return!(!M(this.gos)&&!x(this.gos))||(c(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox)return;if(!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly();let s="uiSelectAll";i?s="uiSelectAllCurrentPage":t&&(s="uiSelectAllFiltered");const n={source:s,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(n):this.selectionService.deselectAllRowNodes(n)}isCheckboxSelection(){const e=this.selectionOptions,t=e&&se(e)&&Be(this.column),i=this.column.getColDef().headerCheckboxSelection;let s=!1;return s=!!t||("function"===typeof i?i(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):!!i),s&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.selectionOptions;return void 0!==e?"multiRow"===e.mode&&"filtered"===e.selectAll:!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.selectionOptions;return void 0!==e?"multiRow"===e.mode&&"currentPage"===e.selectAll:!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},$o=class extends vo{constructor(e,t,i){super(e,t,i),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,s,n){this.comp=e,n=Nt(this,this.beans.context,n),this.setGui(t,n),this.updateState(),this.setupWidth(n),this.setupMovingCss(n),this.setupMenuClass(n),this.setupSortableClass(n),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:s,checkMeasuringCallback:e=>this.setRefreshFunction("measuring",e),compBean:n}),this.addColumnHoverListener(n),this.setupFilterClass(n),this.setupClassesFromColDef(),this.setupTooltip(n),this.addActiveHeaderMouseListeners(n),this.setupSelectAll(n),this.setupUserComp(n),this.refreshAria(),this.resizeFeature=n.createManagedBean(new Ko(this.getPinned(),this.column,i,e,this)),n.createManagedBean(new Co([this.column],t)),n.createManagedBean(new uo(this.column,t,this.beans)),n.createManagedBean(new En(t,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(n),n.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],(()=>this.refresh(n))),n.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(n)}),n.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const o=()=>this.checkDisplayName(n);n.addManagedEventListeners({columnValueChanged:o,columnRowGroupChanged:o,columnPivotChanged:o,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),n.addDestroyFunc((()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()}))}resizeHeader(e,t){if(!this.column.isResizable())return;const i=this.column.getActualWidth(),s=this.column.getMinWidth(),n=this.column.getMaxWidth(),o=Math.min(Math.max(i+e,s),n);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:o}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,beans:i,column:s,ctrlsService:n}=this,{gos:o,columnModel:r,columnMoveService:a,visibleColsService:l}=i,d=this.getPinned(),c=t.getBoundingClientRect().left,u=s.getActualWidth(),h=zo({x:0===e!==o.get("enableRtl")?c-20:c+u+20,pinned:d,fromKeyboard:!0,gos:o,ctrlsService:n}),g=this.focusService.getFocusedHeader();Ho({allMovingColumns:[s],isFromHeader:!0,fromLeft:1===e,xPosition:h,pinned:d,fromEnter:!1,fakeEvent:!1,gos:o,columnModel:r,columnMoveService:a,visibleColsService:l,finished:!0}),n.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.isAlive()&&!this.beans.gos.get("ensureDomOrder")||!g||this.restoreFocus(g)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const t=this.createParams(e),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:e=>{this.menuService.showColumnMenu({column:this.column,buttonElement:e,positionBy:"button"})},showColumnMenuAfterMouseClick:e=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:e,positionBy:"mouse"})},showFilter:e=>{this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"columnFilter",positionBy:"button"})},progressSort:e=>{this.beans.sortController.progressSort(this.column,!!e,"uiColumnSorted")},setSort:(e,t)=>{this.beans.sortController.setSortForColumn(this.column,e,!!t,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(t,i)=>{this.setupTooltip(e,t,i)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new jo(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===fs.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===fs.ENTER&&this.onEnterKeyDown(e),e.key===fs.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();i&&i instanceof hs&&i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const s="whenTruncated"===this.gos.get("tooltipShowMode"),n=this.eGui,o=this.column.getColDef();i||!s||o.headerComponent||(i=()=>{const e=n.querySelector(".ag-header-cell-text");return!e||e.scrollWidth>e.clientWidth});const r={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>n,getLocation:()=>"header",getTooltipValue:()=>{if(null!=t)return t;return this.column.getColDef().headerTooltip},shouldDisplayTooltip:i},a=e.createManagedBean(new Ji(r));this.setRefreshFunction("tooltip",(()=>a.refreshToolTip()))}setupClassesFromColDef(){const e=()=>{const e=ho(this.column.getColDef(),this.gos,this.column,null),t=this.userHeaderClasses;this.userHeaderClasses=new Set(e),e.forEach((e=>{t.has(e)?t.delete(e):this.comp.addOrRemoveCssClass(e,!0)})),t.forEach((e=>this.comp.addOrRemoveCssClass(e,!1)))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:i,displayName:s,dragAndDropService:n,gos:o}=this,{columnModel:r}=i;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:s,onDragStarted:()=>{a=!o.get("suppressDragLeaveHidesColumns"),Uo([t],!0)},onDragStopped:()=>Uo([t],!1),onDragCancelled:()=>Uo([t],!1),onGridEnter:e=>{if(a){const t=e?.columns?.filter((e=>!e.getColDef().lockVisible))||[];r.setColsVisible(t,!0,"uiColumnMoved")}},onGridExit:e=>{if(a){const t=e?.columns?.filter((e=>!e.getColDef().lockVisible))||[];r.setColsVisible(t,!1,"uiColumnMoved")}}};n.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach((e=>e()))}refreshHeaderComp(e){const t=this.lookupUserCompDetails(e);!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==t.componentClass)&&this.attemptHeaderCompRefresh(t.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();if(!t)return!1;if(!t.refresh)return!1;return t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const e=this.column.getActualWidth();this.comp.setWidth(`${e}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const e=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",e),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const e=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=0===e,i=1===e;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:s}=this;if(!t.isSpanHeaderHeight())return e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),void i.addOrRemoveCssClass("ag-header-span-total",!1);const{numberOfParents:n,isSpanningTotal:o}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",n>0);const{columnModel:r}=s,a=r.getColumnHeaderRowHeight();if(0===n)return i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),void e.style.setProperty("height",`${a}px`);i.addOrRemoveCssClass("ag-header-span-total",o);const l=this.beans.columnModel.getGroupRowsHeight();let d=0;for(let c=0;c<n;c++)d+=l[l.length-1-c];e.style.setProperty("top",-d+"px"),e.style.setProperty("height",`${a+d}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(function(e){let t;return t="asc"===e?"ascending":"desc"===e?"descending":"mixed"===e?"other":"none",t}(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Q(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort(((e,t)=>"filter"===e?-1:t.charCodeAt(0)-e.charCodeAt(0))).map((e=>this.ariaDescriptionProperties.get(e))).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const t=e=>this.handleMouseOverChange("mouseenter"===e.type);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column)})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof hs?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},Xo=class extends Te{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,s){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=s}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const e=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(()=>{const t=[];this.columnGroup.getDisplayedLeafColumns().forEach((e=>{e.getColDef().suppressAutoSize||t.push(e.getColId())})),t.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:e,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")}))}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uiColumnResized";const s=this.normaliseDragChange(t),n=this.resizeStartWidth+s;this.resizeColumnsFromLocalValues(n,i,e)}getInitialValues(e){const t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),s={columnsToResize:t,resizeStartWidth:i,resizeRatios:this.getSizeRatiosOfColumns(t,i)};let n=null;if(e&&(n=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),n){const e=n.getDisplayedLeafColumns(),t=s.groupAfterColumns=e.filter((e=>e.isResizable())),i=s.groupAfterStartWidth=this.getInitialSizeOfColumns(t);s.groupAfterRatios=this.getSizeRatiosOfColumns(t,i)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:s,groupAfterColumns:n,groupAfterStartWidth:o,groupAfterRatios:r}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=s,this.resizeTakeFromCols=n,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=r}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.resizeCols||!this.resizeRatios)return;const s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(s,e,t,i)}resizeColumns(e,t,i){let s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const{columnsToResize:n,resizeStartWidth:o,resizeRatios:r,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:d}=e,c=[];if(c.push({columns:n,ratios:r,width:t}),a){const e=t-o;c.push({columns:a,ratios:d,width:l-e})}this.columnSizeService.resizeColumnSets({resizeSets:c,finished:s,source:i}),s&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter((e=>e.isResizable()))}getInitialSizeOfColumns(e){return e.reduce(((e,t)=>e+t.getActualWidth()),0)}getSizeRatiosOfColumns(e,t){return e.map((e=>e.getActualWidth()/t))}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},Yo=class extends Te{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push((()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)}))}))}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach((e=>e())),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===e)}},Jo=class extends vo{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const e=this.getGui();this.setDragSource(e)}},this.column=e}setComp(e,t,i,s,n){this.comp=e,n=Nt(this,this.beans.context,n),this.setGui(t,n),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(n),this.setupExpandable(n),this.setupTooltip(n),this.setupAutoHeight({wrapperElement:s,compBean:n}),this.setupUserComp(n),this.addHeaderMouseListeners(n);const o=this.getParentRowCtrl().getPinned(),r=this.column.getProvidedColumnGroup().getLeafColumns();n.createManagedBean(new Co(r,t)),n.createManagedBean(new uo(this.column,t,this.beans)),n.createManagedBean(new Yo(e,this.column)),this.resizeFeature=n.createManagedBean(new Xo(e,i,o,this.column)),n.createManagedBean(new En(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(n,r),n.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(n),n.addDestroyFunc((()=>this.clearComponent()))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),i=t[0]===e,s=pe(t)===e;if(!i&&!s)return;const n=e.getHighlighted();let o=!1,r=!1;if(!!this.getParentRowCtrl().findHeaderCellCtrl((e=>e.getColumnGroupChild().isMoving()))){const e=this.beans.gos.get("enableRtl"),t=1===n,a=0===n;i&&(e?r=t:o=a),s&&(e?o=a:r=t)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",r)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:i,column:s,ctrlsService:n}=this,{gos:o,columnModel:r,columnMoveService:a,visibleColsService:l}=t,d=o.get("enableRtl"),c=0===e,u=this.getPinned(),h=i.getBoundingClientRect(),g=h.left,p=h.width,m=zo({x:c!==d?g-20:g+p+20,pinned:u,fromKeyboard:!0,gos:o,ctrlsService:n}),f=s.getGroupId(),v=this.focusService.getFocusedHeader();Ho({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:1===e,xPosition:m,pinned:u,fromEnter:!1,fakeEvent:!1,gos:o,columnModel:r,columnMoveService:a,visibleColsService:l,finished:!0});const C=s.getDisplayedLeafColumns(),w=c?C[0]:pe(C);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(w,"auto"),this.isAlive()&&!this.beans.gos.get("ensureDomOrder")||!v||this.restoreFocus(f,s,v)}restoreFocus(e,t,i){const s=t.getLeafColumns();if(!s.length)return;const n=s[0].getParent();if(!n)return;const o=this.findGroupWidthId(n,e);o&&this.focusService.focusHeaderPosition({headerPosition:{...i,column:o}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:e=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),e,"gridInitializing")},setTooltip:(t,i)=>{this.setupTooltip(e,t,i)}}),i=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(i)}addHeaderMouseListeners(e){const t=e=>this.handleMouseOverChange("mouseenter"===e.type);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column.getProvidedColumnGroup())})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const s=this.column.getColGroupDef(),n="whenTruncated"===this.gos.get("tooltipShowMode"),o=this.eGui;i||!n||s?.headerGroupComponent||(i=()=>{const e=o.querySelector(".ag-header-group-text");return!e||e.scrollWidth>e.clientWidth});const r={getColumn:()=>this.column,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(s&&s.headerTooltip),shouldDisplayTooltip:i};s&&(r.getColDef=()=>s),e.createManagedBean(new Ji(r))}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=ho(e,this.gos,null,this.column);if(this.column.isPadding()){t.push("ag-header-group-cell-no-group");this.column.getLeafColumns().every((e=>e.isSpanHeaderHeight()))&&t.push("ag-header-span-height")}else t.push("ag-header-group-cell-with-group"),e?.wrapHeaderText&&t.push("ag-header-cell-wrap-text");t.forEach((e=>this.comp.addOrRemoveCssClass(e,!0)))}setupMovingCss(e){const t=this.column.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());t.forEach((t=>{e.addManagedListeners(t,{movingChanged:i})})),i()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===fs.ENTER){const e=this.column,t=!e.isExpanded();this.beans.columnModel.setColumnGroupOpened(e.getProvidedColumnGroup(),t,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving())return;if(this.removeDragSource(),!e)return;const{beans:t,column:i,displayName:s,gos:n,dragAndDropService:o}=this,{columnModel:r}=t,a=i.getProvidedColumnGroup().getLeafColumns();let l=!n.get("suppressDragLeaveHidesColumns");const d=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:s,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!n.get("suppressDragLeaveHidesColumns"),Uo(a,!0)},onDragStopped:()=>Uo(a,!1),onDragCancelled:()=>Uo(a,!1),onGridEnter:e=>{if(l){const{columns:t=[],visibleState:i}=e??{},s=t.filter((e=>!e.getColDef().lockVisible&&(!i||i[e.getColId()])));r.setColsVisible(s,!0,"uiColumnMoved")}},onGridExit:e=>{if(l){const t=e?.columns?.filter((e=>!e.getColDef().lockVisible))||[];r.setColsVisible(t,!1,"uiColumnMoved")}}};o.addDragSource(d,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach((e=>i[e.getId()]=e.isVisible()));const s=[];this.beans.visibleColsService.getAllCols().forEach((e=>{t.indexOf(e)>=0&&(s.push(e),ve(t,e))})),t.forEach((e=>s.push(e)));const n=[],o=e.getLeafColumns();for(const r of s)-1!==o.indexOf(r)&&n.push(r);return{columns:s,columnsInSplit:n,visibleState:i}}isSuppressMoving(){let e=!1;this.column.getLeafColumns().forEach((t=>{(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)}));return e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},Zo=0,er=class extends Te{constructor(e,t,i){super(),this.instanceId=Zo++,this.rowIndex=e,this.pinned=t,this.type=i;const s="group"==i?"ag-header-row-column-group":"filter"==i?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${s}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=I(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return!!this.comp&&this.getHeaderCellCtrls().every((e=>null!=e.getGui()))}setComp(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.comp=e,t=Nt(this,this.beans.context,t),i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:e=>this.onVirtualColumnsChanged(e.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",(e=>this.isEnsureDomOrder=e.currentValue)),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return k(this.headerCellCtrls).find((t=>t.getColumnGroupChild()===e))}onDisplayedColumnsChanged(){this.isPrintLayout=I(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;if(this.isPrintLayout){return null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null)}return e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,i=[],s=e.getGroupRowsHeight(),n=e.getColumnHeaderRowHeight();i.push(...s),i.push(n),t?.hasFloatingFilters()&&i.push(e.getFloatingFiltersHeight());let o=0;for(let r=0;r<this.rowIndex;r++)o+=i[r];return{topOffset:o,rowHeight:i[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const s of t)this.recycleAndCreateHeaderCtrls(s,e);const i=e=>{const{focusService:t,visibleColsService:i}=this.beans;if(!t.isHeaderWrapperFocused(e))return!1;return i.isVisible(e.getColumnGroupChild())};if(e)for(const[s,n]of e){i(n)?this.headerCellCtrls.set(s,n):this.destroyBean(n)}return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls)return;if(e.isEmptyGroup())return;const i=e.getUniqueId();let s;t&&(s=t.get(i),t.delete(i));if(s&&s.getColumnGroupChild()!=e&&(this.destroyBean(s),s=void 0),null==s)switch(this.type){case"filter":s=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break;case"group":s=this.createBean(new Jo(e,this.beans,this));break;default:s=this.createBean(new $o(e,this.beans,this))}this.headerCellCtrls.set(i,s)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:i}=this.beans;return["left",null,"right"].forEach((s=>{const n=i.getHeadersToRender(s,t);e=e.concat(n)})),e}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let i;return i="function"===typeof e?t.find(e):t.find((t=>t.getColumnGroupChild()==e)),i}focusHeader(e,t){const i=this.findHeaderCellCtrl(e);if(!i)return!1;return i.focus(t)}destroy(){this.headerCellCtrls?.forEach((e=>{this.destroyBean(e)})),this.headerCellCtrls=void 0,super.destroy()}},tr=class extends Te{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:i,advancedFilterEnabledChanged:i});const s=`${"string"===typeof this.pinned?this.pinned:"center"}Header`;this.ctrlsService.register(s,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new $i,i=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const e=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let i=0;i<e;i++){const e=this.createBean(new er(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(e)}})(),(()=>{const i=t.next(),s=!this.hidden&&(null==this.columnsRowCtrl||!e||this.columnsRowCtrl.getRowIndex()!==i);(s||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),s&&(this.columnsRowCtrl=this.createBean(new er(i,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=!!this.filterManager?.hasFloatingFilters()&&!this.hidden;const i=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void i();const s=t.next();if(this.filtersRowCtrl){const t=this.filtersRowCtrl.getRowIndex()!==s;e&&!t||i()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new er(s,this.pinned,"filter")))})();const s=this.getAllCtrls();this.comp.setCtrls(s),this.restoreFocusOnHeader(i)}getHeaderCtrlForColumn(e){if(et(e))return this.columnsRowCtrl?.getHeaderCellCtrl(e);if(0!==this.groupsRowCtrls.length)for(let t=0;t<this.groupsRowCtrls.length;t++){const i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const t=this.getAllCtrls()[e];return t?t.getType():void 0}focusHeader(e,t,i){const s=this.getAllCtrls()[e];return!!s&&s.focusHeader(t,i)}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new qo(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new Go((e=>this.comp.setCenterWidth(`${e}px`)),!0))}setupPinnedWidth(){if(null==this.pinned)return;const e="left"===this.pinned,t="right"===this.pinned;this.hidden=!0;const i=()=>{const i=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==i)return;const s=0==i,n=this.hidden!==s,o=this.gos.get("enableRtl"),r=this.scrollVisibleService.getScrollbarWidth(),a=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?i+r:i;this.comp.setPinnedContainerWidth(`${a}px`),this.comp.setDisplayed(!s),n&&(this.hidden=s,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}},ir=class extends Te{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e},i=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return-1===["normal","print","autoHeight"].indexOf(e)?(c(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},sr=class extends ts{constructor(){super('\n            <div class="ag-overlay" role="presentation">\n                <div class="ag-overlay-panel" role="presentation">\n                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>\n                </div>\n            </div>'),this.eOverlayWrapper=es,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==fs.TAB||e.defaultPrevented||Ee(e))return;if(this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let t=!1;t=e.shiftKey?this.focusService.focusGridView(pe(this.visibleColsService.getAllCols()),!0,!1):this.focusService.focusNextGridCoreContainer(!1),t&&e.preventDefault()}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new ir(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,s){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.focusService.isGridFocused()){const e=Q(this.gos);e&&!q(this.gos)&&(this.elToFocusAfter=e)}e.then((t=>{if(this.activePromise!==e)return void(this.activeOverlay!==t&&(this.destroyBean(t),t=null));if(this.activePromise=null,!t)return;if(this.activeOverlay!==t&&(this.eOverlayWrapper.appendChild(t.getGui()),this.activeOverlay=t,s)){const e=t;this.updateListenerDestroyFunc=this.addManagedPropertyListener(s,(t=>{let{currentValue:i}=t;e.refresh?.(this.gos.addGridCommonParams({...i??{}}))}))}const n=this.focusService;i&&n.isGridFocused()&&n.focusInto(this.eOverlayWrapper)}))}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Ni(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},nr=class extends ts{constructor(e,t){super(),this.direction=t,this.eViewport=es,this.eContainer=es,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",vi()||Ci())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=yi(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame((()=>this.setScrollVisible()))}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout((()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null}),400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();!function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,s=arguments.length>3?arguments[3]:void 0;const n=(new Date).getTime();let o=null,r=!1;const a=()=>{const a=(new Date).getTime()-n>i;(e()||a)&&(t(),r=!0,null!=o&&(window.clearInterval(o),o=null),a&&s&&c(s))};a(),r||(o=window.setInterval(a,10))}((()=>Bi(t)),(()=>this.setScrollPosition(e)),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},or=class extends nr{constructor(){super('<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>\n        </div>',"horizontal"),this.eLeftSpacer=es,this.eRightSpacer=es}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new Go((e=>this.eContainer.style.width=`${e}px`))),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,s=this.scrollVisibleService.getScrollbarWidth();i&&(t+=s),zi(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=s);let n=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(n+=s),zi(this.eLeftSpacer,n),this.eLeftSpacer.classList.toggle("ag-scroller-corner",n<=s)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),s=e&&this.scrollVisibleService.getScrollbarWidth()||0,n=i?0:0===s&&t?16:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Ui(this.getGui(),n),Ui(this.eViewport,n),Ui(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return Oi(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){Bi(this.getViewportElement())||this.attemptSettingScrollPosition(e),Vi(this.getViewportElement(),e,this.enableRtl)}},rr=class extends Te{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},ar=class extends nr{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super('<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>\n            </div>\n        </div>',"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new rr(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,i=e&&this.scrollVisibleService.getScrollbarWidth()||0,s=0===i&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),zi(this.getGui(),s),zi(this.eViewport,s),zi(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,t=e.getGridBodyCtrl().getBodyViewportElement(),i=this.getScrollPosition(),s=t.scrollTop;i!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){t||Bi(this.getViewportElement())||this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},lr=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(lr||{}),dr=class extends Te{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=v((()=>this.lastScrollSource[1]=null),500),this.resetLastVScrollDebounced=v((()=>this.lastScrollSource[0]=null),500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,(e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()}))}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(lr)){const t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?v(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),s=t?v(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,s)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){null==this.centerRowsCtrl||(void 0===e&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(lr),"Viewport"]){if(this.lastScrollSource[1]===t)continue;Vi(this.getViewportForSource(t),e,this.enableRtl)}}getViewportForSource(e){return"Viewport"===e?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return null==this.lastScrollSource[t]?(0===t?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;const s=Oi(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(Math.round(s)),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;t="Viewport"===e?this.eBodyViewport.scrollTop:this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0)||(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,"Viewport"===e?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:1===e?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})}),100)}shouldBlockScrollUpdate(e,t){return!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&!Ci())&&(0===e?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}shouldBlockVerticalScroll(e){const t=ki(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&Li()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl&&Li()?e>0?0:i:Math.min(Math.max(e,0),i)),Vi(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight;return{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=this.rowModel.getRowCount();let s=-1;for(let n=0;n<i;n++){const t=this.rowModel.getRow(n);if("function"===typeof e){if(t&&e(t)){s=n;break}}else if(e===t||e===t.data){s=n;break}}s>=0&&this.ensureIndexVisible(s,t)}ensureIndexVisible(e,t){if(I(this.gos,"print"))return;const i=this.rowModel.getRowCount();if("number"!==typeof e||e<0||e>=i)return void c("Invalid row index for ensureIndexVisible: "+e);const s=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming((()=>{s||this.paginationService?.goToPageWithIndex(e);const i=this.ctrlsService.getGridBodyCtrl(),n=i.getStickyTopHeight(),o=i.getStickyBottomHeight(),r=this.rowModel.getRow(e);let a;do{const e=r.rowTop,i=r.rowHeight,s=this.pageBoundsService.getPixelOffset(),l=r.rowTop-s,d=l+r.rowHeight,c=this.getVScrollPosition(),u=this.heightScaler.getDivStretchOffset(),h=c.top+u,g=c.bottom+u,p=g-h,m=this.heightScaler.getScrollPositionForPixel(l),f=this.heightScaler.getScrollPositionForPixel(d-p),v=Math.min((m+f)/2,l);let C=null;"top"===t?C=m:"bottom"===t?C=f:"middle"===t?C=v:h+n>l?C=m-n:g-o<d&&(C=f+o),null!==C&&(this.setVerticalScrollPosition(C),this.rowRenderer.redraw({afterScroll:!0})),a=e!==r.rowTop||i!==r.rowHeight}while(a);this.animationFrameService.flushAllFrames()}))}ensureColumnVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";const i=this.columnModel.getCol(e);if(!i)return;if(i.isPinned())return;if(!this.visibleColsService.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming((()=>{null!==s&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}))}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming((()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()}))}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:s}=this.isColumnOutsideViewport(e),n=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),r=this.enableRtl;let a=(r?i:s)||n,l=r?s:i;"auto"!==t&&(a="start"===t,l="end"===t);const d="middle"===t;if(a||l||d){const{colLeft:t,colMiddle:i,colRight:s}=this.getColumnBounds(e);return d?i-o/2:a?r?s:t:r?t-o:s-o}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:s,colRight:n}=this.getColumnBounds(e),o=this.enableRtl;return{columnBeforeStart:o?t>n:i<n,columnAfterEnd:o?i<s:t>s}}getColumnBounds(e){const t=this.enableRtl,i=this.visibleColsService.getBodyContainerWidth(),s=e.getActualWidth(),n=e.getLeft(),o=t?-1:1,r=t?i-n:n;return{colLeft:r,colMiddle:r+s/2*o,colRight:r+s*o}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}},cr=class extends Te{wireBeans(e){this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()})),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],(()=>{this.checkViewportAndScrolls()}))}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=Ti(this.gridBodyCtrl.getBodyViewportElement());if(e<=50)return;let t=this.getPinnedColumnsOverflowingViewport(e-50);const i=this.gos.getCallback("processUnpinnedColumns");if(t.length){if(i){t=i({columns:t,viewportWidth:e})}this.columnModel.setColsPinned(t,null,"viewportSizeFeature")}}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(t<e)return[];const i=[...this.visibleColsService.getLeftCols()],s=[...this.visibleColsService.getRightCols()];let n=0,o=0;const r=[];let a=t-0-e;for(;(o<i.length||n<s.length)&&a>0;){if(n<s.length){const e=s[n++];a-=e.getActualWidth(),r.push(e)}if(o<i.length&&a>0){const e=i[o++];a-=e.getActualWidth(),r.push(e)}}return r}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=ki(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==e&&(this.bodyHeight=e,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},ur=class extends Te{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],(()=>{ne(this.gos)?this.enableFeature():this.disableFeature()})),this.addDestroyFunc((()=>this.disableFeature()));ne(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},hr=class extends ts{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[Ss]),this.eCheckbox=es}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=hi(e,t),[s,n]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],o=e(s,n);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${o} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:e=>Fe(e),click:e=>{Fe(e);const t="filteredDescendants"===ue(this.gos),i=this.eCheckbox.getValue();if(this.shouldHandleIndeterminateState(i,t)){0===this.onClicked(!0,t,e||{})&&this.onClicked(!1,t,e)}else i?this.onClicked(!1,t,e):this.onClicked(!0,t,e||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)});if(le(this.gos)||"function"===typeof this.getIsVisible()){const e=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&M(this.gos)}showOrHideSelect(){let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if("function"===typeof t){const i=this.overrides?.callbackParams;if(this.column){const s=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...i,...s})}else e=t({...i,node:this.rowNode,data:this.rowNode.data})}else e=t??!1;const i=this.gos.get("rowSelection");var s;if(i&&"string"!==typeof i?(s=i,!s?.hideDisabledCheckboxes):this.column?.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!e),this.setVisible(!0),void this.setDisplayed(!0);this.overrides?.removeHidden?this.setDisplayed(e):this.setVisible(e)}getIsVisible(){if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&"string"!==typeof e?ie(e):this.column?.getColDef()?.checkboxSelection}},gr=class extends ts{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(ns("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",(e=>{e.stopPropagation()})),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const i=()=>{try{const t=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",t),e.dataTransfer.setData("text/plain",t)}catch(t){}};if(t){t(this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e}))}else i()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},pr=class extends Te{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,(e=>this.cellComp.addOrRemoveCssClass(e,!0)),(e=>this.cellComp.addOrRemoveCssClass(e,!1))),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if("function"===typeof e.cellStyle){const i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});t=(0,e.cellStyle)(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach((e=>this.cellComp.addOrRemoveCssClass(e,!1))),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach((e=>this.cellComp.addOrRemoveCssClass(e,!0)))}destroy(){super.destroy()}},mr=class extends Te{constructor(e,t,i,s,n){super(),this.cellCtrl=e,this.beans=t,this.rowNode=s,this.rowCtrl=n}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case fs.ENTER:this.onEnterKeyDown(e);break;case fs.F2:this.onF2KeyDown(e);break;case fs.ESCAPE:this.onEscapeKeyDown(e);break;case fs.TAB:this.onTabKeyDown(e);break;case fs.BACKSPACE:case fs.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case fs.DOWN:case fs.UP:case fs.RIGHT:case fs.LEFT:this.onNavigationKeyDown(e,t)}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:i,beans:s,rowNode:n}=this,{gos:o,rangeService:r,eventService:a}=s;if(!i.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===fs.DELETE||!t&&e===fs.BACKSPACE&&vi()}(e,o.get("enableCellEditingOnBackspace"))){if(r&&ne(o))r.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){const e=i.getColumn(),t=this.beans.valueService.getDeleteValue(e,n);n.setDataValue(e,t,"cellClear")}}else i.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?fs.UP:fs.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(fs.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(fs.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const t=e.key;" "===t?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(t,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&L(t)){const i=this.rowNode.isSelected(),s=!i,n="filteredDescendants"===ue(t),o=this.rowNode.setSelectedParams({newValue:s,rangeSelect:e.shiftKey,groupSelectsFiltered:n,event:e,source:"spaceKey"});void 0===i&&0===o&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:n,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},fr=class extends Te{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!Ee(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}onCellClicked(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();const{eventService:t,rangeService:i,gos:s}=this.beans,n=e.ctrlKey||e.metaKey;i&&n&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const o=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(o);const r=this.column.getColDef();r.onCellClicked&&window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{r.onCellClicked(o)}))}),0);!((s.get("singleClickEdit")||r.singleClickEdit)&&!s.get("suppressClickEdit"))||e.shiftKey&&0!=i?.getCellRanges().length||this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Ci()||De("dblclick"))return!1;const e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:i,cellCtrl:s}=this,{eventService:n,frameworkOverrides:o,gos:r}=i,a=t.getColDef(),l=s.createEvent(e,"cellDoubleClicked");n.dispatchEvent(l),"function"===typeof a.onCellDoubleClicked&&window.setTimeout((()=>{o.wrapOutgoing((()=>{a.onCellDoubleClicked(l)}))}),0);!r.get("singleClickEdit")&&!r.get("suppressClickEdit")&&s.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:s}=e,n=e.target,{cellCtrl:o,beans:r}=this,{eventService:a,rangeService:l,focusService:d,gos:c}=r;if(this.isRightClickInExistingRange(e))return;const u=l&&0!=l.getCellRanges().length;if(!s||!u){const t=c.get("enableCellTextSelection")&&e.defaultPrevented,i=(gi()||t)&&!o.isEditing()&&!Ai(n);o.focusCell(i)}if(s&&u&&!d.isCellFocused(o.getCellPosition())){e.preventDefault();const t=d.getFocusedCell();if(t){const{column:e,rowIndex:i,rowPinned:s}=t,n=r.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:s}),o=n?.getCellCtrl(e);o?.isEditing()&&o.stopEditing(),d.setFocusedCell({column:e,rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(n)){if(l){const e=this.cellCtrl.getCellPosition();if(s)l.extendLatestRangeToCell(e);else{const s=t||i;l.setRangeToCell(e,s)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),s=2===e.button||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&s)return!0}return!1}containsWidget(e){return Di(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),s=t.contains(e.relatedTarget);return i&&s}destroy(){super.destroy()}},vr=class extends Te{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();me(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce(((e,t)=>e+t.getActualWidth()),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else{let i=this.column;const s=this.column.getPinned();for(let n=0;i&&n<e&&(t.push(i),i=this.beans.visibleColsService.getColAfter(i),i&&!S(i))&&s===i.getPinned();n++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return e=this.beans.gos.get("enableRtl")&&this.colsSpanning?pe(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;const t=this.beans.visibleColsService.getColsLeftWidth();if("right"===this.column.getPinned()){return t+this.beans.visibleColsService.getBodyContainerWidth()+(e||0)}return t+(e||0)}applyRowSpan(e){if(1===this.rowSpan&&!e)return;const t=G(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${t}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},Cr="ag-cell-range-selected",wr=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Cr,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Cr}-1`,1===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Cr}-2`,2===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Cr}-3`,3===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Cr}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),ui(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,s=!t&&e.right,n=!t&&e.bottom,o=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",s),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",o)}isSingleCell(){const{rangeService:e}=this.beans;return 1===this.rangeCount&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every((e=>be([1,0],e.type)))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,i=!1,s=!1,n=!1;const o=this.cellCtrl.getCellPosition().column,r=this.beans.visibleColsService;let a,l;e?(a=r.getColAfter(o),l=r.getColBefore(o)):(a=r.getColBefore(o),l=r.getColAfter(o));const d=this.rangeService.getCellRanges().filter((e=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),e)));a||(n=!0),l||(i=!0);for(let c=0;c<d.length&&!(t&&i&&s&&n);c++){const e=d[c],o=this.rangeService.getRangeStartRow(e),r=this.rangeService.getRangeEndRow(e);!t&&this.beans.rowPositionUtils.sameRow(o,this.cellCtrl.getCellPosition())&&(t=!0),!s&&this.beans.rowPositionUtils.sameRow(r,this.cellCtrl.getCellPosition())&&(s=!0),!n&&a&&e.columns.indexOf(a)<0&&(n=!0),!i&&l&&e.columns.indexOf(l)<0&&(i=!0)}return{top:t,right:i,bottom:s,left:n}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;const s=pe(t),n=this.cellCtrl.getCellPosition(),o=oe(e)&&!this.cellCtrl.isSuppressFillHandle(),r=function(e){const t=e.get("cellSelection");return void 0!==t?"boolean"!==typeof t&&"range"===t.handle?.mode:e.get("enableRangeHandle")}(e);let a=1===i&&!this.cellCtrl.isEditing()&&(o||r);if(this.hasChartRange){const e=1===t[0].type&&this.rangeService.isCellInSpecificRange(n,t[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",e),a=0===s.type}return a&&null!=s.endRow&&this.rangeService.isContiguousRange(s)&&this.rangeService.isBottomRightCell(s,n)}addSelectionHandle(){const e=pe(this.rangeService.getCellRanges()).type,t=oe(this.beans.gos)&&S(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(t)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},br=0,Sr=class e extends Te{constructor(e,t,i,s){super(),this.column=e,this.rowNode=t,this.beans=i,this.rowCtrl=s,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=e.getId()+"-"+br++,this.colIdSanitised=Ct(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new vr(this,this.beans),this.cellCustomStyleFeature=new pr(this,this.beans),this.cellMouseListenerFeature=new fr(this,this.beans,this.column),this.cellKeyboardListenerFeature=new mr(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();this.beans.rangeService&&ne(this.beans.gos)&&(this.cellRangeFeature=new wr(this.beans,this))}removeFeatures(){const e=this.beans.context;this.cellPositionFeature=e.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=e.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=e.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=e.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=e.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){const i="whenTruncated"===this.beans.gos.get("tooltipShowMode");t||!i||this.isCellRenderer()||(t=()=>{const e=this.getGui(),t=0===e.children.length?e:e.querySelector(".ag-cell-value");return!t||t.scrollWidth>t.clientWidth});const s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:null!=e?()=>e:()=>{const e=this.column.getColDef(),t=this.rowNode.data;if(e.tooltipField&&b(t))return $e(t,e.tooltipField,this.column.isTooltipFieldContainsDots());const i=e.tooltipValueGetter;return i?i(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:t};this.tooltipFeature=new Ji(s,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,i,s,n,o){this.cellComp=e,this.eGui=t,this.printLayout=s,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc((()=>this.removeFeatures())),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.cellPositionFeature?.setComp(t),this.cellCustomStyleFeature?.setComp(e),this.tooltipFeature?.refreshToolTip(),this.cellKeyboardListenerFeature?.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,t),n&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach((e=>e())),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e,t){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!e)return;const i=e.parentElement,s=N(this.beans.gos,this.rowNode).height,n=o=>{if(this.editing)return;if(!this.isAlive()||!t.isAlive())return;const{paddingTop:r,paddingBottom:a,borderBottomWidth:l,borderTopWidth:d}=Pi(i),c=r+a+l+d,u=e.offsetHeight+c;if(o<5){const t=W(this.beans.gos);if(!t||!t.contains(e)||0==u)return void window.setTimeout((()=>n(o+1)),0)}const h=Math.max(u,s);this.rowNode.setRowAutoHeight(h,this.column)},o=()=>n(0);o();const r=this.beans.resizeObserverService.observeResize(e,o);t.addDestroyFunc((()=>{r(),this.rowNode.setRowAutoHeight(void 0,this.column)}))}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return null!=e.cellRenderer||null!=e.cellRendererSelector}getValueToDisplay(){return this.valueFormatted??this.value}showValue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getValueToDisplay();let i;if(this.rowNode.stub&&null==this.rowNode.groupData?.[this.column.getId()]){const e=this.createCellRendererParams();i=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),e)}else if(this.isCellRenderer()){const e=this.createCellRendererParams();i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),e)}this.cellComp.setRenderDetails(i,t,e),this.cellRangeFeature?.refreshHandle()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return!(null!=this.rowNode.rowPinned)&&("function"===typeof e||!0===e)}isCheckboxSelection(e){const{rowSelection:t}=this.beans.gridOptions;return e.checkboxSelection||Be(this.column)&&t&&"string"!==typeof t&&ie(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),s=this.includeDndSource!=this.isIncludeControl(e.dndSource),n=this.isAutoHeight!=this.column.isAutoHeight();return t||i||s||n}startEditing(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{editService:s}=this.beans;return!(this.isCellEditable()&&!this.editing&&s)||(this.cellComp?s.startEditing(this,e,t,i):(this.onCellCompAttachedFuncs.push((()=>{this.startEditing(e,t,i)})),!0))}setEditing(e,t){this.editCompDetails=t,this.editing!==e&&(this.editing=e,this.cellRangeFeature?.refreshHandle())}stopRowOrCellEdit(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.stopEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onCellEditorAttachedFuncs=[];const{editService:t}=this.beans;return!(!this.editing||!t)&&t.stopEditing(this,e)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:e=>this.beans.valueService.setValue(this.rowNode,this.column,e),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(e,t,i,s)=>this.registerRowDragger(e,t,s),setTooltip:(e,t)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(e,t),this.tooltipFeature?.refreshToolTip()}})}setFocusOutOnEditor(){this.editing&&this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){this.editing&&this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell(e){if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),i=null!=e&&!!e.newData,s=null!=e&&!!e.suppressFlash||!!t.suppressCellFlash,n=null==t.field&&null==t.valueGetter&&null==t.showRowGroup,o=e&&e.forceRefresh||n||i,r=!!this.cellComp,a=this.updateAndFormatValue(r);if(r){if(o||a){this.showValue(i);const e=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!s&&!e&&(this.beans.gos.get("enableCellChangeFlash")||t.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature?.applyUserStyles(),this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip(),this.cellCustomStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.beans.editService?.stopEditingAndFocus(this,e,t)}flashCell(e){const t=e?.flashDuration??e?.flashDelay,i=e?.fadeDuration??e?.fadeDelay;this.animateCell("data-changed",t,i)}animateCell(e,t,i){if(!this.cellComp)return;const{gos:s}=this.beans;if(t||(t=s.get("cellFlashDuration")),0===t)return;b(i)||(i=s.get("cellFadeDuration"));const n=`ag-cell-${e}`,o=`ag-cell-${e}-animation`;this.cellComp.addOrRemoveCssClass(n,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming((()=>{window.setTimeout((()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(n,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${i}ms`,window.setTimeout((()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")}),i))}),t)}))}onFlashCells(e){if(!this.cellComp)return;const t=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[t]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,i=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),!e||(!this.valuesAreEqual(t,this.value)||this.valueFormatted!=i)}valuesAreEqual(e,t){const i=this.column.getColDef();return i.equals?i.equals(e,t):e===t}getComp(){return this.cellComp}getValue(){return this.value}addDomData(t){const i=this.getGui();H(this.beans.gos,i,e.DOM_DATA_KEY_CELL_CTRL,this),t.addDestroyFunc((()=>H(this.beans.gos,i,e.DOM_DATA_KEY_CELL_CTRL,null)))}createEvent(e,t){return this.beans.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}processCharacter(e){this.cellKeyboardListenerFeature?.processCharacter(e)}onKeyDown(e){this.cellKeyboardListenerFeature?.onKeyDown(e)}onMouseEvent(e,t){this.cellMouseListenerFeature?.onMouseEvent(e,t)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){this.cellComp&&this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:e,column:t,beans:i}=this;go(e,t,i.visibleColsService)}refreshAriaColIndex(){const e=this.beans.visibleColsService.getAriaColIndex(this.column);li(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cellComp?"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,t):(this.onCellCompAttachedFuncs.push((()=>{this.startRowOrCellEdit(e,t)})),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(e){this.eGui&&Ki(this.eGui,"tabindex",e?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}onCellFocused(e){if(this.beans.focusService.isCellFocusSuppressed())return;const t=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(t&&e?.forceBrowserFocus&&(this.focusEventToRestore=e));if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",t),t&&e&&e.forceBrowserFocus){let t=this.cellComp.getFocusableElement();if(this.editing){const e=this.beans.focusService.findFocusableElements(t,null,!0);e.length&&(t=e[0])}t.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const i="fullRow"===this.beans.gos.get("editType");t||i||!this.editing||this.stopRowOrCellEdit(),t&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:w(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)}onColumnHover(){if(!this.cellComp)return;if(!this.beans.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}onColDefChanged(){if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editService?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),i=this.createEvent(e,"cellContextMenu");this.beans.eventService.dispatchEvent(i),t.onCellContextMenu&&window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{t.onCellContextMenu(i)}))}),0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new hr;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new gr(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,t,i){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(e,t);const s=this.createRowDragComp(e,t,i);s&&(this.customRowDragComp=s,this.addDestroyFunc((()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null})))}createRowDragComp(e,t,i){const s=this.beans.gos.get("pagination"),n=this.beans.gos.get("rowDragManaged"),o=M(this.beans.gos);if(n){if(!o)return void c("managed row dragging is only allowed in the Client Side Row Model");if(s)return void c("managed row dragging is not possible when doing pagination")}const r=new gn((()=>this.value),this.rowNode,this.column,e,t,i);return this.beans.context.createBean(r),r}setSuppressRefreshCell(e){this.suppressRefreshCell=e}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(e){this.onCellEditorAttachedFuncs.push(e)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach((e=>e())),this.onCellEditorAttachedFuncs=[]}};Sr.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var yr=Sr,Rr=0,Ar=class e extends Te{constructor(e,t,i,s,n){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=t,this.gos=t.gos,this.rowNode=e,this.paginationPage=t.paginationService?.getCurrentPage()??0,this.useAnimationFrameForCreate=s,this.printLayout=n,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+Rr++,this.rowId=Ct(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=t.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!==typeof this.businessKeyForNodeFunc)return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Ct(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(e,t){"left"===e?this.leftGui=t:"right"===e?this.rightGui=t:"fullWidth"===e?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,i,s){const n={rowComp:e,element:t,containerType:i,compBean:s=Nt(this,this.beans.context,s)};this.allRowGuis.push(n),this.updateGui(i,n),this.initialiseRowComp(n),"FullWidthLoading"===this.rowType||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter((t=>t.containerType!==e)),this.updateGui(e,void 0)}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach((e=>e.element.style.display=t))}initialiseRowComp(t){const i=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),L(i)&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const s=t.rowComp;this.getInitialRowClasses(t.containerType).forEach((e=>s.addOrRemoveCssClass(e,!0))),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&ni(t.element,1==this.rowNode.expanded),this.setRowCompRowId(s),this.setRowCompRowBusinessKey(s),H(i,t.element,e.DOM_DATA_KEY_ROW_CTRL,this),t.compBean.addDestroyFunc((()=>H(i,t.element,e.DOM_DATA_KEY_ROW_CTRL,null))),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t),this.isFullWidth()&&this.setupFullWidth(t),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask((()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=Ct(this.rowNode.id),null!=this.rowId&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(f((()=>{this.onTopChanged()})),this.slideInAnimation[t]=!1);this.fadeInAnimation[t]&&(f((()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){if(ne(this.gos))return void c("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");const t=this.beans.localeService.getLocaleTextFunc(),i=new gn((()=>`1 ${t("rowDragRow","row")}`),this.rowNode,void 0,e.element,void 0,!0),s=this.createBean(i,this.beans.context);this.rowDragComps.push(s),e.compBean.addDestroyFunc((()=>{this.rowDragComps=this.rowDragComps.filter((e=>e!==s)),this.destroyBean(s,this.beans.context)}))}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType);if("FullWidthDetail"==this.rowType&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const i=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(i)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map((e=>e?.rowComp?.getFullWidthCellRenderer())):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}getCellElement(e){const t=this.getCellCtrl(e);return t?t.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const e=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),t=!!this.centerGui,i=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return e&&t&&i}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return!!e&&e({rowNode:this.rowNode})}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),i=this.gos.get("masterDetail")&&this.rowNode.detail,s=this.beans.columnModel.isPivotMode(),n=!!this.rowNode.group&&!this.rowNode.footer&&ee(this.gos,s);this.rowType=e?"FullWidthLoading":i?"FullWidthDetail":t?"FullWidth":n?"FullWidthGroup":"Normal"}updateColumnLists(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isFullWidth())return;e||this.gos.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(t):this.updateColumnListsPending||(this.beans.animationFrameService.createTask((()=>{this.active&&this.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s={list:[],map:{}},n=(e,t)=>{s.list.push(t),s.map[e]=t};return t.forEach((t=>{const i=t.getInstanceId();let s=e.map[i];s||(s=new yr(t,this.rowNode,this.beans,this)),n(i,s)})),e.list.forEach((e=>{const t=e.getColumn().getInstanceId();if(null!=s.map[t])return;this.isCellEligibleToBeRemoved(e,i)?e.destroy():n(t,e)})),s}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach((t=>{const i=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(i,e)}))}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.columnViewportService,t=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const i=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);const s=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,"left");const n=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}}isCellEligibleToBeRemoved(e,t){const i=!0;if(e.getColumn().getPinned()!=t)return i;const s=e.isEditing(),n=this.beans.focusService.isCellFocused(e.getCellPosition());if(s||n){const t=e.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(t)>=0)&&i}return i}getDomOrder(){return this.gos.get("ensureDomOrder")||I(this.gos,"print")}listenOnDomOrder(e){e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],(()=>{e.rowComp.setDomOrder(this.getDomOrder())}))}setAnimateFlags(e){if(this.isSticky()||!e)return;const t=b(this.rowNode.oldRowTop),i=this.beans.visibleColsService.isPinningLeft(),s=this.beans.visibleColsService.isPinningRight();if(t){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=s}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=s}}isEditing(){return this.editingRow}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){const e=(e,t)=>!e||e.rowComp.refreshFullWidth((()=>this.createFullWidthCompDetails(e.element,t).params)),t=e(this.fullWidthGui,null),i=e(this.centerGui,null),s=e(this.leftGui,"left"),n=e(this.rightGui,"right");return t&&i&&s&&n}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc((()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))})),this.addManagedPropertyListeners(["rowDragEntireRow"],(()=>{this.gos.get("rowDragEntireRow")?this.allRowGuis.forEach((e=>{this.addRowDraggerToRow(e)})):this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)})),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach((e=>e.onRowIndexChanged()))},cellChanged:e=>{this.getAllCellCtrls().forEach((t=>t.onCellChanged(e)))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell())this.beans.rowRenderer.redrawRow(this.rowNode);else if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode)}else this.getAllCellCtrls().forEach((t=>t.refreshCell({suppressFlash:!e.update,newData:!e.update}))),this.allRowGuis.forEach((e=>{this.setRowCompRowId(e.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(e.rowComp)})),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach((t=>{const i=0===e,s=1===e;t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)}))}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e)))}updateExpandedCss(){const e=this.rowNode.isExpandable(),t=1==this.rowNode.expanded;this.allRowGuis.forEach((i=>{i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&t),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!t),ni(i.element,e&&t)}))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:w(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(e){return this.allRowGuis.find((t=>t.element.contains(e)))}onKeyboardNavigate(e){const t=this.findFullWidthRowGui(e.target);if(!((t?t.element:null)===e.target))return;const i=this.rowNode,s=this.beans.focusService.getFocusedCell(),n={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:s?.column??this.getColumnForFullWidth(t)};this.beans.navigationService.navigateToNextCell(e,e.key,n,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Ee(e))return;const t=this.allRowGuis.find((t=>t.element.contains(e.target))),i=t?t.element:null,s=i===e.target,n=Q(this.gos);let o=!1;i&&n&&(o=i.contains(n)&&n.classList.contains("ag-cell"));let r=null;s||o||(r=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&s||!r)&&this.beans.navigationService.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find((e=>Bi(e.element)))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach((e=>{Ki(e.element,"tabindex",t)}))}onFullWidthRowFocused(e){const t=this.rowNode,i=!!e&&(this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned),s=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;s&&(s.classList.toggle("ag-full-width-focus",i),i&&e?.forceBrowserFocus&&s.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const i={list:[],map:{}};return e.list.forEach((e=>{e!==t&&(i.list.push(e),i.map[e.getColumn().getInstanceId()]=e)})),i}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t)}}createRowEvent(e,t){return this.gos.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:t})}createRowEventWithSource(e,t){const i=this.createRowEvent(e,t);return i.source=this,i}onRowDblClick(e){Ee(e)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}getColumnForFullWidth(e){const{visibleColsService:t}=this.beans;switch(e?.containerType){case"center":return t.getCenterCols()[0];case"left":return t.getLeftCols()[0];case"right":return t.getRightCols()[0];default:return t.getAllCols()[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Di(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const i=this.findFullWidthRowGui(e.target),s=i?.element,n=e.target;let o=!0;s&&s.contains(n)&&Ai(n)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:t.rowIndex,column:this.getColumnForFullWidth(i),rowPinned:t.rowPinned,forceBrowserFocus:o})}onRowClick(e){if(Ee(e)||this.lastMouseDownOnDragger)return;const{gos:t}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",e));const i=e.ctrlKey||e.metaKey,s=e.shiftKey,n=this.rowNode.isSelected();if(he(t)&&this.rowNode.group||this.isRowSelectionBlocked()||!function(e){const t=re(e);return!0===t||"enableSelection"===t}(t)&&!n||!ae(t)&&n)return;const o=function(e){const t=e.get("rowSelection");return"string"===typeof t?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}(t),r=ae(t),a="rowClicked";if(n)o?this.rowNode.setSelectedParams({newValue:!1,event:e,source:a}):i?r&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:a}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:e,source:a});else{const t=!o&&!i;this.rowNode.setSelectedParams({newValue:!0,clearSelection:t,rangeSelect:s,event:e,source:a})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!L(this.gos)}setupDetailRowAutoHeight(e){if("FullWidthDetail"!==this.rowType)return;if(!this.gos.get("detailRowAutoHeight"))return;const t=()=>{const t=e.clientHeight;if(null!=t&&t>0){const e=()=>{this.rowNode.setRowHeight(t),(M(this.gos)||x(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(e,0)}},i=this.beans.resizeObserverService.observeResize(e,t);this.addDestroyFunc(i),t()}createFullWidthCompDetails(e,t){const{gos:i,rowNode:s}=this,n=i.addGridCommonParams({fullWidth:!0,data:s.data,node:s,value:s.key,valueFormatted:s.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(e,t,i,s)=>this.addFullWidthRowDragging(e,t,i,s),setTooltip:(e,t)=>this.refreshRowTooltip(e,t)}),o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(n);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(n);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(n);default:return o.getFullWidthCellRendererDetails(n)}}refreshRowTooltip(e,t){if(!this.fullWidthGui)return;const i={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>e,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:t};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new Ji(i,this.beans))}addFullWidthRowDragging(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3?arguments[3]:void 0;if(!this.isFullWidth())return;const n=new gn((()=>i),this.rowNode,void 0,e,t,s);this.createBean(n,this.beans.context),this.addDestroyFunc((()=>{this.destroyBean(n,this.beans.context)}))}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((e=>{e.rowComp.addOrRemoveCssClass(t,!0),e.rowComp.addOrRemoveCssClass(i,!1)}))}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass("ag-row-first",e)))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass("ag-row-last",t))))}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.stoppingRowEdit||this.beans.rowEditService?.stopEditing(this,e)}setInlineEditingCss(){const e=this.editingRow||this.getAllCellCtrls().some((e=>e.isEditing()));this.allRowGuis.forEach((t=>{t.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),t.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)}))}setEditingRow(e){this.editingRow=e}startRowEditing(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return!!this.editingRow||(this.beans.rowEditService?.startEditing(this,e,t,i)??!0)}getAllCellCtrls(){if(0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length)return this.centerCellCtrls.list;return[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);e&&e.length&&e.forEach((e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!0)))}))}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!0)))}),(e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!1)))}))}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,(e=>e.rowComp.setUserStyles(this.rowStyles)))}getPinnedForContainer(e){return"left"===e||"right"===e?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:t};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)}processStylesFromGridOptions(){const e=this.gos.get("rowStyle");if(e&&"function"===typeof e)return void c("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const t=this.gos.getCallback("getRowStyle");let i;if(t){i=t({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})}return i||e?Object.assign({},e,i):this.emptyStyle}onRowSelected(e){const t=!!this.rowNode.isSelected();this.forEachGui(e,(e=>{e.rowComp.addOrRemoveCssClass("ag-row-selected",t),ui(e.element,t);!e.element.contains(Q(this.gos))||e!==this.centerGui&&e!==this.fullWidthGui||this.announceDescription()}))}announceDescription(){if(this.isRowSelectionBlocked())return;const e=this.rowNode.isSelected();if(e&&!ae(this.gos))return;const t=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(t,"rowSelection")}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:i}=e,{rowNode:s,beans:n,gos:o}=this;i.addManagedListeners(t,{mouseenter:()=>s.onMouseEnter(),mouseleave:()=>s.onMouseLeave()}),i.addManagedListeners(s,{mouseEnter:()=>{n.dragService.isDragging()||o.get("suppressRowHoverHighlight")||(t.classList.add("ag-row-hover"),s.setHovered(!0))},mouseLeave:()=>{t.classList.remove("ag-row-hover"),s.setHovered(!1)}})}roundRowTopToBounds(e){const t=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(t.top,!0)-100,s=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(i,e),s)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(null==this.rowNode.rowHeight)return;const t=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),s=V(this.gos)?N(this.gos,this.rowNode).height:void 0,n=s?Math.min(i,s)-2+"px":void 0;this.forEachGui(e,(e=>{e.element.style.height=`${t}px`,n&&e.element.style.setProperty("--ag-line-height",n)}))}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}destroyFirstPass(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.active=!1,!e&&K(this.gos)&&!this.isSticky()){if(null!=this.rowNode.rowTop){const e=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(e)}else this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)))}this.rowNode.setHovered(!1);const t=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(t),this.beans.eventService.dispatchEvent(t),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const e=e=>(e.list.forEach((e=>e.destroy())),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,(e=>{e.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),e.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)}))}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const e=this.beans.paginationService?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;return e+this.beans.pageBoundsService.getPixelOffset()*(t?1:-1)}setRowTop(e){if(!this.printLayout&&b(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeightService.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let i;if(this.isSticky())i=t.stickyRowTop;else{const s=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,n=this.applyPaginationOffset(s);i=t.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}return i+"px"}setRowTopStyle(e){this.allRowGuis.forEach((t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`)))}getRowNode(){return this.rowNode}getCellCtrl(e){let t=null;return this.getAllCellCtrls().forEach((i=>{i.getColumn()==e&&(t=i)})),null!=t||this.getAllCellCtrls().forEach((i=>{i.getColSpanningList().indexOf(e)>=0&&(t=i)})),t}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(null===t)return;const i=this.beans.headerNavigationService.getHeaderRowCount()+(this.beans.filterManager?.getHeaderRowCount()??0),s=this.rowNode.rowIndex%2===0,n=i+this.rowNode.rowIndex+1;this.forEachGui(e,(e=>{e.rowComp.setRowIndex(t),e.rowComp.addOrRemoveCssClass("ag-row-even",s),e.rowComp.addOrRemoveCssClass("ag-row-odd",!s),ri(e.element,n)}))}setStoppingRowEdit(e){this.stoppingRowEdit=e}};Ar.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Fr=Ar,Er=class extends Te{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",De("touchstart")?"touchstart":"mousedown"].forEach((e=>{const t=this.processMouseEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}))}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Ee(t))return;const i=this.getRowForEvent(t),s=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,void 0,i,s):(s&&s.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!Ci())return;const e=new as(this.element);this.addManagedListeners(e,{longTap:e=>{const t=this.getRowForEvent(e.touchEvent),i=this.mouseEventService.getRenderedCellForEvent(e.touchEvent);this.handleContextMenuMouseEvent(void 0,e.touchEvent,t,i)}}),this.addDestroyFunc((()=>e.destroy()))}getRowForEvent(e){let t=e.target;for(;t;){const e=B(this.gos,t,Fr.DOM_DATA_KEY_ROW_CTRL);if(e)return e;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,s){const n=i?i.getRowNode():null,o=s?s.getColumn():null;let r=null;if(o){const i=e||t;s.dispatchCellContextMenuEvent(i??null),r=this.valueService.getValue(o,n)}const a=this.ctrlsService.getGridBodyCtrl(),l=s?s.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:n,column:o,value:r,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:Pe(this.gos,e,yr.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Pe(this.gos,e,Fr.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,t))}processCellKeyboardEvent(e,t,i){const s=e.getRowNode(),n=e.getColumn(),o=e.isEditing();if(!Bn(this.gos,i,s,n,o)&&"keydown"===t){!o&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),_n(i)&&e.processCharacter(i)}"keydown"===t&&this.eventService.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){const s=e.getRowNode(),n=this.focusService.getFocusedCell(),o=n&&n.column;if(!Bn(this.gos,i,s,o,!1)){const s=i.key;if("keydown"===t)switch(s){case fs.PAGE_HOME:case fs.PAGE_END:case fs.PAGE_UP:case fs.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case fs.UP:case fs.DOWN:e.onKeyboardNavigate(i);break;case fs.TAB:e.onTabKeyDown(i)}}"keydown"===t&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey)return;if(t)return;if(!this.mouseEventService.isEventFromThisGrid(e))return;const i=function(e){const{keyCode:t}=e;let i;switch(t){case 65:i=fs.A;break;case 67:i=fs.C;break;case 86:i=fs.V;break;case 68:i=fs.D;break;case 90:i=fs.Z;break;case 89:i=fs.Y;break;default:i=e.code}return i}(e);return i===fs.A?this.onCtrlAndA(e):i===fs.C?this.onCtrlAndC(e):i===fs.D?this.onCtrlAndD(e):i===fs.V?this.onCtrlAndV(e):i===fs.X?this.onCtrlAndX(e):i===fs.Y?this.onCtrlAndY():i===fs.Z?this.onCtrlAndZ(e):void 0}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:i,rangeService:s}=this;if(s&&i.isRowsToRender()){const[e,n]=[t.isEmpty("top"),t.isEmpty("bottom")],o=e?null:"top";let r,a;n?(r=null,a=i.getRowCount()-1):(r="bottom",a=t.getPinnedBottomRowCount()-1);const l=this.visibleColsService.getAllCols();if(y(l))return;s.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:a,rowEndPinned:r,columnStart:l[0],columnEnd:pe(l)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gos.get("undoRedoCellEditing")&&this.undoRedoService&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService?.redo("ui")}},Dr=class extends Te{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Fi(this.element,t),zi(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},Pr=class extends Te{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Fi(this.element,t),zi(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},kr=e=>e.getTopRowCtrls(),Tr=e=>e.getStickyTopRowCtrls(),Mr=e=>e.getStickyBottomRowCtrls(),xr=e=>e.getBottomRowCtrls(),Ir=e=>e.getCentreRowCtrls(),Lr={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:Ir},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:Ir},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:Ir},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:Ir},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:kr},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:kr},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:kr},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:kr},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:Tr},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Tr},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Tr},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:Tr},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:Mr},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Mr},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Mr},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:Mr},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:xr},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:xr},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:xr},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:xr}};function Or(e){return Lr[e]}var Vr=["center","left","right","fullWidth"],Nr=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Gr=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],_r=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],Br=["stickyTopCenter","stickyTopLeft","stickyTopRight"],Hr=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],Wr=[...Br,"stickyTopFullWidth",...Hr,"stickyBottomFullWidth"],zr=["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right",...Br,...Hr],Ur=class extends Te{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=Or(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],(()=>{this.viewportSizeFeature=this.createManagedBean(new cr(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})}))}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i){this.comp=e,this.eContainer=t,this.eViewport=i,this.createManagedBean(new Er(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const s=()=>this.onPinnedWidthChanged();this.forContainers(Gr,(()=>{this.pinnedWidthFeature=this.createManagedBean(new Dr(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:s})})),this.forContainers(_r,(()=>{this.pinnedWidthFeature=this.createManagedBean(new Pr(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:s})})),this.forContainers(Vr,(()=>this.createManagedBean(new rr(this.eContainer,"center"===this.name?i:void 0)))),this.forContainers(zr,(()=>this.createManagedBean(new ur(this.eContainer)))),this.forContainers(Nr,(()=>this.createManagedBean(new Go((e=>this.comp.setContainerWidth(`${e}px`)))))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(Wr.indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const e=()=>{const e=this.gos.get("ensureDomOrder"),t=I(this.gos,"print");this.comp.setDomOrder(e||t)};this.addManagedPropertyListener("domLayout",e),e()}onDisplayedColumnsChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}addPreventScrollWhileDragging(){const e=e=>{this.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc((()=>this.eContainer.removeEventListener("touchmove",e)))}onHorizontalViewportChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Ti(this.eViewport)}getCenterViewportScrollLeft(){return Oi(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc((()=>t()))}isViewportInTheDOMTree(){return _i(this.eViewport)}getViewportScrollLeft(){return Oi(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||(e=this.eViewport).clientWidth<e.scrollWidth;var e}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Vi(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(null!=this.options.pinnedType)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||0===t.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const i=I(this.gos,"print"),s=this.gos.get("embedFullWidthRows")||i,n=t.filter((e=>{const t=e.isFullWidth();return this.options.fullWidth?!s&&t:s||!t}));this.comp.setRowCtrls({rowCtrls:n,useFlushSync:e})}},Qr="ag-force-vertical-scroll",qr=class extends Te{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,s,n,o,r){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=s,this.eBottom=n,this.eStickyTop=o,this.eStickyBottom=r,this.eCenterColsViewport=i.querySelector(`.${Or("center").viewport}`),this.eFullWidthContainer=i.querySelector(`.${Or("fullWidth").container}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${Or("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=r.querySelector(`.${Or("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",(e=>this.setCellTextSelection(e.currentValue))),this.createManagedBean(new ir(this.comp)),this.bodyScrollFeature=this.createManagedBean(new dr(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([s,i,n,o,r]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvancedFilterHeaderComp(s),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach((e=>{this.addManagedElementListeners(e,{focusin:t=>{const{target:i}=t,s=Di(i,"ag-root",e);e.classList.toggle("ag-has-focus",!s)},focusout:t=>{const{target:i,relatedTarget:s}=t,n=e.contains(s),o=Di(s,"ag-root",e);Di(i,"ag-root",e)||n&&!o||e.classList.remove("ag-has-focus")}})}))}setColumnMovingCss(e){this.comp.setColumnMovingCss("ag-column-moving",e)}setCellTextSelection(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.comp.setCellSelectableCss("ag-selectable",e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=`calc(100% + ${(e&&this.scrollVisibleService.getScrollbarWidth()||0)+(yi()?16:0)}px)`;this.animationFrameService.requestAnimationFrame((()=>this.comp.setBodyViewportWidth(t))),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=e=>{const i=e.relatedTarget;if(null===bi(i))return void this.rowRenderer.stopEditing();let s=t.some((e=>e.contains(i)))&&this.mouseEventService.isElementInThisGrid(i);if(!s){const e=this.popupService;s=e.getActivePopups().some((e=>e.contains(i)))||e.isElementWithinCustomPopup(i)}s||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach((t=>this.addManagedElementListeners(t,{focusout:e})))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+(this.filterManager?.getHeaderRowCount()??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=-1===t?-1:e+t;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?Qr:null,i=I(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&(s=this.eBodyViewport).clientHeight<s.scrollHeight;var s}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const t=e&&K(this.gos)&&!this.rowContainerHeightService.isStretching(),i=t?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(i,t)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:i,shiftKey:s}=e;(s||Math.abs(t)>Math.abs(i))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:i,shiftKey:s}=e,n=s||Math.abs(t)>Math.abs(i),o=e.target;n?(this.eStickyTopFullWidthContainer.contains(o)||this.eStickyBottomFullWidthContainer.contains(o))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;if(this.gos.get("preventDefaultOnContextMenu")){(e||i).preventDefault()}const{target:s}=e||t;s!==this.eBodyViewport&&s!==this.ctrlsService.get("center").getViewportElement()||this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Ci())return;const t=new as(this.eBodyViewport);this.addManagedListeners(t,{longTap:t=>{e(void 0,t.touchStart,t.touchEvent)}}),this.addDestroyFunc((()=>t.destroy()))}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new un(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc((()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature)))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(e){const e=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${e}px)`)}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const e=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(this.filterManager?.getHeaderHeight()??0),t=this.pinnedRowModel.getPinnedTopTotalHeight();let i=0;e>0&&(i+=e),t>0&&(i+=t),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight()+(this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0);this.comp.setStickyBottomBottom(`${e}px`)}sizeColumnsToFit(e,t){const i=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,s=Ti(this.eGridBody)-i;s>0?this.columnSizeService.sizeColumnsToFit(s,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,100)}),0):100===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,500)}),100):500===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,-1)}),500):c("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};function Kr(e){return e.map((e=>`<ag-row-container name="${e}"></ag-row-container>`)).join("")}Kr(["topLeft","topCenter","topRight","topFullWidth"]),Kr(["left","center","right","fullWidth"]),Kr(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]),Kr(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]),Kr(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]);var jr=class extends Te{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn((()=>{this.columnAnimationService.executeLaterVMTurn((()=>this.updateScrollVisibleImpl()))})):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(null==this.scrollbarWidth){const e=this.gos.get("scrollbarWidth"),t="number"===typeof e&&e>=0?e:(null==Qt&&Si(),Qt);null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},$r="__ag_grid_instance",Xr=class e extends Te{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=e.gridInstanceSequence.next()}wireBeans(e){this.ctrlsService=e.ctrlsService}stampTopLevelGridCompWithGridInstance(e){e[$r]=this.gridInstanceId}getRenderedCellForEvent(e){return Pe(this.gos,e.target,yr.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){const e=t[$r];if(b(e)){return e===this.gridInstanceId}t=t.parentElement}return!1}getCellPositionForEvent(e){const t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){const t=I(this.gos,"normal"),i=e;let s,n;if(null!=i.clientX||null!=i.clientY?(s=i.clientX,n=i.clientY):(s=i.x,n=i.y),t){const e=this.ctrlsService.getGridBodyCtrl(),t=e.getScrollFeature().getVScrollPosition();s+=e.getScrollFeature().getHScrollPosition().left,n+=t.top}return{x:s,y:n}}};Xr.gridInstanceSequence=new $i;var Yr=Xr,Jr=class extends Te{constructor(){super(),this.beanName="navigationService",this.onPageDown=C(this.onPageDown,100),this.onPageUp=C(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.gridBodyCon=e.gridBodyCtrl}))}handlePageScrollingKey(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=e.key,s=e.altKey,n=e.ctrlKey||e.metaKey,o=!!this.rangeService&&e.shiftKey,r=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(i){case fs.PAGE_HOME:case fs.PAGE_END:n||s||(this.onHomeOrEndKey(i),a=!0);break;case fs.LEFT:case fs.RIGHT:case fs.UP:case fs.DOWN:if(!r)return!1;!n||s||o||(this.onCtrlUpDownLeftRight(i,r),a=!0);break;case fs.PAGE_DOWN:case fs.PAGE_UP:n||s||(a=this.handlePageUpDown(i,r,t))}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),!!t&&(e===fs.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0)}navigateTo(e){const{scrollIndex:t,scrollType:i,scrollColumn:s,focusIndex:n,focusColumn:o}=e;b(s)&&!s.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(s),b(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(n),this.focusService.setFocusedCell({rowIndex:n,column:o,rowPinned:null,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:n,rowPinned:null,column:o})}onPageDown(e){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.getViewportHeight(),s=this.pageBoundsService.getPixelOffset(),n=t.top+i,o=this.rowModel.getRowIndexAtPixel(n+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.pageBoundsService.getPixelOffset(),s=t.top,n=this.rowModel.getRowIndexAtPixel(s+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,n,!0):this.navigateToNextPage(e,n,!0)}navigateToNextPage(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=this.getViewportHeight(),n=this.pageBoundsService.getFirstRow(),o=this.pageBoundsService.getLastRow(),r=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=i?a?.rowHeight-s-r:s-r,d=a?.rowTop+l;let c,u=this.rowModel.getRowIndexAtPixel(d+r);if(u===e.rowIndex){const s=i?-1:1;t=u=e.rowIndex+s}i?(c="bottom",u<n&&(u=n),t<n&&(t=n)):(c="top",u>o&&(u=o),t>o&&(t=o)),this.isRowTallerThanView(u)&&(t=u,c="top"),this.navigateTo({scrollIndex:t,scrollType:c,scrollColumn:null,focusIndex:u,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout((()=>{const s=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})}),50)}getNextFocusIndexForAutoHeight(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?-1:1,i=this.getViewportHeight(),s=this.pageBoundsService.getLastRow();let n=0,o=e.rowIndex;for(;o>=0&&o<=s;){const e=this.rowModel.getRow(o);if(e){const t=e.rowHeight??0;if(n+t>i)break;n+=t}o+=t}return Math.max(0,Math.min(o,s))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth();let i=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(i-=t),i}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const i=t.rowHeight;return"number"===typeof i&&i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:s}=i,n=i.column;this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:n,focusIndex:s,focusColumn:n})}onHomeOrEndKey(e){const t=e===fs.PAGE_HOME,i=this.visibleColsService.getAllCols(),s=t?i[0]:pe(i),n=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:s,focusIndex:n,focusColumn:s})}onTabKeyDown(e,t){const i=t.shiftKey,s=this.tabToNextCellCommon(e,i,t);if(!1===s)if(i){const{rowIndex:i,rowPinned:s}=e.getRowPosition();(s?0===i:i===this.pageBoundsService.getFirstRow())&&(0===this.gos.get("headerHeight")||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof yr&&e.focusCell(!0),(!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&t.preventDefault();else s?t.preventDefault():null===s&&this.focusService.allowFocusForNextGridCoreContainer(i)}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let s=this.getCellByPosition(i);return!!(s||(s=this.rowRenderer.getRowByPosition(i),s&&s.isFullWidth()))&&!!this.tabToNextCellCommon(s,e,t)}tabToNextCellCommon(e,t,i){let s,n=e.isEditing();if(!n&&e instanceof yr){const t=e.getRowCtrl();t&&(n=t.isEditing())}return s=n?"fullRow"===this.gos.get("editType")?this.moveToNextEditingRow(e,t,i):this.moveToNextEditingCell(e,t,i):this.moveToNextCellNotEditing(e,t),null===s?s:s||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s=e.getCellPosition();e.getGui().focus(),e.stopEditing();const n=this.findNextCellToFocusOn(s,t,!0);return!1===n?null:null!=n&&(n.startEditing(null,!0,i),n.focusCell(!1),!0)}moveToNextEditingRow(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s=e.getCellPosition(),n=this.findNextCellToFocusOn(s,t,!0);if(!1===n)return null;if(null==n)return!1;const o=n.getCellPosition(),r=this.isCellEditable(s),a=this.isCellEditable(o),l=o&&s.rowIndex===o.rowIndex&&s.rowPinned===o.rowPinned;if(r&&e.setFocusOutOnEditor(),!l){e.getRowCtrl().stopEditing();n.getRowCtrl().startRowEditing(void 0,void 0,i)}return a?(n.setFocusInOnEditor(),n.focusCell()):n.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.visibleColsService.getAllCols();let s;s=e instanceof Fr?{...e.getRowPosition(),column:t?i[0]:pe(i)}:e.getCellPosition();const n=this.findNextCellToFocusOn(s,t,!1);if(!1===n)return null;if(n instanceof yr)n.focusCell(!0);else if(n)return this.tryToFocusFullWidthRow(n.getRowPosition(),t);return b(n)}findNextCellToFocusOn(e,t,i){let s=e;for(;;){e!==s&&(e=s),t||(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextTabbedCell(s,t);const n=this.gos.getCallback("tabToNextCell");if(b(n)){const o=n({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:s||null});if(!0===o||null===o)null===o&&c("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),s=e;else{if(!1===o)return!1;s={rowIndex:o.rowIndex,column:o.column,rowPinned:o.rowPinned}}}if(!s)return null;if(s.rowIndex<0){const e=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:e+s.rowIndex,column:s.column},fromCell:!0}),null}const o="fullRow"===this.gos.get("editType");if(i&&!o){if(!this.isCellEditable(s))continue}this.ensureCellVisible(s);const r=this.getCellByPosition(s);if(!r){const e=this.rowRenderer.getRowByPosition(s);if(!e||!e.isFullWidth()||i)continue;return e}if(!r.isSuppressNavigable())return this.rangeService?.setRangeToCell(s),r}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,i,s){let n=i,o=!1;for(;n&&(n===i||!this.isValidNavigateCell(n));)this.gos.get("enableRtl")?t===fs.LEFT&&(n=this.getLastCellOfColSpan(n)):t===fs.RIGHT&&(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextCellToFocus(t,n),o=S(n);if(o&&e&&e.key===fs.UP&&(n={rowIndex:-1,rowPinned:null,column:i.column}),s){const s=this.gos.getCallback("navigateToNextCell");if(b(s)){const o=s({key:t,previousCellPosition:i,nextCellPosition:n||null,event:e});n=b(o)?{rowPinned:o.rowPinned,rowIndex:o.rowIndex,column:o.column}:null}}if(!n)return;if(n.rowIndex<0){const t=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:t+n.rowIndex,column:i.column},event:e||void 0,fromCell:!0})}const r=this.getNormalisedPosition(n);r?this.focusPosition(r):this.tryToFocusFullWidthRow(n)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const i=this.visibleColsService.getAllCols(),s=this.rowRenderer.getRowByPosition(e);if(!s||!s.isFullWidth())return!1;const n=this.focusService.getFocusedCell(),o={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?pe(i):i[0])};this.focusPosition(o);const r=null==t?null!=n&&this.rowPositionUtils.before(o,n):t;return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:o.column,isFullWidthCell:!0,fromBelow:r}),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return 1===i.length?e:{rowIndex:e.rowIndex,column:pe(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=j(this.gos),i=this.rowModel.getRow(e.rowIndex);!(t&&i?.sticky)&&S(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},Zr=class extends Te{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(t);return()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},ea=class extends Te{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,(s=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:s})}),i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let s=-1,n="left";const o=this.menuService.isLegacyMenuEnabled();!o&&this.gos.get("enableRtl")&&(s=1,n="right");const r=o?void 0:4*s,a=o?void 0:4;this.showPopup(e,(s=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:s,nudgeX:r,nudgeY:a,alignSide:n,keepWithinBounds:!0,position:"under",column:e})}),i,t,o)}showPopup(e,t,i,s,n){const o=e?this.createBean(new bn(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const r=document.createElement("div");let a;Zt(r,"presentation"),r.classList.add("ag-menu"),n||r.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(r,{keydown:e=>this.trapFocusWithin(e,r)}),r.appendChild(o?.getGui());const l=this.menuService.isColumnMenuAnchoringEnabled()?s??this.ctrlsService.getGridBodyCtrl().getGui():void 0,d=this.localeService.getLocaleTextFunc(),c=n&&"columnFilter"!==i?d("ariaLabelColumnMenu","Column Menu"):d("ariaLabelColumnFilter","Column Filter"),u=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,closedCallback:t=>{e.setMenuVisible(!1,"contextMenu");const n=t instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),n&&s&&Bi(s)){const e=this.focusService.findTabbableParent(s);e&&e.focus()}o?.afterGuiDetached(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e)},positionCallback:()=>t(r),anchorToElement:l,ariaLabel:c});u&&(this.hidePopup=a=u.hideFunc),o.afterInit().then((()=>{t(r),o.afterGuiAttached({container:i,hidePopup:a})})),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==fs.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},ta=class extends Te{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){const i=z(this.gos).ResizeObserver,s=i?new i(t):null;return s?.observe(e),()=>s?.disconnect()}},ia=class extends Te{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&0===e){const e=this.paginationService?.getCurrentPage()??0;e!==this.lastPage&&(this.lastPage=e,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){!1===this.useAnimationFrame&&c(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);const s={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],s),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort(((e,i)=>e.index!==i.index?t*(i.index-e.index):i.createOrder-e.createOrder)),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,s=this.createTasksP2,n=s.list,o=this.destroyTasks,r=(new Date).getTime();let a=(new Date).getTime()-r;const l=e<=0,d=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!d.getScrollFeature().scrollGridIfNeeded()){let e;if(i.length)this.sortTaskList(t),e=i.pop().task;else if(n.length)this.sortTaskList(s),e=n.pop().task;else{if(!o.length){this.cancelledTasks.clear();break}e=o.pop()}this.cancelledTasks.has(e)||e()}a=(new Date).getTime()-r}i.length||n.length||o.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=z(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{this.isOn()?t||(t=!0,this.addDestroyTask((()=>{t=!1,e()}))):window.setTimeout(e,0)}}},sa=class extends Te{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=M(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode((e=>{e.id&&t.has(e.id)&&(e.expanded=!0)})),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode((t=>{let{expanded:i,id:s}=t;i&&s&&e.push(s)})),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i,s){e&&(i&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,i,s),e.setExpanded(t,void 0,s))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},na=class extends Te{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}getContextMenuPosition(e,t){const i=this.getRowCtrl(e),s=this.getCellGui(i,t);if(!s)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};const n=s.getBoundingClientRect();return{x:n.x+n.width/2,y:n.y+n.height/2}}showContextMenu(e){const{rowNode:t}=e,i=e.column;let{anchorToElement:s,value:n}=e;t&&i&&null==n&&(n=this.valueService.getValueForDisplay(i,t)),null==s&&(s=this.getContextMenuAnchorElement(t,i)),this.contextMenuFactory?.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,i??null,n,s)}showColumnChooser(e){this.columnChooserFactory?.showColumnChooser(e)}hidePopupMenu(){this.contextMenuFactory?.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){this.columnChooserFactory?.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(i??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){const t=e&&et(e)?e.getColDef():e?.getColGroupDef();return!t?.suppressHeaderContextMenu&&"new"===this.getColumnMenuType()}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Ci()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.filterManager?.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return"new"===this.getColumnMenuType()}isLegacyMenuEnabled(){return"legacy"===this.getColumnMenuType()}isFloatingFilterButtonEnabled(e){const t=e.getColDef(),i=t.floatingFilterComponentParams?.suppressFilterButton;return null!=i&&c("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==t.suppressFloatingFilterButton?!i:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?!!this.gos.exists("suppressMenuHide")&&e:e}showColumnMenuCommon(e,t,i,s){const{positionBy:n}=t,o=t.column;if("button"===n){const{buttonElement:n}=t;e.showMenuAfterButtonClick(o,n,i,s)}else if("mouse"===n){const{mouseEvent:n}=t;e.showMenuAfterMouseEvent(o,n,i,s)}else o&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto"),this.animationFrameService.requestAnimationFrame((()=>{const t=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);t&&e.showMenuAfterButtonClick(o,t.getAnchorElementForMenu(s),i,!0)})))}getRowCtrl(e){const{rowIndex:t,rowPinned:i}=e||{};if(null!=t)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){if(!e||!t)return;const i=e.getCellCtrl(t);return i?.getGui()||void 0}getContextMenuAnchorElement(e,t){const i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),s=this.getRowCtrl(e);if(!s)return i;const n=this.getCellGui(s,t);return n||(s.isFullWidth()?s.getFullWidthElement():i)}},oa={selector:"AG-INPUT-TEXT-AREA",component:class extends ws{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}}},ra=class extends Ps{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){H(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params;this.addManagedElementListeners(e,{keydown:e=>{Bn(this.gos,e,t.node,t.column,!0)||t.onKeyDown(e)}})}},aa=class extends Ps{constructor(e){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${e.getTemplate()}\n            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=es}init(e){this.params=e;const{cellStartedEdit:t,eventKey:i,suppressPreventDefault:s}=e,n=this.eInput;let o;this.cellEditorInput.init(n,e);let r=!0;t?(this.focusAfterAttached=!0,i===fs.BACKSPACE||i===fs.DELETE?o="":i&&1===i.length?s?r=!1:o=i:(o=this.cellEditorInput.getStartValue(),i!==fs.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=this.cellEditorInput.getStartValue()),r&&null!=o&&n.setStartValue(o),this.addManagedElementListeners(n.getGui(),{keydown:e=>{const{key:t}=e;t!==fs.PAGE_UP&&t!==fs.PAGE_DOWN||e.preventDefault()}})}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;gi()||t.getFocusableElement().focus();const i=t.getInputElement();this.highlightAllOnFocus?i.select():this.cellEditorInput.setCaret?.()}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},la=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[Wn]}init(e,t){this.eInput=e,this.params=t,null!=t.maxLength&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return b(e)||b(this.params.value)?this.params.parseValue(e):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=b(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},da=class extends aa{constructor(){super(new la)}},ca=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[Un]}init(e,t){this.eInput=e,this.params=t,null!=t.max&&e.setMax(t.max),null!=t.min&&e.setMin(t.min),null!=t.precision&&e.setPrecision(t.precision),null!=t.step&&e.setStep(t.step);const i=e.getInputElement();t.preventStepping?e.addManagedElementListeners(i,{keydown:this.preventStepping}):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){e.key!==fs.UP&&e.key!==fs.DOWN||e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!b(e)&&!b(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(null==t)return t;if("string"===typeof t){if(""===t)return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){gi()&&this.eInput.getInputElement().focus({preventScroll:!0})}},ua={selector:"AG-INPUT-DATE-FIELD",component:class extends Hn{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=gi();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Q(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?io(e??null,!1)??void 0:e;return this.min===t||(this.min=t,Ki(this.eInput,"min",t)),this}setMax(e){const t=e instanceof Date?io(e??null,!1)??void 0:e;return this.max===t||(this.max=t,Ki(this.eInput,"max",t)),this}setStep(e){return this.step===e||(this.step=e,Ki(this.eInput,"step",e)),this}getDate(){if(this.eInput.validity.valid)return oo(this.getValue())??void 0}setDate(e,t){this.setValue(io(e??null,!1),t)}}},ha=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[ua]}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return b(e)||b(this.params.value)?e??null:this.params.value}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return io(e,!1)}},ga=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[ua]}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return b(e)||b(this.params.value)?this.params.parseValue(e??""):this.params.value}getStartValue(){return io(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):oo(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):io(e??null,!1)??void 0}},pa=class{constructor(e){this.cellValueChanges=e}},ma=class extends pa{constructor(e,t,i,s){super(e),this.initialRange=t,this.finalRange=i,this.ranges=s}},fa=class{constructor(e){this.actionStack=[],this.maxStackSize=e||10,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};function va(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,i)),"ensureVisible")}function Ca(e,t,i){e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,i)),"ensureVisible")}var wa={version:wo,moduleName:"@ag-grid-community/edit-core",beans:[class extends Te{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const n=this.createCellEditorParams(e,t,i),o=e.getColumn().getColDef(),r=this.userComponentFactory.getCellEditorDetails(o,n),a=null!=r?.popupFromSelector?r.popupFromSelector:!!o.cellEditorPopup,l=null!=r?.popupPositionFromSelector?r.popupPositionFromSelector:o.cellEditorPopupPosition;return e.setEditing(!0,r),e.getComp().setEditDetails(r,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(s,"cellEditingStarted")),!r?.params?.suppressPreventDefault}stopEditing(e,t){const i=e.getComp(),{newValue:s,newValueExists:n}=this.takeValueFromCellEditor(t,i),o=e.getRowNode(),r=e.getColumn(),a=this.valueService.getValueForDisplay(r,o);let l=!1;return n&&(l=this.saveNewValue(e,a,s,o,r)),e.setEditing(!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:s,valueChanged:l}),l}handleColDefChanged(e){const t=e.getCellEditor();if(t?.refresh){const{eventKey:i,cellStartedEdit:s}=e.getEditCompDetails().params,n=this.createCellEditorParams(e,i,s),o=e.getColumn().getColDef(),r=this.userComponentFactory.getCellEditorDetails(o,n);t.refresh(r.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp(),i=t.getCellEditor();i?.focusIn?i.focusIn():(e.focusCell(!0),e.onCellEditorAttached((()=>t.getCellEditor()?.focusIn?.())))}stopEditingAndFocus(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(i,e.getCellPosition())}createPopupEditorWrapper(e){return new ra(e)}takeValueFromCellEditor(e,t){const i={newValueExists:!1};if(e)return i;const s=t.getCellEditor();if(!s)return i;if(s.isCancelAfterEnd&&s.isCancelAfterEnd())return i;return{newValue:s.getValue(),newValueExists:!0}}saveNewValue(e,t,i,s,n){if(i===t)return!1;e.setSuppressRefreshCell(!0);const o=s.setDataValue(n,i,"edit");return e.setSuppressRefreshCell(!1),o}createCellEditorParams(e,t,i){const s=e.getColumn(),n=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(s,n),eventKey:t,column:s,colDef:s.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:n,data:n.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:t=>this.valueService.parseValue(s,n,t,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const i=e?fs.UP:fs.DOWN;this.navigationService.navigateToNextCell(null,i,t,!1)}}}]},ba={version:wo,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:function(e){e.undoRedoService?.undo("api")},redoCellEditing:function(e){e.undoRedoService?.redo("api")},getCellEditorInstances:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.rowRenderer.getCellEditorInstances(t).map(sn)},getEditingCells:function(e){return e.rowRenderer.getEditingCells()},stopEditing:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.rowRenderer.stopEditing(t)},startEditingCell:function(e,t){const i=e.columnModel.getCol(t.colKey);if(!i)return void c(`no column found for ${t.colKey}`);const s={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};null==t.rowPinned&&Ca(e,t.rowIndex),va(e,t.colKey);const n=e.navigationService.getCellByPosition(s);if(!n)return;const{focusService:o,gos:r}=e,a=r.get("stopEditingWhenCellsLoseFocus")&&(()=>{const e=Q(r),t=n.getGui();return e!==t&&t.contains(e)})();!a&&o.isCellFocused(s)||o.setFocusedCell({...s,forceBrowserFocus:a,preventScrollOnBrowserFocus:!0}),n.startRowOrCellEdit(t.key)},getCurrentUndoSize:function(e){return e.undoRedoService?.getCurrentUndoStackSize()??0},getCurrentRedoSize:function(e){return e.undoRedoService?.getCurrentRedoStackSize()??0}},dependantModules:[wa]},Sa={version:wo,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:da}],dependantModules:[wa]},ya={version:wo,moduleName:"@ag-grid-community/editing",dependantModules:[wa,{version:wo,moduleName:"@ag-grid-community/undo-redo-edit",beans:[class extends Te{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,t),s=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||s||this.isPasting||this.isRangeInAction))return;const{rowPinned:n,rowIndex:o,column:r,oldValue:a,value:l}=e,d={rowPinned:n,rowIndex:o,columnId:r.getColId(),newValue:l,oldValue:a};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new fa(e),this.redoStack=new fa(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:e=>{e.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,(e=>{this.gridBodyCtrl=e.gridBodyCtrl}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,i,s,n){if(!e)return!1;const o=e.pop();return!(!o||!o.cellValueChanges)&&(this.processAction(o,(e=>e[s]),n),o instanceof ma?this.processRange(this.rangeService,o.ranges||[o[i]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,i){e.cellValueChanges.forEach((e=>{const{rowIndex:s,rowPinned:n,columnId:o}=e,r={rowIndex:s,rowPinned:n},a=this.rowPositionUtils.getRowNode(r);a.displayed&&a.setDataValue(o,t(e),i)}))}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach(((s,n)=>{if(!s)return;const o=s.startRow,r=s.endRow;n===t.length-1&&(i={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(i));const a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:r.rowIndex,rowEndPinned:r.rowPinned,columnStart:s.startColumn,columns:s.columns};e.addCellRange(a)}))}processCell(e){const t=e[0],{rowIndex:i,rowPinned:s}=t,n={rowIndex:i,rowPinned:s},o=this.rowPositionUtils.getRowNode(n),r={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(r,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:s,rowPinned:n}=e,o=this.gridBodyCtrl.getScrollFeature(),r=this.columnModel.getCol(s);if(!r)return;o.ensureIndexVisible(i),o.ensureColumnVisible(r);const a={rowIndex:i,column:r,rowPinned:n};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),t?.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new pa(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{this.activeCellEdit=null;if(e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const e=new pa(this.cellValueChanges);this.pushActionsToUndoStack(e)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new pa(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new ma(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;e=this.rangeService&&ne(this.gos)?new ma(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new pa(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}}],dependantModules:[wa]},{version:wo,moduleName:"@ag-grid-community/full-row-edit",beans:[class extends Te{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=!0;return e.getAllCellCtrls().reduce(((e,o)=>{const r=o===i;return r?n=o.startEditing(t,r,s):o.startEditing(null,r,s),!!e||o.isEditing()}),!1)&&this.setEditing(e,!0),n}stopEditing(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=e.getAllCellCtrls(),s=e.isEditing();e.setStoppingRowEdit(!0);let n=!1;for(const o of i){const e=o.stopEditing(t);s&&!t&&!n&&e&&(n=!0)}n&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),s&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,(e=>e.rowComp.addOrRemoveCssClass("ag-row-editing",t)));const i=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(i)}}],dependantModules:[wa]},{version:wo,moduleName:"@ag-grid-community/all-editors",dependantModules:[Sa,{version:wo,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:da},{name:"agNumberCellEditor",classImp:class extends aa{constructor(){super(new ca)}},params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:class extends aa{constructor(){super(new ha)}}},{name:"agDateStringCellEditor",classImp:class extends aa{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new ga((()=>this.dataTypeService)))}}},{name:"agCheckboxCellEditor",classImp:class extends Ps{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[Ss]),this.eCheckbox=es}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t);this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:e=>this.setAriaLabel(e.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=hi(t,e),s=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}}}],dependantModules:[Sa]},{version:wo,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:class extends Ps{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>\n            </div>',[On]),this.eSelect=es,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:i,gos:s}=this,{values:n,value:o,eventKey:r}=e;if(S(n))return void c("no values found for select cellEditor");this.startedByEnter=null!=r&&r===fs.ENTER;let a=!1;n.forEach((s=>{const n={value:s},r=i.formatValue(e.column,null,s),l=null!==r&&void 0!==r;n.text=l?r:s,t.addOption(n),a=a||o===s})),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:d,valueListMaxHeight:u}=e;null!=l&&t.setPickerGap(l),null!=u&&t.setPickerMaxHeight(u),null!=d&&t.setPickerMaxWidth(d),"fullRow"!==s.get("editType")&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout((()=>{this.isAlive()&&this.eSelect.showPicker()}))}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}}}],dependantModules:[wa]},{version:wo,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:class extends Ps{constructor(){super('<div class="ag-large-text">\n        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',[oa]),this.eTextArea=es}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),b(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===fs.LEFT||t===fs.UP||t===fs.RIGHT||t===fs.DOWN||e.shiftKey&&t===fs.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return b(e)||b(this.params.value)?this.params.parseValue(e):this.params.value}}}],dependantModules:[wa]}]},ba]},Ra=class extends Te{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.centerRowContainerCtrl=e.center}))}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const s=this.rowRenderer.getAllCellsForColumn(e);return t||s.push(i),this.addElementsToContainerAndGetWidth(s)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();e.forEach((e=>this.cloneItemIntoDummy(e,t))),i.appendChild(t);const s=t.offsetWidth;i.removeChild(t);return s+this.getAutoSizePadding()}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((i=>{const s=i.getHtmlElementForColumnHeader(e);null!=s&&(t=s)})),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const s=document.createElement("div"),n=s.classList;["ag-header-cell","ag-header-group-cell"].some((e=>i.classList.contains(e)))?(n.add("ag-header","ag-header-row"),s.style.position="static"):n.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some((e=>o.classList.contains(e)))){for(let e=0;e<o.classList.length;e++){const t=o.classList[e];"ag-row-position-absolute"!=t&&n.add(t)}break}o=o.parentElement}s.appendChild(i),t.appendChild(s)}},Aa=class extends Te{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=M(this.gos),this.ctrlsService.whenReady(this,(e=>{this.gridBodyCtrl=e.gridBodyCtrl})),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let t=e.childStore?.getStoreBounds();return e.footer&&(t=e.sibling.childStore?.getStoreBounds()),(t?.heightPx??0)+(t?.topPx??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&0===e.rowIndex)return Number.MAX_SAFE_INTEGER;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let t=e.footer?e.sibling:e;for(;t.isExpandable()&&t.expanded;)if(t.master)t=t.detailNode;else if(t.childrenAfterSort){if(0===t.childrenAfterSort.length)break;t=pe(t.childrenAfterSort)}return t.rowTop+t.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t="top"===e;let i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);const s=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,n=new Set,o=e=>{if(n.add(e),t){const t=this.getLastPixelOfGroup(e),n=s+i+e.rowHeight;e.stickyRowTop=t<n?i+(t-n):i}else{const t=this.getFirstPixelOfGroup(e),n=s-(i+e.rowHeight);e.stickyRowTop=t>n?i-(t-n):i}i=0,n.forEach((e=>{const t=e.stickyRowTop+e.rowHeight;i<t&&(i=t)}))},r=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=t=>{if(!t.displayed)return!1;if(t.footer){if(!0===r)return!1;if("grand"===r&&-1===t.level)return!1;if("group"===r&&t.level>-1)return!1;const i=!!t.sibling.rowIndex&&t.sibling.rowIndex+1===t.rowIndex;if("bottom"===e&&i)return!1;return!n.has(t)}if(t.isExpandable()){if(!0===a)return!1;if("bottom"===e)return!1;return!n.has(t)&&t.expanded}return!1};for(let d=0;d<100;d++){let e=s+i;t||(e=s-i);const n=this.rowModel.getRowIndexAtPixel(e),r=this.rowModel.getRow(n);if(null==r)break;const a=this.getStickyAncestors(r).find((e=>(t?e.rowIndex<n:e.rowIndex>n)&&l(e)));if(a){o(a);continue}if(!(t?r.rowTop<e:r.rowTop+r.rowHeight>e)||!l(r))break;o(r)}return t||n.forEach((e=>{e.stickyRowTop=i-(e.stickyRowTop+e.rowHeight)})),this.refreshNodesAndContainerHeight(e,n,i)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(!0===e)return!0;const t=!!this.gos.get("groupIncludeFooter")||"group"===e,i=!!this.gos.get("groupIncludeTotalFooter")||"grand"===e;return!(!t||!i)||(i?"grand":!!t&&"group")}canRowsBeSticky(){const e=j(this.gos),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){const t=[];let i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some((t=>t.getRowNode()===e))){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const s=this.stickyTopRowCtrls[i].getRowNode();s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows()}else{for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const s=this.stickyBottomRowCtrls[i].getRowNode();s!==e&&t.add(s)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}}refreshNodesAndContainerHeight(e,t,i){const s="top"===e,n=s?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,o={},r=[];for(let h=0;h<n.length;h++){const e=n[h].getRowNode();!t.has(e)?(o[e.id]=n[h],e.sticky=!1):r.push(n[h])}const a=new Set;for(let h=0;h<r.length;h++)a.add(r[h].getRowNode());const l=[];t.forEach((e=>{a.has(e)||(e.sticky=!0,l.push(this.createRowCon(e,!1,!1)))}));let d=!!l.length||r.length!==n.length;s?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),d=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),d=!0),this.destroyRowCtrls(o,!1);const c=[...r,...l];c.sort(((e,t)=>t.getRowNode().rowIndex-e.getRowNode().rowIndex)),s||c.reverse(),c.forEach((e=>e.setRowTop(e.getRowNode().stickyRowTop)));let u=0;return s?(t.forEach((e=>{e.rowIndex<this.pageBoundsService.getFirstRow()&&(u+=e.rowHeight)})),u>this.topContainerHeight&&(u=this.topContainerHeight),this.setOffsetTop(u)):(t.forEach((e=>{e.rowIndex>this.pageBoundsService.getLastRow()&&(u+=e.rowHeight)})),u>this.bottomContainerHeight&&(u=this.bottomContainerHeight),this.setOffsetBottom(u)),!!d&&(s?this.stickyTopRowCtrls=c:this.stickyBottomRowCtrls=c,!0)}ensureRowHeightsValid(){let e=!1;const t=t=>{const i=t.getRowNode();if(i.rowHeightEstimated){const t=N(this.gos,i);i.setRowHeight(t.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},Fa=class extends Te{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach((e=>e.onCellSelectionChanged()))},t=()=>{this.getAllCellCtrls().forEach((e=>e.updateRangeBordersIfRangeCount()))},i=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},s=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc((()=>s())),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],(()=>{ne(this.gos)?i():s()}));ne(this.gos)&&i()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()}))}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],(()=>this.onDomLayoutChanged())),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],(()=>this.redraw())),this.addManagedPropertyListener("suppressCellFocus",(e=>this.onSuppressCellFocusChanged(e.currentValue))),this.addManagedPropertyListeners(["getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],(()=>this.redrawRows())),j(this.gos)&&(M(this.gos)||x(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new Aa(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=I(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=null!=e?e:3;this.cachedRowCtrls=new Ea(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=Ke(this.rowCtrlsByRowIndex),t=Ke(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach((t=>t.onCellFocused(e))),this.getFullWidthRowCtrls().forEach((t=>t.onFullWidthRowFocused(e)))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach((t=>t.onSuppressCellFocusChanged(e))),this.getFullWidthRowCtrls().forEach((t=>t.onSuppressCellFocusChanged(e)))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach((t=>t.onFlashCells(e)))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach((e=>e.onColumnHover()))},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach((e=>e.onDisplayedColumnsChanged()))},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach((e=>e.onLeftChanged()))}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach((e=>e())),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();this.columnModel.getCols().forEach((e=>{const t=t=>{this.getAllCellCtrls().forEach((i=>{i.getColumn()===e&&t(i)}))},i=()=>{t((e=>e.onLeftChanged()))},s=()=>{t((e=>e.onWidthChanged()))},n=()=>{t((e=>e.onFirstRightPinnedChanged()))},o=()=>{t((e=>e.onLastLeftPinnedChanged()))},r=()=>{t((e=>e.onColDefChanged()))};e.addEventListener("leftChanged",i),e.addEventListener("widthChanged",s),e.addEventListener("firstRightPinnedChanged",n),e.addEventListener("lastLeftPinnedChanged",o),e.addEventListener("colDefChanged",r),this.destroyFuncsForColumnListeners.push((()=>{e.removeEventListener("leftChanged",i),e.removeEventListener("widthChanged",s),e.removeEventListener("firstRightPinnedChanged",n),e.removeEventListener("lastLeftPinnedChanged",o),e.removeEventListener("colDefChanged",r)}))}))}onDomLayoutChanged(){const e=I(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach((i=>{const s=i.getCellElement(e);s&&t.push(s)})),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:i,beans:s,printLayout:n}=this,o=Object.fromEntries(e.map((e=>[e.getRowNode().id,e])));i.forEachPinnedRow(t,((r,a)=>{const l=e[a];l&&void 0===i.getPinnedRowById(l.getRowNode().id,t)&&(l.destroyFirstPass(),l.destroySecondPass()),r.id in o?(e[a]=o[r.id],delete o[r.id]):e[a]=new Fr(r,s,!1,!1,n)}));const r="top"===t?i.getPinnedTopRowCount():i.getPinnedBottomRowCount();e.length=r}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{if(this.cachedRowCtrls?.has(e))return void this.cachedRowCtrls.removeRow(e);{const t=t=>{const i=t[e.rowIndex];i&&i.getRowNode()===e&&(i.destroyFirstPass(),i.destroySecondPass(),t[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":t(this.topRowCtrls);break;case"bottom":t(this.bottomRowCtrls);break;default:t(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(null!=e)return e?.forEach((e=>this.redrawRow(e,!0))),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;const i=Q(this.gos),s=B(this.gos,i,yr.DOM_DATA_KEY_CELL_CTRL),n=B(this.gos,i,Fr.DOM_DATA_KEY_ROW_CTRL);return s||n?t:null}redrawAfterModelUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,s=e.animate&&K(this.gos),n=i?this.getRowsToRecycle():null;if(i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const e=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();e&&this.updateContainerHeights(e)}this.recycleRows(n,s),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let t=this.pageBoundsService.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,this.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,(()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}))}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.getAllRowCtrls().forEach((t=>{t.stopEditing(e)}))}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let s=0;s<i;s++){const i=t[s].getAllCellCtrls(),n=i.length;for(let t=0;t<n;t++)e.push(i[t])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const s in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[s]);return i}addRenderedRowListener(e,t,i){const s=this.rowCtrlsByRowIndex[t];s&&s.addEventListener(e,i)}flashCells(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getCellCtrls(e.rowNodes,e.columns).forEach((t=>t.flashCell(e)))}refreshCells(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&wi()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){const t=this.getCellCtrls(e.rowNodes,e.columns).map((e=>e.getCellRenderer())).filter((e=>null!=e));if(e.columns?.length)return t;const i=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach((e=>{if(s&&!this.isRowInMap(e.getRowNode(),s))return;if(!e.isFullWidth())return;const t=e.getFullWidthCellRenderers();for(let s=0;s<t.length;s++){const e=t[s];null!=e&&i.push(e)}})),[...i,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach((e=>{const i=e.getCellEditor();i&&t.push(i)})),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach((t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}})),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach((e=>{const i=e.id;switch(e.rowPinned){case"top":t.top[i]=e;break;case"bottom":t.bottom[i]=e;break;default:t.normal[i]=e}})),t}isRowInMap(e,t){const i=e.id;switch(e.rowPinned){case"top":return null!=t.top[i];case"bottom":return null!=t.bottom[i];default:return null!=t.normal[i]}}getRowCtrls(e){const t=this.mapRowNodes(e),i=this.getAllRowCtrls();return e&&t?i.filter((e=>{const i=e.getRowNode();return this.isRowInMap(i,t)})):i}getCellCtrls(e,t){let i;b(t)&&(i={},t.forEach((e=>{const t=this.columnModel.getCol(e);b(t)&&(i[t.getId()]=!0)})));const s=[];return this.getRowCtrls(e).forEach((e=>{e.getAllCellCtrls().forEach((e=>{const t=e.getColumn().getId();i&&!i[t]||s.push(e)}))})),s}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];Ue(this.rowCtrlsByRowIndex,((t,i)=>{null==i.getRowNode().id&&e.push(t)})),this.removeRowCtrls(e);const t={};return Ue(this.rowCtrlsByRowIndex,((e,i)=>{const s=i.getRowNode();t[s.id]=i})),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.forEach((e=>{const i=this.rowCtrlsByRowIndex[e];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[e]}))}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{afterScroll:t}=e;let i;this.stickyRowFeature&&wi()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const s=this.firstRenderedRow,n=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let o=!1;if(this.stickyRowFeature){o=this.stickyRowFeature.checkStickyRows();const e=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();e&&this.updateContainerHeights(e)}const r=this.firstRenderedRow!==s||this.lastRenderedRow!==n;if((!t||o||r)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!o),null!=i)){const e=this.getCellToRestoreFocusToAfterRefresh();null!=i&&null==e&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach((e=>i[e]=!0));const s=Object.keys(this.rowCtrlsByRowIndex).filter((e=>!i[e]));this.removeRowCtrls(s,t)}calculateIndexesToDraw(e){const t=function(e,t){const i=[];for(let s=e;s<=t;s++)i.push(s);return i}(this.firstRenderedRow,this.lastRenderedRow),i=(e,i)=>{const s=i.getRowNode().rowIndex;null!=s&&(s<this.firstRenderedRow||s>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(i)&&t.push(s)};Ue(this.rowCtrlsByRowIndex,i),Ue(e,i),t.sort(((e,t)=>e-t));const s=[];for(let n=0;n<t.length;n++){const e=t[n],i=this.rowModel.getRow(e);i&&!i.sticky&&s.push(e)}return s}recycleRows(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(s,!t);const n=[];if(s.forEach((s=>{const o=this.createOrUpdateRowCtrl(s,e,t,i);b(o)&&n.push(o)})),e){i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask((()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach((t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter((e=>{if(!e.isFullWidth())return!1;const i=e.getRowNode();return!(null!=t&&!this.isRowInMap(i,t))}))}createOrUpdateRowCtrl(e,t,i,s){let n,o=this.rowCtrlsByRowIndex[e];o||(n=this.rowModel.getRow(e),b(n)&&b(t)&&t[n.id]&&n.alreadyRendered&&(o=t[n.id],t[n.id]=null));if(!o){if(n||(n=this.rowModel.getRow(e)),!b(n))return;o=this.createRowCon(n,i,s)}return n&&(n.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){const i=[];Ue(e,((e,s)=>{if(s)if(this.cachedRowCtrls&&s.isCacheable())this.cachedRowCtrls.addRow(s);else if(s.destroyFirstPass(!t),t){const e=s.instanceId;this.zombieRowCtrls[e]=s,i.push((()=>{s.destroySecondPass(),delete this.zombieRowCtrls[e]}))}else s.destroySecondPass()})),t&&(i.push((()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),g(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*G(this.gos)}workOutFirstAndLastRowsToRender(){let e,t;if(this.rowContainerHeightService.updateOffset(),this.rowModel.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const i=this.getRowBufferInPixels(),s=this.ctrlsService.getGridBodyCtrl(),n=this.gos.get("suppressRowVirtualisation");let o,r,a=!1;do{const e=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:t,pageLastPixel:l}=this.pageBoundsService.getCurrentPagePixelRange(),d=this.rowContainerHeightService.getDivStretchOffset(),c=s.getScrollFeature().getVScrollPosition(),u=c.top,h=c.bottom;n?(o=t+d,r=l+d):(o=Math.max(u+e-i,t)+d,r=Math.min(h+e+i,l)+d),this.firstVisibleVPixel=Math.max(u+e,t)+d,this.lastVisibleVPixel=Math.min(h+e,l)+d,a=this.ensureAllRowsInRangeHaveHeightsCalculated(o,r)}while(a);let l=this.rowModel.getRowIndexAtPixel(o),d=this.rowModel.getRowIndexAtPixel(r);const c=this.pageBoundsService.getFirstRow(),u=this.pageBoundsService.getLastRow();l<c&&(l=c),d>u&&(d=u),e=l,t=d}else e=0,t=-1;const i=I(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),n=Math.max(this.getRowBuffer(),500);i&&!s&&t-e>n&&(t=e+n);const o=e!==this.firstRenderedRow,r=t!==this.lastRenderedRow;(o||r)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame((()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})})))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const i=this.pinnedRowModel?.ensureRowHeightsValid(),s=this.stickyRowFeature?.ensureRowHeightsValid(),n=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(n||s)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),!!(s||n||i)&&(this.updateContainerHeights(),!0)}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const t=!1,i=e.getRowNode(),s=this.focusService.isRowNodeFocused(i),n=e.isEditing(),o=i.detail;if(!(s||n||o))return t;return!!this.isRowPresent(i)||t}isRowPresent(e){return!!this.rowModel.isRowPresent(e)&&(!this.paginationService||this.paginationService.isRowPresent(e))}createRowCon(e,t,i){const s=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(s)return s;const n=this.gos.get("suppressAnimationFrame"),o=i&&!n&&!this.printLayout;return new Fr(e,this.beans,t,o,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map((e=>e.getRowNode()))}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find((e=>e.getRowNode().rowIndex===i))||null,t||(t=this.getStickyBottomRowCtrls().find((e=>e.getRowNode().rowIndex===i))||null))}return t}isRangeInRenderedViewport(e,t){if(null==e||null==t)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},Ea=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(e){if(null==e||null==e.id)return null;const t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);return t.getRowNode()!=e?null:t}has(e){return null!=this.entriesMap[e.id]}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],ve(this.entriesList,i)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],ve(this.entriesList,e)}getEntries(){return this.entriesList}},Da=class extends Te{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new Pa,this.pinnedBottomRows=new Pa}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",(e=>this.setPinnedRowData(e.currentValue,"top"))),this.addManagedPropertyListener("pinnedBottomRowData",(e=>this.setPinnedRowData(e.currentValue,"bottom"))),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return("top"===e?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const e=e=>{e.setRowHeight(e.rowHeight,!0)};this.pinnedBottomRows.forEach(e),this.pinnedTopRows.forEach(e)}}ensureRowHeightsValid(){let e=!1,t=0;const i=i=>{if(i.rowHeightEstimated){const s=N(this.gos,i);i.setRowTop(t),i.setRowHeight(s.height),t+=s.height,e=!0}};return this.pinnedBottomRows?.forEach(i),t=0,this.pinnedTopRows?.forEach(i),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const i="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(void 0===e)return void i.clear();const s=te(this.gos),n="top"===t?wn.ID_PREFIX_TOP_PINNED:wn.ID_PREFIX_BOTTOM_PINNED,o=i.getIds(),r=[],a=new Set;let l=0,d=-1;for(const u of e){const e=s?.({data:u,level:0,rowPinned:t})??n+this.nextId++;if(a.has(e)){c("Duplicate ID",e,"found for pinned row with data",u,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}d++,a.add(e),r.push(e);const h=i.getById(e);if(void 0!==h)h.data!==u&&h.setData(u),l+=this.setRowTopAndRowIndex(h,l,d),o.delete(e);else{const s=new wn(this.beans);s.id=e,s.data=u,s.rowPinned=t,l+=this.setRowTopAndRowIndex(s,l,d),i.push(s)}}o.forEach((e=>{i.getById(e)?.clearRowTopAndRowIndex()})),i.removeAllById(o),i.setOrder(r)}setRowTopAndRowIndex(e,t,i){return e.setRowTop(t),e.setRowHeight(N(this.gos,e).height),e.setRowIndex(i),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return"top"===t?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return"top"===e?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(0===t)return 0;const i=e.getByIndex(t-1);return void 0===i?0:i.rowTop+i.rowHeight}},Pa=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter((t=>!e.has(t)))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach(((t,i)=>{const s=this.cache[t];s&&e(s,i)}))}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return 0===this.ordering.length}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},ka=class extends Te{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){const t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLoadCompleted();this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(){const e={type:"loadComplete",success:!(arguments.length>0&&void 0!==arguments[0])||arguments[0],block:this};this.dispatchLocalEvent(e)}},Ta={version:wo,moduleName:"@ag-grid-community/row-node-block",beans:[class extends Te{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=v(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){ve(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),0==this.activeBlockLoadsCount&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void(this.gos.get("debug")&&d("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded"));const e=this.getAvailableLoadingCount(),t=this.blocks.filter((e=>"needsLoading"===e.getState())).slice(0,e);this.registerLoads(t.length),t.forEach((e=>e.load())),this.printCacheStatus()}getBlockState(){if(x(this.gos)){return this.rowModel.getBlockStates()}const e={};return this.blocks.forEach((t=>{const{id:i,state:s}=t.getBlockStateJson();e[i]=s})),e}printCacheStatus(){this.gos.get("debug")&&d(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}}]},Ma=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(0===this.cachedRange.length){const e=this.getRoot(),t=this.getEnd();if(null==e||null==t)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return null!==this.root&&this.getRange().some((t=>t.id===e.id))}getRoot(){return this.root&&null===this.root?.key&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){return this.end&&null===this.end?.key&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(0===t.length)return{keep:[],discard:[]};const i=t[0].id===this.root.id,s=t.findIndex((t=>t.id===e.id));if(s>-1){const n=t.slice(0,s),o=t.slice(s+1);return this.setEndRange(e),i?{keep:n,discard:o}:{keep:o,discard:n}}return{keep:t,discard:[]}}extend(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.getRoot();if(null==i){const i=this.getRange().slice();return t&&e.depthFirstSearch((e=>!e.group&&i.push(e))),i.push(e),this.setRoot(e),{keep:i,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(i,e).find((e=>e.id===this.end?.id)))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const t=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:t}}}},xa=class extends Te{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,i,s){this.processClassRules(void 0,e.cellClassRules,t,i,s),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,s,n){if(null==t&&null==e)return;const o={},r={},a=(e,t)=>{e.split(" ").forEach((e=>{""!=e.trim()&&t(e)}))};if(t){const e=Object.keys(t);for(let s=0;s<e.length;s++){const n=e[s],l=t[n];let d;"string"===typeof l?d=this.expressionService.evaluate(l,i):"function"===typeof l&&(d=l(i)),a(n,(e=>{d?o[e]=!0:r[e]=!0}))}}e&&n&&Object.keys(e).forEach((e=>a(e,(e=>{o[e]||(r[e]=!0)})))),n&&Object.keys(r).forEach(n),Object.keys(o).forEach(s)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let s;if("function"===typeof i){s=i(t)}else s=i;return"string"===typeof s&&(s=[s]),s||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach((e=>{i(e)}))}},Ia=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(Ia||{}),La=class extends Te{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:s,focusTrapActive:n,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:r,focusInnerElement:a,onFocusIn:l,onFocusOut:d,shouldStopEventPropagation:c,onTabKeyDown:u,handleKeyDown:h,eFocusableElement:g}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=s,this.providedFocusInnerElement=a,this.eFocusableElement=g,this.focusTrapActive=!!n,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!r,this.providedFocusIn=l,this.providedFocusOut=d,this.providedShouldStopEventPropagation=c,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=h}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new En(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty){if(0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){const t=W(this.gos),i=this.focusService.findFocusableElements(t.body,null,!0),s=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1===s)return;let n,o;e?(n=0,o=s):(n=s+1,o=i.length);const r=i.slice(n,o),a=this.gos.get("tabIndex");r.sort(((e,t)=>{const i=parseInt(e.getAttribute("tabindex")||"0"),s=parseInt(t.getAttribute("tabindex")||"0");return s===a?1:i===a?-1:0===i?1:0===s?-1:i-s})),r[e?r.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive)return;if(e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout((()=>this.activateTabGuards()),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout((()=>{this.forcingFocusOut=!1,this.activateTabGuards()}))}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},Oa=class extends Te{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:i,eFocusableElement:s}=this,n=[t,i],o={setTabIndex:e=>{n.forEach((t=>null!=e?t.setAttribute("tabindex",e):t.removeAttribute("tabindex")))}};this.addTabGuards(t,i);const{focusTrapActive:r=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:d,handleKeyDown:c,onTabKeyDown:u,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:p}=e;this.tabGuardCtrl=this.createManagedBean(new La({comp:o,focusTrapActive:r,eTopGuard:t,eBottomGuard:i,eFocusableElement:s,onFocusIn:a,onFocusOut:l,focusInnerElement:d,handleKeyDown:c,onTabKeyDown:u,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:p}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=W(this.gos).createElement("div"),i="top"===e?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",i),Zt(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Ni(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){qi(t)||(t=t.getGui());const{eBottomGuard:s}=this;s?s.insertAdjacentElement("beforebegin",t):e(t,i)}},Va=class extends ts{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new Oa(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},Na=0,Ga=class extends Te{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.gridCtrl=e.gridCtrl})),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i}=e,s=this.getPopupIndex(i);if(-1!==s){this.popupList[s].alignedToElement=t}const n=t.getBoundingClientRect(),o=this.getParentRect(),r=this.keepXYWithinBounds(i,n.top-o.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;const l=o.right-o.left-a;let d;function c(){return n.right-o.left-2}function u(){return n.left-o.left-a}this.gos.get("enableRtl")?(d=u(),d<0&&(d=c(),this.setAlignedStyles(i,"left")),d>l&&(d=0,this.setAlignedStyles(i,"right"))):(d=c(),d>l&&(d=u(),this.setAlignedStyles(i,"right")),d<0&&(d=0,this.setAlignedStyles(i,"left"))),i.style.left=`${d}px`,i.style.top=`${r}px`}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:s,skipObserver:n}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:!0,skipObserver:n,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:n,eventSource:o,alignSide:r="left",position:a="over",column:l,rowNode:d,type:c}=e,u=o.getBoundingClientRect(),h=this.getParentRect(),g=this.getPopupIndex(t);if(-1!==g){this.popupList[g].alignedToElement=o}this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:n,updatePosition:()=>{let i,n=u.left-h.left;if("right"===r&&(n-=t.offsetWidth-u.width),"over"===a)i=u.top-h.top,this.setAlignedStyles(t,"over");else{this.setAlignedStyles(t,"under");i="under"===this.shouldRenderUnderOrAbove(t,u,h,e.nudgeY||0)?u.top-h.top+u.height:u.top-t.offsetHeight-2*(s||0)-h.top}return{x:n,y:i}},postProcessCallback:()=>this.callPostProcessPopup(c,t,o,null,l,d)})}shouldRenderUnderOrAbove(e,t,i,s){const n=i.bottom-t.bottom,o=t.top-i.top,r=e.offsetHeight+s;return n>r?"under":o>r||o>n?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(-1===i)return;const s=this.popupList[i],{alignedToElement:n}=s;if(!n)return;["right","left","over","above","under"].forEach((t=>{n.classList.remove(`ag-has-popup-positioned-${t}`),e.classList.remove(`ag-popup-positioned-${t}`)})),t&&(n.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,i,s,n,o){const r=this.gos.getCallback("postProcessPopup");if(r){r({column:n,rowNode:o,ePopup:t,type:e,eventSource:i,mouseEvent:s})}}positionPopup(e){var t=this;const{ePopup:i,keepWithinBounds:s,nudgeX:n,nudgeY:o,skipObserver:r,updatePosition:a}=e,l={width:0,height:0},d=function(){let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{x:d,y:c}=a();r&&i.clientWidth===l.width&&i.clientHeight===l.height||(l.width=i.clientWidth,l.height=i.clientHeight,n&&(d+=n),o&&(c+=o),s&&(d=t.keepXYWithinBounds(i,d,1),c=t.keepXYWithinBounds(i,c,0)),i.style.left=`${d}px`,i.style.top=`${c}px`,e.postProcessCallback&&e.postProcessCallback())};if(d(),!r){const e=this.resizeObserverService.observeResize(i,(()=>d(!0)));setTimeout((()=>e()),200)}}getActivePopups(){return this.popupList.map((e=>e.element))}getPopupList(){return this.popupList}getParentRect(){const e=W(this.gos);let t=this.getPopupParent();return t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent),Ii(t)}keepXYWithinBounds(e,t,i){const s=0===i,n=s?"clientHeight":"clientWidth",o=s?"top":"left",r=s?"height":"width",a=s?"scrollTop":"scrollLeft",l=W(this.gos),d=l.documentElement,c=this.getPopupParent(),u=e.getBoundingClientRect(),h=c.getBoundingClientRect(),g=l.documentElement.getBoundingClientRect(),p=c===l.body,m=Math.ceil(u[r]);let f=p?(s?Mi:xi)(d)+d[a]:c[n];p&&(f-=Math.abs(g[o]-h[o]));const v=f-m;return Math.min(Math.max(t,0),Math.abs(v))}addPopup(e){const t=W(this.gos),{eChild:i,ariaLabel:s,alwaysOnTop:n,positionCallback:o,anchorToElement:r}=e;if(!t)return c("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(-1!==a){return{hideFunc:this.popupList[a].hideFunc}}this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,s,!!n),d=this.addEventListenersToPopup({...e,wrapperEl:l});return o&&o(),this.addPopupToPopupList(i,l,d,r),{hideFunc:d}}initialisePopupPosition(e){const t=this.getPopupParent().getBoundingClientRect();b(e.style.top)||(e.style.top=-1*t.top+"px"),b(e.style.left)||(e.style.left=-1*t.left+"px")}createPopupWrapper(e,t,i){const s=this.getPopupParent(),n=document.createElement("div");return this.environment.applyThemeClasses(n),n.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Zt(e,"dialog"),ei(e,t),n.appendChild(e),s.appendChild(n),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),n}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){var t=this;const i=W(this.gos),s=this.getPopupParent(),{wrapperEl:n,eChild:o,closedCallback:r,afterGuiAttached:a,closeOnEsc:l,modal:d}=e;let c=!1;const u=e=>{if(!n.contains(Q(this.gos)))return;e.key!==fs.ESCAPE||Ee(e)||p({keyboardEvent:e})},h=e=>p({mouseEvent:e}),g=e=>p({touchEvent:e}),p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mouseEvent:a,touchEvent:l,keyboardEvent:d,forceHide:p}=e;(p||!t.isEventFromCurrentPopup({mouseEvent:a,touchEvent:l},o)&&!c)&&(c=!0,s.removeChild(n),i.removeEventListener("keydown",u),i.removeEventListener("mousedown",h),i.removeEventListener("touchstart",g),i.removeEventListener("contextmenu",h),t.eventService.removeEventListener("dragStarted",h),r&&r(a||l||d),t.removePopupFromPopupList(o))};return a&&a({hidePopup:p}),window.setTimeout((()=>{l&&i.addEventListener("keydown",u),d&&(i.addEventListener("mousedown",h),this.eventService.addEventListener("dragStarted",h),i.addEventListener("touchstart",g),i.addEventListener("contextmenu",h))}),0),p}addPopupToPopupList(e,t,i,s){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:Na++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(e,s)}getPopupIndex(e){return this.popupList.findIndex((t=>t.element===e))}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(-1===i)return;const s=this.popupList[i];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then((e=>e&&e())),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!t)return;const n=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:s.hideFunc});return s.stopAnchoringPromise=n,s.isAnchored=!0,n}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter((t=>t.element!==e))}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:s,ePopup:n}=e,o=s.getBoundingClientRect(),r=e=>parseInt(e.substring(0,e.length-1),10),a=(e,t)=>{const s=i[e]-o[e],a=r(n.style[e]);return{initialDiff:s,lastDiff:s,initial:a,last:a,direction:t}},l=a("top",0),d=a("left",1),c=this.getFrameworkOverrides();return new Is((i=>{c.wrapIncoming((()=>{c.setInterval((()=>{const i=t.getBoundingClientRect(),o=s.getBoundingClientRect();if(0==o.top&&0==o.left&&0==o.height&&0==o.width)return void e.hidePopup();const a=(e,t)=>{const s=r(n.style[t]);e.last!==s&&(e.initial=s,e.last=s);const a=i[t]-o[t];if(a!=e.lastDiff){const i=this.keepXYWithinBounds(n,e.initial+e.initialDiff-a,e.direction);n.style[t]=`${i}px`,e.last=i}e.lastDiff=a};a(l,"top"),a(d,"left")}),200).then((e=>{i((()=>{null!=e&&window.clearInterval(e)}))}))}),"popupPositioning")}))}hasAnchoredPopup(){return this.popupList.some((e=>e.isAnchored))}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:s}=e,n=i||s;if(!n)return!1;const o=this.getPopupIndex(t);if(-1===o)return!1;for(let r=o;r<this.popupList.length;r++){if(ke(this.popupList[r].element,n))return!0}return this.isElementWithinCustomPopup(n.target)}isElementWithinCustomPopup(e){const t=W(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),s=i.length,n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),o=n.length,r=this.getWrapper(e);if(!r||s<=1||!t.contains(e))return!1;const a=i.indexOf(r),l=r.querySelectorAll("div"),d=[];l.forEach((e=>{0!==e.scrollTop&&d.push([e,e.scrollTop])}));let c=!1;if(o){r.classList.contains("ag-always-on-top")?a!==s-1&&(pe(n).insertAdjacentElement("afterend",r),c=!0):a!==s-o-1&&(n[0].insertAdjacentElement("beforebegin",r),c=!0)}else a!==s-1&&(pe(i).insertAdjacentElement("afterend",r),c=!0);for(;d.length;){const e=d.pop();e[0].scrollTop=e[1]}return c}},_a=["touchstart","touchend","touchmove","touchcancel"],Ba=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript";this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e()}setInterval(e,t){return new Is((i=>{i(window.setInterval(e,t))}))}addEventListener(e,t,i,s){const n=be(_a,t);e.addEventListener(t,i,{capture:!!s,passive:n})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${"solid"===this.frameworkName?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},Ha=class extends Te{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===fs.UP,s=e===fs.DOWN,n=e===fs.LEFT;let o,r;if(i||s)r=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),o=t.column;else{const e=this.visibleColsService.getAllCols(),i=this.gos.get("enableRtl");r=t.rowIndex,o=n!==i?e[0]:pe(e)}return{rowIndex:r,rowPinned:null,column:o}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,s=!1;for(;!s;){switch(e){case fs.UP:i=this.getCellAbove(i);break;case fs.DOWN:i=this.getCellBelow(i);break;case fs.RIGHT:i=this.gos.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case fs.LEFT:i=this.gos.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,c("unknown key for navigation ",e)}s=!i||this.isCellGoodToFocusOn(i)}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex)}if(!i)return!1;return!t.isSuppressNavigable(i)}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;let s=!1;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else i&&(s=!0);const n=this.rowModel.getRow(e.rowIndex),o=s?void 0:this.getNextStickyPosition(n);return o||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!j(this.gos)||!e||!e.sticky)return;let i=[];i=this.rowRenderer.getStickyTopRowCtrls().some((t=>t.getRowNode().rowIndex===e.rowIndex))?[...this.rowRenderer.getStickyTopRowCtrls()].sort(((e,t)=>e.getRowNode().rowIndex-t.getRowNode().rowIndex)):[...this.rowRenderer.getStickyBottomRowCtrls()].sort(((e,t)=>t.getRowNode().rowIndex-e.getRowNode().rowIndex));const s=t?-1:1,n=i.findIndex((t=>t.getRowNode().rowIndex===e.rowIndex)),o=i[n+s];return o?{rowIndex:o.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;if("top"===t){return this.pinnedRowModel.getPinnedTopRowCount()-1<=i}if("bottom"===t){return this.pinnedRowModel.getPinnedBottomRowCount()-1<=i}return this.pageBoundsService.getLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned;let s=!1;if(i?0===t:t===this.pageBoundsService.getFirstRow())return"top"===i?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;i&&(s=!0);const n=this.rowModel.getRow(e.rowIndex),o=s?void 0:this.getNextStickyPosition(n,!0);return o||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.visibleColsService.getAllCols();let i=e.rowIndex,s=e.rowPinned,n=this.visibleColsService.getColAfter(e.column);if(!n){n=t[0];const o=this.getRowBelow(e);if(S(o))return null;if(!o.rowPinned&&!(this.paginationService?.isRowInPage(o)??1))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:n,rowPinned:s}}getNextTabbedCellBackwards(e){const t=this.visibleColsService.getAllCols();let i=e.rowIndex,s=e.rowPinned,n=this.visibleColsService.getColBefore(e.column);if(!n){n=pe(t);const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(S(o))return null;if(!o.rowPinned&&!(this.paginationService?.isRowInPage(o)??1))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:n,rowPinned:s}}},Wa=(e,t)=>{for(const i in t)t[i]=e;return t},za={...Wa("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Wa("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Wa("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...Wa("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Wa("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Wa("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Wa("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Wa("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Wa("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Wa("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...Wa("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Wa("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Wa("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Wa("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Wa("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},Ua={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},Qa=(e,t)=>e.eventService.dispatchEvent(t),qa=class{};Reflect.defineProperty(qa,"name",{value:"GridApi"});var Ka=class extends Te{constructor(){super(),this.beanName="apiFunctionService",this.api=new qa,this.fns={...Ua,dispatchEvent:Qa},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in za)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:i,beans:s}=this;i!==Ua&&(i[e]=s?.validationService?.validateApiFunction(e,t)??t)}makeApi(e){var t=this;return{[e]:function(){const{beans:i,fns:{[e]:s}}=t;for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return s?s(i,...o):t.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:i,preDestroyLink:s}=this;if(t){const t=za[e];i.assertModuleRegistered(t,`api.${e}`)&&c(`API function '${e}' not registered to module '${t}'`)}else c(`Grid API function ${e}() cannot be called as the grid has been destroyed.\nEither clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\nTo run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${s}`)}destroy(){super.destroy(),this.fns=Ua,this.beans=null}};function ja(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var $a=class extends Te{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,i){const s=[],n={};return e.forEach((e=>{let o=!0,r=this.createDefFromColumn(e,t,i),a=e.getOriginalParent(),l=null;for(;a;){let e=null;if(a.isPadding()){a=a.getOriginalParent();continue}const t=n[a.getGroupId()];if(t){t.children.push(r),o=!1;break}if(e=this.createDefFromGroup(a),e&&(e.children=[r],n[e.groupId]=e,r=e,a=a.getOriginalParent()),null!=a&&l===a){o=!1;break}l=a}o&&s.push(r)})),s}createDefFromGroup(e){const t=qe(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const s=qe(e.getColDef());return s.colId=e.getColId(),s.width=e.getActualWidth(),s.rowGroup=e.isRowGroupActive(),s.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,s.pivot=e.isPivotActive(),s.pivotIndex=e.isPivotActive()?i.indexOf(e):null,s.aggFunc=e.isValueActive()?e.getAggFunc():null,s.hide=!e.isVisible()||void 0,s.pinned=e.isPinned()?e.getPinned():null,s.sort=e.getSort()?e.getSort():null,s.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,s}},Xa=class extends Te{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:1===e.length?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:1===e.length?e[0]:null,source:t})}genericColumnEvent(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:1===t.length?t[0]:null,source:i})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:i,toIndex:s,finished:n}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&1===t.length?t[0]:null,toIndex:s,finished:n,source:i})}columnPinned(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,s=this.getCommonValue(e,(e=>e.getPinned()));this.eventService.dispatchEvent({type:"columnPinned",pinned:null!=s?s:null,columns:e,column:i,source:t})}columnVisible(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,s=this.getCommonValue(e,(e=>e.isVisible()));this.eventService.dispatchEvent({type:"columnVisible",visible:s,columns:e,column:i,source:t})}getCommonValue(e,t){if(!e||0==e.length)return;const i=t(e[0]);for(let s=1;s<e.length;s++)if(i!==t(e[s]))return;return i}columnChanged(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t&&1==t.length?t[0]:null,source:i})}columnResized(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:1===e.length?e[0]:null,flexColumns:s,finished:t,source:i})}},Ya=class extends Te{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){if(S(this.columnModel.getColDefCols())||!this.columnModel.isAlive())return[];const e=this.columnModel.getAllCols().map((e=>this.createStateItemFromColumn(e)));return this.orderColumnStateList(e),e}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns(),s=e.isRowGroupActive()?t.indexOf(e):null,n=e.isPivotActive()?i.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,r=null!=e.getSort()?e.getSort():null,a=null!=e.getSortIndex()?e.getSortIndex():null,l=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:r,sortIndex:a,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:s,pivot:e.isPivotActive(),pivotIndex:n,flex:l}}orderColumnStateList(e){const t=this.columnModel.getCols(),i=new Map(t.map(((e,t)=>[e.getColId(),t])));e.sort(((e,t)=>(i.has(e.colId)?i.get(e.colId):-1)-(i.has(t.colId)?i.get(t.colId):-1)))}},Ja=class extends Te{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[];return ot(null,this.columnModel.getColTree(),(t=>{Me(t)&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})})),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const i=[];ot(null,t,(e=>{if(Me(e)){const t=e.getColGroupDef(),s={groupId:e.getGroupId(),open:t?t.openByDefault:void 0};i.push(s)}})),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const i=[];e.forEach((e=>{const t=e.groupId,s=e.open,n=this.columnModel.getProvidedColGroup(t);n&&n.isExpanded()!==s&&(n.setExpanded(s),i.push(n))})),this.visibleColsService.refresh(t,!0),i.length&&this.eventDispatcher.groupOpened(i),this.columnAnimationService.finish()}},Za=class extends Te{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!s)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const e=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=e-this.scrollPosition-this.scrollWidth,this.viewportRight=e-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t]}return i||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return!(!e.isAutoHeaderHeight()&&!this.isAnyParentAutoHeaderHeight(e))||this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),s=this.viewportLeft-200,n=this.viewportRight+200;return!(t<s&&i<s)&&!(t>n&&i>n)}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),i=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,i,t,(e=>{const t=e.getLeft();return b(t)&&t>this.viewportLeft}))}checkViewportColumns(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(i).forEach((t=>e[t.getId()]=!0));const s=(t,i,n)=>{let o=!1;for(let r=0;r<t.length;r++){const a=t[r];let l=!1;if(et(a))l=!0===e[a.getId()];else{const e=a.getDisplayedChildren();e&&(l=s(e,i,n+1))}l&&(o=!0,i[n]||(i[n]=[]),i[n].push(a))}return o};s(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),s(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),s(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){this.extractViewportColumns();const e=this.getViewportColumns().map((e=>`${e.getId()}-${e.getPinned()||"normal"}`)).join("#"),t=this.colsWithinViewportHash!==e;return t&&(this.colsWithinViewportHash=e,this.calculateHeaderRows()),t}},el=class extends Te{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){return class{refresh(){return!1}getGui(){return this.eGui}init(t){const i=e(t),s=typeof i;this.eGui="string"!==s&&"number"!==s&&"boolean"!==s?null!=i?i:Hi("<span></span>"):Hi("<span>"+i+"</span>")}}}doesImplementIComponent(e){return!!e&&(e.prototype&&"getGui"in e.prototype)}},tl=class extends Te{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},il=Object.fromEntries(["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"].map(((e,t)=>[e,t])));function sl(e,t){return((e.beanName?il[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER)-((t.beanName?il[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER)}function nl(e,t){return"gridDestroyService"===e?.beanName?-1:0}var ol=class extends Te{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e){const t=this.registry[e];if(null!=t){for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return new t(...s)}}},rl=class extends Te{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){this.runReadyCallbacksAsync=e.frameworkOverrides.runWhenReadyAsync?.()??!1}postConstruct(){this.addEventListener("ready",(()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach((e=>e(this.params))),this.readyCallbacks.length=0)}),this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every((e=>e?.isAlive()??!1))}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc((()=>{const e=this.readyCallbacks.indexOf(t);e>=0&&this.readyCallbacks.splice(e,1)}))}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc((()=>{this.updateReady()}))}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},al=class extends Te{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:i,column:s}=e;return this.createIdFromValues({rowIndex:t,column:s,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:s}=e;return`${t}.${null==i?"null":i}.${s.getId()}`}equals(e,t){const i=e.column===t.column,s=e.rowPinned===t.rowPinned,n=e.rowIndex===t.rowIndex;return i&&s&&n}},ll=class extends Te{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){M(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(null==this.clientSideRowModel)return void this.eventService.dispatchEvent(e);this.events.push(e);const i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach((e=>this.eventService.dispatchEvent(e))),this.events=[]};t?i():(null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}},dl=class extends Te{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),void 0===e?null:{rowIndex:t,rowPinned:e}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),s=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):s&&(t="top",e=s-1),void 0===e?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t||!(e&&!t||!e&&t)&&(e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned)}before(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(b(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}},cl={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},ul={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},hl={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},gl=class extends Te{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",(()=>this.handleThemeGridOptionChange())),this.handleThemeGridOptionChange(),this.addDestroyFunc((()=>this.stopUsingTheme())),this.addManagedPropertyListener("rowHeight",(()=>this.refreshRowHeightVariable())),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(cl),this.getSizeEl(ul),this.getSizeEl(hl)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(cl)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(ul)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(hl)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){return this.gridTheme?.getCssClass()||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const t=this.getThemeClasses();for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&!t.includes(i)&&e.classList.remove(i);e.classList.add(...t)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(null==t||isNaN(t)||!isFinite(t))return null!==e&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i=`${t}px`;return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):""!=e?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(null!=t)return t;const i=this.measureSizeEl(e);return"detached"===i||"no-styles"===i?e.defaultValue:(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){const t=this.getSizeEl(e);if(null==t.offsetParent)return"detached";const i=t.offsetWidth;return i===ml?"no-styles":(this.sizesMeasured=!0,i)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let i=this.eMeasurementContainer;i||(i=this.eMeasurementContainer=document.createElement("div"),i.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(i),this.eGridDiv.appendChild(i)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${ml}px)`,i.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);"no-styles"===s&&c(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const n=this.resizeObserverService.observeResize(t,(()=>{const t=this.measureSizeEl(e);"detached"!==t&&"no-styles"!==t&&(this.lastKnownValues.set(e,t),t!==s&&(s=t,this.fireGridStylesChangedEvent(e.changeKey)))}));return this.addDestroyFunc((()=>n())),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver((()=>{const e=this.readAncestorThemeClasses();pl(e,this.ancestorThemeClasses)||(this.ancestorThemeClasses=e,this.fireGridStylesChangedEvent("themeChanged"))}));let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc((()=>e.disconnect()))}readAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(;e;){const i=Array.from(e.classList).filter((e=>e.startsWith("ag-theme-")));for(const e of i)t.includes(e)||t.unshift(e);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:t,gridTheme:i}=this,s=e.get("theme")||null;s!==i&&(i?.stopUse(),this.gridTheme=s,s?.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){this.gridTheme?.stopUse(),this.gridTheme=null}},pl=(e,t)=>e.length===t.length&&-1===e.findIndex(((i,s)=>e[s]!==t[s])),ml=15538,fl=class extends Te{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new o}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=O(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},vl=class e extends Te{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(e){this.eGridDiv=e.eGridDiv,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.headerNavigationService=e.headerNavigationService,this.headerPositionUtils=e.headerPositionUtils,this.rowRenderer=e.rowRenderer,this.rowPositionUtils=e.rowPositionUtils,this.cellPositionUtils=e.cellPositionUtils,this.navigationService=e.navigationService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.rangeService=e.rangeService,this.advancedFilterService=e.advancedFilterService,this.overlayService=e.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",e.toggleKeyboardMode),t.addEventListener("mousedown",e.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.removeEventListener("keydown",e.toggleKeyboardMode),t.removeEventListener("mousedown",e.toggleKeyboardMode))}static toggleKeyboardMode(t){const i=e.keyboardModeActive,s="keydown"===t.type;s&&(t.ctrlKey||t.metaKey||t.altKey)||i!==s&&(e.keyboardModeActive=s)}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,(e=>{this.gridCtrl=e.gridCtrl}))}registerKeyboardFocusEvents(){const t=W(this.gos);e.addKeyboardModeEvents(t),e.instanceCount++,this.addDestroyFunc((()=>{e.instanceCount--,e.removeKeyboardModeEvents(t)}))}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,t=this.columnModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return e.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Q(this.gos),Fr.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Q(this.gos),vo.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let i=e;for(;i;){if(B(this.gos,i,t))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return!!this.isCellRestoreFocused(e)&&(setTimeout((()=>{this.restoredFocusedCellPosition=null}),0),!0)}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(e,t){this.awaitRestoreFocusedCell=!0,setTimeout((()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(e),t())}))}isCellRestoreFocused(e){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(e){const{rowIndex:t,rowPinned:i,column:s}=e,n={rowIndex:t,rowPinned:i,column:s,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i});return o&&(n.isFullWidthCell=o.isFullWidth()),n}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const e=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){const{column:t,rowIndex:i,rowPinned:s,forceBrowserFocus:n=!1,preventScrollOnBrowserFocus:o=!1}=e,r=this.columnModel.getCol(t);r?(this.focusedCellPosition={rowIndex:i,rowPinned:w(s),column:r},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:n,preventScrollOnBrowserFocus:o})):this.focusedCellPosition=null}isCellFocused(e){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(null==this.focusedHeaderPosition)return!1;const t=e.getColumnGroupChild(),i=e.getRowIndex(),s=e.getPinned(),{column:n,headerRowIndex:o}=this.focusedHeaderPosition;return t===n&&i===o&&s==n.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(e){if(this.isHeaderFocusSuppressed())return!1;const{direction:t,fromTab:i,allowUserOverride:s,event:n,fromCell:o,rowWithoutSpanValue:r}=e;let{headerPosition:a}=e;if(o&&this.filterManager?.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(a);if(s){const e=this.getFocusedHeader(),s=this.headerNavigationService.getHeaderRowCount();if(i){const i=this.gos.getCallback("tabToNextHeader");i&&(a=this.getHeaderPositionFromUserFunc({userFunc:i,direction:t,currentPosition:e,headerPosition:a,headerRowCount:s}))}else{const t=this.gos.getCallback("navigateToNextHeader");if(t&&n){a=t({key:n.key,previousHeaderPosition:e,nextHeaderPosition:a,headerRowCount:s,event:n})}}}return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:n,fromCell:o,rowWithoutSpanValue:r})}focusHeaderPositionFromUserFunc(e){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:t,headerPosition:i,direction:s,event:n}=e,o=this.getFocusedHeader(),r=this.headerNavigationService.getHeaderRowCount(),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:s,currentPosition:o,headerPosition:i,headerRowCount:r});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:s,event:n})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:i,currentPosition:s,headerPosition:n,headerRowCount:o}=e,r=t({backwards:"Before"===i,previousHeaderPosition:s,nextHeaderPosition:n,headerRowCount:o});return!0===r||null===r?(null===r&&c("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),s):!1===r?null:r}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:i,fromCell:s,rowWithoutSpanValue:n,event:o}=e,{column:r,headerRowIndex:a}=t;if(-1===a)return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView(r);this.headerNavigationService.scrollToColumn(r,i);const l=this.ctrlsService.getHeaderRowContainerCtrl(r.getPinned()),d=l?.focusHeader(t.headerRowIndex,r,o)||!1;return d&&(null!=n||s)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(n??-1),d}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleColsService.getAllCols()[0];if(!e)return!1;e.getParent()&&(e=this.visibleColsService.getColGroupAtLevel(e,0));const t=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const t=this.headerNavigationService.getHeaderRowCount()-1,i=pe(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===w(t))}findFocusableElements(e,t){let i=Ri;t&&(i+=", "+t),arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(i+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll("[tabindex], input, select, button, textarea, [href]")).filter((e=>Bi(e))),n=Array.prototype.slice.apply(e.querySelectorAll(i));if(!n.length)return s;return o=n,s.filter((e=>-1===o.indexOf(e)));var o}focusInto(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=this.findFocusableElements(e,null,i),n=t?pe(s):s[0];return!!n&&(n.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;const i=this.findFocusableElements(e),s=i.indexOf(t);if(-1===s)return null;let n=-1;for(let o=s-1;o>=0;o--)if(i[o].classList.contains("ag-tab-guard-top")){n=o;break}return n<=0?null:i[n-1]}findNextFocusableElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.eGridDiv,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;const s=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),n=Q(this.gos);let o;o=t?s.findIndex((e=>e.contains(n))):s.indexOf(n);const r=o+(i?-1:1);return r<0||r>=s.length?null:s[r]}isTargetUnderManagedComponent(e,t){if(!t)return!1;const i=e.querySelectorAll(`.${En.FOCUS_MANAGED_CLASS}`);if(!i.length)return!1;for(let s=0;s<i.length;s++)if(i[s].contains(t))return!0;return!1}findTabbableParent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=0;for(;e&&null===bi(e)&&++i<=t;)e=e.parentElement;return null===bi(e)?null:e}focusOverlay(e){const t=this.overlayService.isVisible()&&this.overlayService.getOverlayWrapper()?.getGui();return!!t&&this.focusInto(t,e)}focusGridViewFailed(e,t){return t&&this.focusOverlay(e)||e&&this.focusLastHeader()}focusGridView(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.overlayService.isExclusive())return i&&this.focusOverlay(t);if(this.isCellFocusSuppressed())return t&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():!(!i||!this.focusOverlay(t))||this.focusNextGridCoreContainer(!1);const s=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(s){const{rowIndex:i,rowPinned:n}=s;if(e??(e=this.getFocusedHeader()?.column),e&&void 0!==i&&null!==i){if(this.navigationService.ensureCellVisible({rowIndex:i,column:e,rowPinned:n}),t){const e=this.rowRenderer.getRowByPosition(s);if(e?.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(s,t))return!0}return this.setFocusedCell({rowIndex:i,column:e,rowPinned:w(n),forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:i,rowPinned:n,column:e}),!0}}return!(!i||!this.focusOverlay(t))||!(!t||!this.focusLastHeader())}isGridFocused(){const e=Q(this.gos);return!!e&&this.eGridDiv.contains(e)}focusNextGridCoreContainer(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(t||!this.gridCtrl.focusNextInnerContainer(e))||((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){return this.advancedFilterFocusColumn=e?.column,this.advancedFilterService?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const i=(t?void 0:this.advancedFilterFocusColumn)??this.visibleColsService.getAllCols()?.[0];return e?this.focusHeaderPosition({headerPosition:{column:i,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(i)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(e){this.gridCtrl.addFocusableContainer(e)}removeFocusableContainer(e){this.gridCtrl.removeFocusableContainer(e)}focusGridInnerElement(e){return this.gridCtrl.focusInnerElement(e)}allowFocusForNextGridCoreContainer(e){this.gridCtrl.allowFocusForNextCoreContainer(e)}};vl.keyboardModeActive=!1,vl.instanceCount=0;var Cl=vl,wl=class extends Te{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=I(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),i=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},bl=class extends Te{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:s,mouseEventService:n,ctrlsService:o,resizeObserverService:r}=this.beans,a={getContainer:()=>this.eGui,isInterestedIn:e=>1===e||0===e,getIconName:()=>"notAllowed"};s.addDropTarget(a),this.addDestroyFunc((()=>s.removeDropTarget(a))),n.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new ir(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const l=r.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((()=>l())),o.register("gridCtrl",this)}isDetailGrid(){const e=this.focusService.findTabbableParent(this.getGui());return e?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.paginationService?.getPaginationSelector(),gridHeaderDropZonesSelector:e.columnDropZonesService?.getDropZoneSelector(),sideBarSelector:e.sideBarService?.getSideBarSelector(),statusBarSelector:e.statusBarService?.getStatusPanelSelector(),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:s}=this.getNextFocusableIndex(t,e);if(s<0||s>=t.length)return!1;if(0===s){if(i>0){const e=pe(this.visibleColsService.getAllCols());if(this.focusService.focusGridView(e,!0))return!0}return!1}return this.focusContainer(t[s],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const i=this.getFocusableContainers(),s=this.visibleColsService.getAllCols();if(e){if(i.length>1)return this.focusContainer(pe(i),!0);const e=pe(s);if(this.focusService.focusGridView(e,!0))return!0}if(0===this.gos.get("headerHeight")||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(s[0]))return!0;for(let e=1;e<i.length;e++)if(this.focusService.focusInto(i[e].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:s}=this.getNextFocusableIndex(t,e);if(-1===s||i<0||i>=t.length)return;const n=t[i];n.setAllowFocus?.(!0),setTimeout((()=>{n.setAllowFocus?.(!1)}))}getNextFocusableIndex(e,t){const i=Q(this.gos),s=e.findIndex((e=>e.getGui().contains(i)));return{indexWithFocus:s,nextIndex:s+(t?-1:1)}}focusContainer(e,t){e.setAllowFocus?.(!0);const i=this.focusService.focusInto(e.getGui(),t);return e.setAllowFocus?.(!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Sl={version:wo,moduleName:"@ag-grid-community/aligned-grid",beans:[class extends Te{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t="function"===typeof e;"function"===typeof e&&(e=e());const i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map((e=>{if(!e)return u("alignedGrids contains an undefined option."),t||u('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void u(i());if(this.isGridApi(e))return e;const s=e;return"current"in s?s.current?.api:(s.api||u(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),s.api)})).filter((e=>!!e&&!e.isDestroyed()))}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:e=>{let{event:t}=e;return this.onColumnEvent(t)},alignedGridScroll:e=>{let{event:t}=e;return this.onScrollEvent(t)}})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach((t=>{t.isDestroyed()||t.dispatchEvent(e)}))}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){"horizontal"===e.direction&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent((()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)}))}extractDataFromEvent(e,t){const i=[];return e.columns?e.columns.forEach((e=>{i.push(t(e))})):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,(e=>e))}getColumnIds(e){return this.extractDataFromEvent(e,(e=>e.getColId()))}onColumnEvent(e){this.onEvent((()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":this.processColumnEvent(e);break;case"columnGroupOpened":this.processGroupOpenedEvent(e);break;case"columnPivotChanged":c("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach((e=>{let i=null;e&&(i=t.getProvidedColGroup(e.getGroupId())),e&&!i||t.setColumnGroupOpened(i,e.isExpanded(),"alignedGridChanged")}))}processColumnEvent(e){const t=e.column;let i=null;if(t&&(i=this.columnModel.getColDefCol(t.getColId())),t&&!i)return;const s=this.getMasterColumns(e),{columnApplyStateService:n,columnSizeService:o,ctrlsService:r}=this;switch(e.type){case"columnMoved":{const t=e.api.getColumnState().map((e=>({colId:e.colId})));n.applyColumnState({state:t,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const t=e.api.getColumnState().map((e=>({colId:e.colId,hide:e.hide})));n.applyColumnState({state:t},"alignedGridChanged")}break;case"columnPinned":{const t=e.api.getColumnState().map((e=>({colId:e.colId,pinned:e.pinned})));n.applyColumnState({state:t},"alignedGridChanged")}break;case"columnResized":{const t=e,i={};s.forEach((e=>{i[e.getId()]={key:e.getColId(),newWidth:e.getActualWidth()}})),t.flexColumns?.forEach((e=>{i[e.getId()]&&delete i[e.getId()]})),o.setColumnWidths(Object.values(i),!1,t.finished,"alignedGridChanged");break}}const a=r.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach((e=>{e.setGridOption("alwaysShowVerticalScroll",a)}))}}]};var yl={version:wo,moduleName:"@ag-grid-community/data-type",beans:[class extends Te{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",(()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")})),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",(e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(at(e.source))}))}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=e=>t=>{const{column:i,node:s,value:n}=t;let o=i.getColDef().valueFormatter;return o===e.groupSafeValueFormatter&&(o=e.valueFormatter),this.valueService.formatValue(i,s,n,o)};Object.entries(e).forEach((e=>{let[i,s]=e;const n={...s,groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)};this.dataTypeDefinitions[i]=n,this.formatValueFuncs[i]=t(n)}));const i=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(i).forEach((s=>{let[n,o]=s;const r=this.processDataTypeDefinition(o,i,[n],e);r&&(this.dataTypeDefinitions[n]=r,o.dataTypeMatcher&&(this.dataTypeMatchers[n]=o.dataTypeMatcher),this.formatValueFuncs[n]=t(r))})),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach((t=>{const i=this.dataTypeMatchers[t];i&&delete this.dataTypeMatchers[t],this.dataTypeMatchers[t]=i??e[t].dataTypeMatcher}))}mergeDataTypeDefinitions(e,t){const i={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...He(e.columnTypes),...He(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,s){let n;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let i=s[o];const r=t[o];if(i&&r&&(i=r),!this.validateDataTypeDefinition(e,i,o))return;n=this.mergeDataTypeDefinitions(i,e)}else{if(i.includes(o))return void c('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');const r=t[o];if(!this.validateDataTypeDefinition(e,r,o))return;const a=this.processDataTypeDefinition(r,t,[...i,o],s);if(!a)return;n=this.mergeDataTypeDefinitions(a,e)}return{...n,groupSafeValueFormatter:this.createGroupSafeValueFormatter(n)}}validateDataTypeDefinition(e,t,i){return t?t.baseDataType===e.baseDataType||(c('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(c(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{if(t.node?.group){const i=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(i){if("first"===i||"last"===i)return e.valueFormatter(t);if("number"===e.baseDataType&&"count"!==i){if("number"===typeof t.value)return e.valueFormatter(t);if("object"===typeof t.value){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||"groupRows"===this.gos.get("groupDisplayType"))&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&"string"===typeof t.value&&!e.dataTypeMatcher?.(t.value))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:s}=t;const{field:n}=t;if(void 0===s&&(s=e.cellDataType),null!=s&&!0!==s||(s=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(n,i)),!s)return void(e.cellDataType=!1);const o=this.dataTypeDefinitions[s];if(o)return e.cellDataType=s,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,o,i),o.columnTypes;c(`Missing data type definition - "${s}"`)}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=e=>{t.add(e.key)};e.addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push((()=>e.removeEventListener("columnStateUpdated",i)))}canInferCellDataType(e,t){if(!M(this.gos))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;const s=null===t.type?e.type:t.type;if(s){const e=this.gos.get("columnTypes")??{};if(He(s).some((t=>{const s=e[t.trim()];return s&&this.doColDefPropsPreventInference(s,i)})))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some((i=>{let[s,n]=i;return this.doesColDefPropPreventInference(e,t,s,n)}))}doesColDefPropPreventInference(e,t,i,s){if(!t[i])return!1;const n=e[i];return null===n?(t[i]=!1,!1):void 0===s?!!n:n===s}inferCellDataType(e,t){if(!e)return;let i;const s=this.getInitialData();if(s){const t=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=$e(s,e,t)}else this.initWaitForRowData(t);if(null==i)return;const[n]=Object.entries(this.dataTypeMatchers).find((e=>{let[t,s]=e;return s(i)}))??["object"];return n}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const e=this.rowModel.getRootNode().allLeafChildren;if(e?.length)return e[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[i]=this.addManagedEventListeners({rowDataUpdateStarted:e=>{const{firstRowData:s}=e;s&&(i?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(s,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.destroyColumnStateUpdateListeners();const s={},n={};Object.entries(this.columnStateUpdatesPendingInference).forEach((e=>{let[o,r]=e;const a=this.columnModel.getCol(o);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const d=a.getColDef();if(t&&d.type&&d.type!==l.type){const e=this.getUpdatedColumnState(a,r);e.rowGroup&&null==e.rowGroupIndex&&(s[o]=e),e.pivot&&null==e.pivotIndex&&(n[o]=e),i.push(e)}})),t&&i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(s,n)),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const i=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach((e=>{delete i[e],"rowGroup"===e?delete i.rowGroupIndex:"pivot"===e&&delete i.pivotIndex})),i}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(null==t)return!0;const i=this.getDataTypeDefinition(e)?.dataTypeMatcher;return!i||i(t)}validateColDef(e){const t=e=>c(`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`);"object"===e.cellDataType&&(e.valueFormatter!==this.dataTypeDefinitions.object.groupSafeValueFormatter||this.hasObjectValueFormatter||t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,i,s){const n=this.formatValueFuncs[t];switch(i.baseDataType){case"number":e.cellEditor="agNumberCellEditor";break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=e=>!!e.colDef.editable&&e.event.key===fs.SPACE;break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=n;break;case"dateString":e.cellEditor="agDateStringCellEditor",e.keyCreator=n;break;case"object":e.cellEditorParams={useFormatter:!0},e.comparator=(e,t)=>{const i=this.columnModel.getColDefCol(s),o=i?.getColDef();if(!i||!o)return 0;const r=null==e?"":n({column:i,node:null,value:e}),a=null==t?"":n({column:i,node:null,value:t});return r===a?0:r>a?1:-1},e.keyCreator=n}this.filterManager?.setColDefPropertiesForDataType(e,i,n)}getDefaultDataTypes(){const e=e=>!!e.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:e=>""===e.newValue?.trim?.()?null:Number(e.newValue),valueFormatter:e=>null==e.value?"":"number"!==typeof e.value||isNaN(e.value)?t("invalidNumber","Invalid Number"):String(e.value),dataTypeMatcher:e=>"number"===typeof e},text:{baseDataType:"text",valueParser:e=>""===e.newValue?null:R(e.newValue),dataTypeMatcher:e=>"string"===typeof e},boolean:{baseDataType:"boolean",valueParser:e=>null==e.newValue?e.newValue:""===e.newValue?.trim?.()?null:"true"===String(e.newValue).toLowerCase(),valueFormatter:e=>null==e.value?"":String(e.value),dataTypeMatcher:e=>"boolean"===typeof e},date:{baseDataType:"date",valueParser:e=>oo(null==e.newValue?null:String(e.newValue)),valueFormatter:e=>null==e.value?"":e.value instanceof Date&&!isNaN(e.value.getTime())?io(e.value,!1)??"":t("invalidDate","Invalid Date"),dataTypeMatcher:e=>e instanceof Date},dateString:{baseDataType:"dateString",dateParser:e=>oo(e)??void 0,dateFormatter:e=>io(e??null,!1)??void 0,valueParser:t=>e(String(t.newValue))?t.newValue:null,valueFormatter:t=>e(String(t.value))?t.value:"",dataTypeMatcher:t=>"string"===typeof t&&e(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:e=>R(e.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach((e=>e())),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}}]};function Rl(e,t){const{colKey:i,rowNode:s,useFormatter:n}=t,o=e.columnModel.getColDefCol(i)??e.columnModel.getCol(i);if(S(o))return null;const r=e.valueService.getValueForDisplay(o,s);if(n){return e.valueService.formatValue(o,s,r)??Ct(r,!0)}return r}function Al(e,t){e.gos.updateGridOptions({options:t})}function Fl(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function El(e){return e.rowRenderer.getLastVirtualRenderedRow()}var Dl={version:wo,moduleName:"@ag-grid-community/api",dependantModules:[{version:wo,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:function(e){return e.context.getGridId()},destroy:function(e){e.gridDestroyService.destroy()},isDestroyed:function(e){return e.gridDestroyService.isDestroyCalled()},getGridOption:function(e,t){return e.gos.get(t)},setGridOption:function(e,t,i){Al(e,{[t]:i})},updateGridOptions:Al}},{version:wo,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:function(e){return e.pinnedRowModel.getPinnedTopRowCount()},getPinnedBottomRowCount:function(e){return e.pinnedRowModel.getPinnedBottomRowCount()},getPinnedTopRow:function(e,t){return e.pinnedRowModel.getPinnedTopRow(t)},getPinnedBottomRow:function(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}}},{version:wo,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:function(e,t){if(!t.nodes.every((e=>e.rowPinned?(c("cannot select pinned rows"),!1):void 0!==e.id||(c("cannot select node until id for node is known"),!1))))return;const{nodes:i,source:s,newValue:n}=t,o=i;e.selectionService.setNodesSelected({nodes:o,source:s??"api",newValue:n})},selectAll:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAll";e.selectionService.selectAllRowNodes({source:t})},deselectAll:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAll";e.selectionService.deselectAllRowNodes({source:t})},selectAllFiltered:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllFiltered";e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},deselectAllFiltered:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllFiltered";e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},selectAllOnCurrentPage:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllCurrentPage";e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},deselectAllOnCurrentPage:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllCurrentPage";e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},getSelectedNodes:function(e){return e.selectionService.getSelectedNodes()},getSelectedRows:function(e){return e.selectionService.getSelectedRows()}}},{version:wo,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:function(e,t){const i=e.columnModel.getColDefCol(t);return i?i.getColDef():null},getColumnDefs:function(e){return e.columnModel.getColumnDefs()},sizeColumnsToFit:function(e,t){"number"===typeof t?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)},setColumnGroupOpened:function(e,t,i){e.columnModel.setColumnGroupOpened(t,i,"api")},getColumnGroup:function(e,t,i){return e.visibleColsService.getColumnGroup(t,i)},getProvidedColumnGroup:function(e,t){return e.columnModel.getProvidedColGroup(t)},getDisplayNameForColumn:function(e,t,i){return e.columnNameService.getDisplayNameForColumn(t,i)||""},getDisplayNameForColumnGroup:function(e,t,i){return e.columnNameService.getDisplayNameForColumnGroup(t,i)||""},getColumn:function(e,t){return e.columnModel.getColDefCol(t)},getColumns:function(e){return e.columnModel.getColDefCols()},applyColumnState:function(e,t){return e.columnApplyStateService.applyColumnState(t,"api")},getColumnState:function(e){return e.columnGetStateService.getColumnState()},resetColumnState:function(e){e.columnApplyStateService.resetColumnState("api")},getColumnGroupState:function(e){return e.columnGroupStateService.getColumnGroupState()},setColumnGroupState:function(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")},resetColumnGroupState:function(e){e.columnGroupStateService.resetColumnGroupState("api")},isPinning:function(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()},isPinningLeft:function(e){return e.visibleColsService.isPinningLeft()},isPinningRight:function(e){return e.visibleColsService.isPinningRight()},getDisplayedColAfter:function(e,t){return e.visibleColsService.getColAfter(t)},getDisplayedColBefore:function(e,t){return e.visibleColsService.getColBefore(t)},setColumnVisible:function(e,t,i){e.columnModel.setColsVisible([t],i,"api")},setColumnsVisible:function(e,t,i){e.columnModel.setColsVisible(t,i,"api")},setColumnPinned:function(e,t,i){e.columnModel.setColsPinned([t],i,"api")},setColumnsPinned:function(e,t,i){e.columnModel.setColsPinned(t,i,"api")},getAllGridColumns:function(e){return e.columnModel.getCols()},getDisplayedLeftColumns:function(e){return e.visibleColsService.getLeftCols()},getDisplayedCenterColumns:function(e){return e.visibleColsService.getCenterCols()},getDisplayedRightColumns:function(e){return e.visibleColsService.getRightCols()},getAllDisplayedColumns:function(e){return e.visibleColsService.getAllCols()},getAllDisplayedVirtualColumns:function(e){return e.columnViewportService.getViewportColumns()},moveColumn:function(e,t,i){e.columnMoveService.moveColumns([t],i,"api")},moveColumnByIndex:function(e,t,i){e.columnMoveService.moveColumnByIndex(t,i,"api")},moveColumns:function(e,t,i){e.columnMoveService.moveColumns(t,i,"api")},setColumnWidth:function(e,t,i){let s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"api";e.columnSizeService.setColumnWidths([{key:t,newWidth:i}],!1,s,n)},setColumnWidths:function(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"api";e.columnSizeService.setColumnWidths(t,!1,i,s)},getLeftDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeLeft()},getCenterDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeCenter()},getRightDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeRight()},getAllDisplayedColumnGroups:function(e){return e.visibleColsService.getAllTrees()},autoSizeColumn:function(e,t,i){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:i,source:"api"})},autoSizeColumns:function(e,t,i){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})},autoSizeAllColumns:function(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}}},{version:wo,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming((()=>e.rowRenderer.redrawRows(i)))},setRowNodeExpanded:function(e,t,i,s,n){e.expansionService.setRowNodeExpanded(t,i,s,n)},getRowNode:function(e,t){return e.rowModel.getRowNode(t)},addRenderedRowListener:function(e,t,i,s){e.rowRenderer.addRenderedRowListener(t,i,s)},getRenderedNodes:function(e){return e.rowRenderer.getRenderedNodes()},forEachNode:function(e,t,i){e.rowModel.forEachNode(t,i)},getFirstDisplayedRow:function(e){return Fl(e)},getFirstDisplayedRowIndex:Fl,getLastDisplayedRow:function(e){return El(e)},getLastDisplayedRowIndex:El,getDisplayedRowAtIndex:function(e,t){return e.rowModel.getRow(t)},getDisplayedRowCount:function(e){return e.rowModel.getRowCount()},getModel:function(e){return e.rowModel}}},{version:wo,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:function(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)},removeRowDropZone:function(e,t){const i=e.dragAndDropService.findExternalZone(t);i&&e.dragAndDropService.removeDropTarget(i)},getRowDropZoneParams:function(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}}},{version:wo,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:function(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()},getHorizontalPixelRange:function(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()},ensureColumnVisible:va,ensureIndexVisible:Ca,ensureNodeVisible:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,i)),"ensureVisible")}}},{version:wo,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:function(e){e.overlayService.showLoadingOverlay()},showNoRowsOverlay:function(e){e.overlayService.showNoRowsOverlay()},hideOverlay:function(e){e.overlayService.hideOverlay()}}},{version:wo,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:function(e){return e.focusService.getFocusedCell()},clearFocusedCell:function(e){return e.focusService.clearFocusedCell()},setFocusedCell:function(e,t,i,s){e.focusService.setFocusedCell({rowIndex:t,column:i,rowPinned:s,forceBrowserFocus:!0})},setFocusedHeader:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=e.headerNavigationService.getHeaderPositionForColumn(t,i);s&&e.focusService.focusHeaderPosition({headerPosition:s})},tabToNextCell:function(e,t){return e.navigationService.tabToNextCell(!1,t)},tabToPreviousCell:function(e,t){return e.navigationService.tabToNextCell(!0,t)}}},{version:wo,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:function(e,t,i){e.apiEventService.addEventListener(t,i)},addGlobalListener:function(e,t){e.apiEventService.addGlobalListener(t)},removeEventListener:function(e,t,i){e.apiEventService.removeEventListener(t,i)},removeGlobalListener:function(e,t){e.apiEventService.removeGlobalListener(t)}}},{version:wo,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:function(e,t,i){if(!t)return;const s=e.ctrlsService.getGridBodyCtrl().getGui(),n=`aria-${t}`;null===i?s.removeAttribute(n):s.setAttribute(n,i)},refreshCells:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.frameworkOverrides.wrapIncoming((()=>e.rowRenderer.refreshCells(t)))},flashCells:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=e=>c(`Since v31.1 api.flashCells parameter '${e}Delay' is deprecated. Please use '${e}Duration' instead.`);b(t.fadeDelay)&&i("fade"),b(t.flashDelay)&&i("flash"),e.frameworkOverrides.wrapIncoming((()=>e.rowRenderer.flashCells(t)))},refreshHeader:function(e){e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach((e=>e.refresh()))))},isAnimationFrameQueueEmpty:function(e){return e.animationFrameService.isQueueEmpty()},flushAllAnimationFrames:function(e){e.animationFrameService.flushAllFrames()},getSizesForCurrentTheme:function(e){return{rowHeight:G(e.gos),headerHeight:e.columnModel.getHeaderHeight()}},getCellRendererInstances:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.rowRenderer.getCellRendererInstances(t).map(sn)}}},{version:wo,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:function(e){e.valueCache.expire()},getValue:function(e,t,i){return Rl(e,{colKey:t,rowNode:i})},getCellValue:Rl}},{version:wo,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:function(e,t,i){const s=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:s,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:function(e,t,i){let s=e.columnModel.getCol(t);s||(s=e.columnModel.getColDefCol(t)),s?e.menuService.showColumnMenu({column:s,mouseEvent:i,positionBy:"mouse"}):u(`column '${t}' not found`)},showColumnMenu:function(e,t){const i=e.columnModel.getCol(t);i?e.menuService.showColumnMenu({column:i,positionBy:"auto"}):u(`column '${t}' not found`)},hidePopupMenu:function(e){e.menuService.hidePopupMenu()}}},{version:wo,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:function(e){e.sortController.onSortChanged("api")}}}]};function Pl(e){if(e.version||(e.version="32.1.0"),"32.1.0"===e.version)e=function(e){return e.cellSelection=function(e,t){if(e&&"object"===typeof e)return e[t]}(e,"rangeSelection"),e}(e);return e}var kl={version:wo,moduleName:"@ag-grid-community/state-core",beans:[class extends Te{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=v((()=>this.dispatchQueuedStateUpdateEvents()),0),this.onRowGroupOpenedDebounced=v((()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),0),this.onRowSelectedDebounced=v((()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())}),0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=M(this.gos),this.cachedState=this.getInitialState(),this.ctrlsService.whenReady(this,(()=>this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnGridReady()))));const[e,t,i]=this.addManagedEventListeners({newColumnsLoaded:t=>{let{source:i}=t;"gridInitializing"===i&&(e(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnColumnsInitialised())))},rowCountReady:()=>{t?.(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnRowCountReady()))},firstDataRendered:()=>{i?.(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnFirstDataRendered()))}})}getInitialState(){return Pl(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=e=>()=>this.updateColumnState([e]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:i,pagination:s}=this.getInitialState(),n=this.gos.get("advancedFilterModel");(e||n)&&this.setFilterState(e,n),t&&this.setRowGroupExpansionState(t),i&&this.setRowSelectionState(i),s&&this.setPaginationState(s),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const o=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:o,columnRowGroupChanged:o,rowDataUpdated:()=>{0!==this.gos.get("groupDefaultExpanded")&&setTimeout((()=>{o()}))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:e=>{(e.newPage||e.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:i,columnOrder:s}=this.getInitialState();i&&this.setFocusedCellState(i),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!s?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const n=this.getRangeSelectionState();this.updateCachedState("rangeSelection",n),this.updateCachedState("cellSelection",n),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:e=>{if(e.finished){const e=this.getRangeSelectionState();this.updateCachedState("rangeSelection",e),this.updateCachedState("cellSelection",e)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],i=[],s=[],n=[],o=[],r=[],a=[],l=[],d=[];let c=0;const u=this.columnGetStateService.getColumnState();for(let h=0;h<u.length;h++){const{colId:e,sort:g,sortIndex:p,rowGroup:m,rowGroupIndex:f,aggFunc:v,pivot:C,pivotIndex:w,pinned:b,hide:S,width:y,flex:R}=u[h];d.push(e),g&&(t[p??c++]={colId:e,sort:g}),m&&(i[f??0]=e),"string"===typeof v&&s.push({colId:e,aggFunc:v}),C&&(n[w??0]=e),b&&("right"===b?r:o).push(e),S&&a.push(e),(R||y)&&l.push({colId:e,flex:R??void 0,width:y})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:s.length?{aggregationModel:s}:void 0,pivot:n.length||e?{pivotMode:e,pivotColIds:n}:void 0,columnPinning:o.length||r.length?{leftColIds:o,rightColIds:r}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}setColumnState(e){const{sort:t,rowGroup:i,aggregation:s,pivot:n,columnPinning:o,columnVisibility:r,columnSizing:a,columnOrder:l,partialColumnState:d}=e,c={},u=e=>{let t=c[e];return t||(t={colId:e},c[e]=t,t)},h=d?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(((e,t)=>{let{colId:i,sort:s}=e;const n=u(i);n.sort=s,n.sortIndex=t})),h.sort=null,h.sortIndex=null),i&&(i.groupColIds.forEach(((e,t)=>{const i=u(e);i.rowGroup=!0,i.rowGroupIndex=t})),h.rowGroup=null,h.rowGroupIndex=null),s&&(s.aggregationModel.forEach((e=>{let{colId:t,aggFunc:i}=e;u(t).aggFunc=i})),h.aggFunc=null),n&&(n.pivotColIds.forEach(((e,t)=>{const i=u(e);i.pivot=!0,i.pivotIndex=t})),this.gos.updateGridOptions({options:{pivotMode:n.pivotMode},source:"gridInitializing"}),h.pivot=null,h.pivotIndex=null),o&&(o.leftColIds.forEach((e=>{u(e).pinned="left"})),o.rightColIds.forEach((e=>{u(e).pinned="right"})),h.pinned=null),r&&(r.hiddenColIds.forEach((e=>{u(e).hide=!0})),h.hide=null),a&&(a.columnSizingModel.forEach((e=>{let{colId:t,flex:i,width:s}=e;const n=u(t);n.flex=i??null,n.width=s})),h.flex=null);const g=l?.orderedColIds,p=!!g?.length,m=p?g.map((e=>u(e))):Object.values(c);m.length&&(this.columnStates=m,this.columnApplyStateService.applyColumnState({state:m,applyOrder:p,defaultState:h},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,this.pivotResultColsService.isPivotResultColsPresent()){if(t){const i=[];for(const e of t)this.pivotResultColsService.getPivotResultCol(e.colId)&&i.push(e);this.columnApplyStateService.applyColumnState({state:i,applyOrder:e},"gridInitializing")}i&&this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach((e=>{let{groupId:i,open:s}=e;s&&t.push(i)})),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set(e.columnGroup?.openColumnGroupIds),i=this.columnGroupStateService.getColumnGroupState().map((e=>{let{groupId:i}=e;const s=t.has(i);return s&&t.delete(i),{groupId:i,open:s}}));t.forEach((e=>{i.push({groupId:e,open:!0})})),i.length&&(this.columnGroupStates=i),this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}getFilterState(){let e=this.filterManager?.getFilterModel();e&&0===Object.keys(e).length&&(e=void 0);const t=this.filterManager?.getAdvancedFilterModel()??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){const{filterModel:i,advancedFilterModel:s}=e??{advancedFilterModel:t};i&&this.filterManager?.setFilterModel(i,"columnFilter"),s&&this.filterManager?.setAdvancedFilterModel(s)}getRangeSelectionState(){const e=this.rangeService?.getCellRanges().map((e=>{const{id:t,type:i,startRow:s,endRow:n,columns:o,startColumn:r}=e;return{id:t,type:i,startRow:s,endRow:n,colIds:o.map((e=>e.getColId())),startColId:r.getColId()}}));return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeService:i,columnModel:s,visibleColsService:n}=this;if(!ne(t)||!i)return;const o=[];if(e.cellRanges.forEach((e=>{const t=[];if(e.colIds.forEach((e=>{const i=s.getCol(e);i&&t.push(i)})),!t.length)return;let i=s.getCol(e.startColId);if(!i){const e=n.getAllCols(),s=new Set(t);i=e.find((e=>s.has(e)))}o.push({...e,columns:t,startColumn:i})})),function(e){return void 0!==e.get("cellSelection")}(t)&&function(e){const t=e.get("cellSelection");return void 0!==t?"boolean"!==typeof t&&(t?.suppressMultiRanges??!1):e.get("suppressMultiRangeSelection")}(t)&&o.length>1)return c("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");i.setCellRanges(o)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:i}=e?.getVScrollPosition()??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:i}=e;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(t,i)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:s}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:s}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:i,rowPinned:s}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();return e||t?{page:e,pageSize:t}:void 0}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),"number"===typeof e.page&&this.paginationService.setPage(e.page))}getRowSelectionState(){const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(!1===e.selectAll||!1===e.selectAllChildren)&&!e?.toggledNodes?.length?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let i=!1;Object.entries(t).forEach((e=>{let[t,s]=e;D(s,this.cachedState[t])||(i=!0)})),this.cachedState={...this.cachedState,...t},i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),D(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach((e=>{if("rowSelection"===e)this.setCachedStateValue(e,this.getRowSelectionState())})),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach((e=>this.queuedUpdateSources.add(e))),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout((()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))}))}}]},Tl={version:wo,moduleName:"@ag-grid-community/state",dependantModules:[kl,{version:wo,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:function(e){return e.stateService?.getState()??{}}},dependantModules:[kl]}]};var Ml="paginationPageSizeSelector",xl={selector:"AG-PAGE-SIZE-SELECTOR",component:class extends ts{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(Ml,(()=>{this.onPageSizeSelectorValuesChange()})),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Ni(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&!1!==this.gos.get(Ml)}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),i=!t||!e.includes(t);if(i){const i=this.gos.exists("paginationPageSize"),s=!0!==this.gos.get(Ml);c(`'paginationPageSize=${t}'${i?"":" (default value)"}, but ${t} is not included in${s?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),s||c(`Either set '${Ml}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}const s=String(i?"":t);this.selectPageSizeComp?(me(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(s,!0)):this.createPageSizeSelectorComp(e,s),this.hasEmptyOption=i}createPageSizeSelectOptions(e){return e.map((e=>({value:String(e)})))}createPageSizeSelectorComp(e,t){const i=this.localeService.getLocaleTextFunc(),s=i("pageSizeSelectorLabel","Page Size:"),n=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Ln).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(n).setLabel(s).onValueChange((()=>this.handlePageSizeItemSelected())),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Ml);return!Array.isArray(t)||y(t)?e:[...t].sort(((e,t)=>e-t))}destroy(){this.toggleSelectDisplay(!1),super.destroy()}}},Il={selector:"AG-PAGINATION",component:class extends Va{constructor(){super(),this.btFirst=es,this.btPrevious=es,this.btNext=es,this.btLast=es,this.lbRecordCount=es,this.lbFirstRowOnPage=es,this.lbLastRowOnPage=es,this.lbCurrent=es,this.lbTotal=es,this.pageSizeComp=es,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[xl]);const{btFirst:t,btPrevious:i,btNext:s,btLast:n}=this;this.activateTabIndex([t,i,s,n]),t.insertAdjacentElement("afterbegin",ns(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",ns(e?"next":"previous",this.gos)),s.insertAdjacentElement("afterbegin",ns(e?"previous":"next",this.gos)),n.insertAdjacentElement("afterbegin",ns(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],(()=>this.onPageSizeRelatedOptionsChange())),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:e=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(e):this.focusService.focusGridInnerElement(e)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const e=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){var e,t,i;this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((e=>{const{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:e=>{e.key!==fs.ENTER&&e.key!==fs.SPACE||(e.preventDefault(),i())}})})),e=this,t=this.getGui(),i=this.focusService,e.addManagedElementListeners(t,{keydown:e=>{if(!e.defaultPrevented&&e.key===fs.TAB){const s=e.shiftKey;i.findNextFocusableElement(t,!1,s)||i.focusNextGridCoreContainer(s)&&e.preventDefault()}}}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t){return t({value:e})}const i=this.localeService.getLocaleTextFunc();return to(e,i("thousandSeparator",","),i("decimalSeparator","."))}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),s=e("of","of"),n=e("firstPage","First Page"),o=e("previousPage","Previous Page"),r=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">\n                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel">\n                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-to">${i}</span>\n                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-of">${s}</span>\n                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${n}"></div>\n                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>\n                    <span class="ag-paging-description">\n                        <span id="ag-${l}-start-page">${t}</span>\n                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${l}-of-page">${s}</span>\n                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>\n                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const s=this.isZeroPagesToDisplay(),n=e===i-1;this.nextButtonDisabled=n||s,this.lastButtonDisabled=!t||s||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){!function(e,t){$t(e,"disabled",t)}(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&0===t}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),i=this.paginationService.getMasterRowCount(),s=e?i:null;if(1===s){const e=this.rowModel.getRow(0);if(e&&e.group&&!(e.groupData||e.aggData))return void this.setTotalLabelsToZero()}const n=this.paginationService.getCurrentPage(),o=this.paginationService.getPageSize();let r,a;this.isZeroPagesToDisplay()?r=a=0:(r=o*n+1,a=r+o-1,e&&a>s&&(a=s));const l=!e&&i<r+o-1,d=this.formatNumber(r);let c;this.lbFirstRowOnPage.textContent=d;const u=this.localeService.getLocaleTextFunc();c=l?u("pageLastRowUnknown","?"):this.formatNumber(a),this.lbLastRowOnPage.textContent=c;const h=t>0?n+1:0,g=this.formatNumber(h);let p,m;if(this.lbCurrent.textContent=g,e)p=this.formatNumber(t),m=this.formatNumber(s);else{const e=u("more","more");p=e,m=e}this.lbTotal.textContent=p,this.lbRecordCount.textContent=m,this.announceAriaStatus(d,c,m,g,p)}announceAriaStatus(e,t,i,s,n){const o=this.localeService.getLocaleTextFunc(),r=o("page","Page"),a=o("to","to"),l=o("of","of"),d=`${e} ${a} ${t} ${l} ${i}`,c=`${r} ${s} ${l} ${n}`;d!==this.ariaRowStatus&&(this.ariaRowStatus=d,this.ariaAnnouncementService.announceValue(d,"paginationRow")),c!==this.ariaPageStatus&&(this.ariaPageStatus=c,this.ariaAnnouncementService.announceValue(c,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}}},Ll={version:wo,moduleName:"@ag-grid-community/pagination-core",beans:[class extends Te{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Il}isPaginateChildRows(){return!(!this.gos.get("groupRemoveSingleChildren")&&!this.gos.get("groupRemoveLowestSingleChildren"))||this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){this.active&&this.currentPage!==e&&"number"===typeof this.currentPage&&(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){if(!this.active)return!0;return this.getPageForIndex(e.rowIndex)===this.currentPage}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return b(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:b(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:b(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:b(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const e=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=e-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:s=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:s,keepRenderedRows:t})}},class extends Te{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()}))}notActive(){return!this.gos.get("paginationAutoPageSize")||null==this.centerRowsCtrl}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const t=Math.max(G(this.gos),1),i=Math.floor(e/t);this.paginationService.setPageSize(i,"autoCalculated")};this.isBodyRendered?v((()=>t()),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}}]},Ol={version:wo,moduleName:"@ag-grid-community/pagination",dependantModules:[Ll,{version:wo,moduleName:"@ag-grid-community/pagination-api",dependantModules:[Ll],apiFunctions:{paginationIsLastPageFound:function(e){return e.rowModel.isLastRowIndexKnown()},paginationGetPageSize:function(e){return e.paginationService?.getPageSize()??100},paginationGetCurrentPage:function(e){return e.paginationService?.getCurrentPage()??0},paginationGetTotalPages:function(e){return e.paginationService?.getTotalPages()??1},paginationGetRowCount:function(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()},paginationGoToNextPage:function(e){e.paginationService?.goToNextPage()},paginationGoToPreviousPage:function(e){e.paginationService?.goToPreviousPage()},paginationGoToFirstPage:function(e){e.paginationService?.goToFirstPage()},paginationGoToLastPage:function(e){e.paginationService?.goToLastPage()},paginationGoToPage:function(e,t){e.paginationService?.goToPage(t)}}}]},Vl="clientSide",Nl="serverSide",Gl="infinite",_l={onGroupExpandedOrCollapsed:[Vl],refreshClientSideRowModel:[Vl],isRowDataEmpty:[Vl],forEachLeafNode:[Vl],forEachNodeAfterFilter:[Vl],forEachNodeAfterFilterAndSort:[Vl],resetRowHeights:[Vl],applyTransaction:[Vl],applyTransactionAsync:[Vl],flushAsyncTransactions:[Vl],getBestCostNodeSelection:[Vl],getServerSideSelectionState:[Nl],setServerSideSelectionState:[Nl],applyServerSideTransaction:[Nl],applyServerSideTransactionAsync:[Nl],applyServerSideRowData:[Nl],retryServerSideLoads:[Nl],flushServerSideAsyncTransactions:[Nl],refreshServerSide:[Nl],getServerSideGroupLevelState:[Nl],refreshInfiniteCache:[Gl],purgeInfiniteCache:[Gl],getInfiniteRowCount:[Gl],isLastRowIndexKnown:[Gl,Nl],expandAll:[Vl,Nl],collapseAll:[Vl,Nl],onRowHeightChanged:[Vl,Nl],setRowCount:[Gl,Nl],getCacheBlockState:[Gl,Nl]},Bl={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};var Hl=(e,t)=>"clientSide"===(t.rowModelType??"clientSide")?{module:"@ag-grid-enterprise/row-grouping"}:null,Wl={enableRowGroup:Hl,rowGroup:Hl,rowGroupIndex:Hl,enablePivot:Hl,enableValue:Hl,pivot:Hl,pivotIndex:Hl,aggFunc:Hl,cellEditor:e=>"agRichSelect"===e.cellEditor||"agRichSelectCellEditor"===e.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some((e=>t.includes(e)))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,t)=>{let{rowSelection:i}=t;return"multiple"===i?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,t)=>{let{rowSelection:i}=t;return"multiple"===i?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,t)=>{let{rowSelection:i}=t;return"multiple"===i?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:()=>zl},zl={objectName:"colDef",allProperties:Object.keys({headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0}),docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},validations:Wl},Ul={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},Ql={version:wo,moduleName:"@ag-grid-community/core-community-features",dependantModules:[{version:wo,moduleName:"@ag-grid-community/core"},{version:wo,moduleName:"@ag-grid-community/core-validations",beans:[class extends Te{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,{objectName:"gridOptions",allProperties:[...It.ALL_PROPERTIES,...Ot.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:{advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}},validations:{sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":{const i=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:i}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:i}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":{const t="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return e.suppressServerSideInfiniteScroll?t:null}}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return"boolean"===typeof t||null==t||t.length?null:"'paginationPageSizeSelector' cannot be an empty array.\n                    If you want to hide the page size selector, set paginationPageSizeSelector to false."}},rowSelection:{validate(e){let{rowSelection:t}=e;return t&&"string"===typeof t?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>zl,defaultColDef:()=>zl,defaultColGroupDef:()=>zl,autoGroupColumnDef:()=>zl,selectionColumnDef:()=>zl}})}validateApiFunction(e,t){return function(e,t,i){const s=Bl[e];if(s){const{version:i,new:n,old:o,message:r}=s,a=o??e;return function(){c(`Since ${i} api.${a} is deprecated. ${n?`Please use ${n} instead. `:""}${r??""}`);for(var e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return t.apply(t,s)}}const n=_l[e];return n?function(){const s=i.rowModel.getType();if(n.includes(s)){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t.apply(t,r)}u(`api.${e} can only be called when gridOptions.rowModelType is ${n.join(" or ")}`)}:t}(e,t,this.beans)}processOptions(e,t){const{validations:i,deprecations:s,allProperties:n,propertyExceptions:o,objectName:r,docsUrl:a}=t;n&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,[...o??[],...Object.keys(s)],n,r,a);const l=new Set;Object.keys(e).forEach((t=>{const n=s[t];if(n)if("renamed"in n){const{renamed:i,version:s}=n;l.add(`As of v${s}, ${String(t)} is deprecated. Please use ${String(i)} instead.`),e[i]=e[t]}else{const{message:e,version:i}=n;l.add(`As of v${i}, ${String(t)} is deprecated. ${e??""}`)}const o=e[t];if(null==o||!1===o)return;const r=i[t];let a;if(!r)return;if("function"===typeof r){const i=r(e,this.gridOptions);if(!i)return;if("objectName"in i){const s=e[t];return Array.isArray(s)?void s.forEach((e=>{this.processOptions(e,i)})):void this.processOptions(e[t],i)}a=i}else a=r;const{module:d,dependencies:c,validate:u,supportedRowModels:h}=a;if(h){const e=this.gridOptions.rowModelType??"clientSide";if(!h.includes(e))return void l.add(`${String(t)} is not supported with the '${e}' row model.`)}if(d){const e=Array.isArray(d)?d:[d];let i=!0;if(e.forEach((e=>{this.gos.assertModuleRegistered(e,String(t))||(i=!1,l.add(`${String(t)} is only available when ${e} is loaded.`))})),!i)return}if(c){const i=this.checkForRequiredDependencies(t,c,e);if(i)return void l.add(i)}if(u){const t=u(e,this.gridOptions);if(t)return void l.add(t)}})),l.size>0&&l.forEach((e=>{c(e)}))}checkForRequiredDependencies(e,t,i){const s=Object.entries(t).find((e=>{let[t,s]=e;const n=i[t];return!s.includes(n)}));if(!s)return null;const[n,o]=s;return o.length>1?`'${String(e)}' requires '${n}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${n}' to be ${o[0]}.`}checkProperties(e,t,i,s,n){const o=function(e,t,i){const s={},n=e.filter((e=>!t.some((t=>t===e))));return n.length>0&&n.forEach((e=>s[e]=Ts(e,i).values)),s}(Object.getOwnPropertyNames(e),["__ob__","__v_skip","__metadata__",...t,...i],i);if(Ue(o,((e,t)=>{let n=`invalid ${s} property '${e}' did you mean any of these: ${t.slice(0,8).join(", ")}.`;i.includes("context")&&(n+=`\nIf you are trying to annotate ${s} with application data, use the '${s}.context' property instead.`),c(n)})),Object.keys(o).length>0&&n){const e=this.getFrameworkOverrides().getDocLink(n);c(`to see all the valid ${s} properties please check: ${e}`)}}}]},ya,Lo,Tl,yl,Sl,Ol,Dl]},ql=class extends Te{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:this.beans.stateService?.getState()??{}}),this.destroyCalled=!0,this.beans.ctrlsService.get("gridCtrl")?.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},Kl=new Set(["gridPreDestroyed","fillStart","pasteStart"]),jl=new Map([...It.BOOLEAN_PROPERTIES.map((e=>[e,E])),...It.NUMBER_PROPERTIES.map((e=>[e,Jn])),["groupAggFiltering",e=>"function"===typeof e?e:E(e)],["pageSize",Zn(1)],["autoSizePadding",Zn(0)],["keepDetailRowsCount",Zn(1)],["rowBuffer",Zn(0)],["infiniteInitialRowCount",Zn(1)],["cacheOverflowSize",Zn(1)],["cacheBlockSize",Zn(1)],["serverSideInitialRowCount",Zn(1)],["viewportRowModelPageSize",Zn(1)],["viewportRowModelBufferSize",Zn(0)]]);function $l(e,t){const i=jl.get(e);return i?i(t):t}var Xl=class e extends Te{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new o,this.globalEventHandlerFactory=e=>(t,i)=>{if(!this.isAlive())return;const s=Kl.has(t);if(s&&!e||!s&&e)return;const n=Ot.getCallbackForEvent(t),o=this.gridOptions[n];"function"===typeof o&&this.frameworkOverrides.wrapOutgoing((()=>{o(i)}))}}wireBeans(e){this.gridOptions=e.gridOptions,this.eGridDiv=e.eGridDiv,this.validationService=e.validationService,this.environment=e.environment,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:e=>{let{options:t}=e;this.updateGridOptions({options:t,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??Ul[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return b(this.gridOptions[e])}mergeGridCommonParams(e){if(e){return t=>{const i=t;return i.api=this.api,i.context=this.gridOptionsContext,e(i)}}return e}updateGridOptions(t){let{options:i,force:s,source:n="api"}=t;const o={id:e.changeSetId++,properties:[]},r=[];Object.entries(i).forEach((e=>{let[t,i]=e;"api"===n&&Mt[t]&&c(`${t} is an initial property and cannot be updated.`);const a=$l(t,i),l=s||"object"===typeof a&&"api"===n,d=this.gridOptions[t];if(l||d!==a){this.gridOptions[t]=a;const e={type:t,currentValue:a,previousValue:d,changeSet:o,source:n};r.push(e)}})),this.validationService?.processGridOptions(this.gridOptions),o.properties=r.map((e=>e.type)),r.forEach((e=>{this.gridOptions.debug&&d(`Updated property ${e.type} from`,e.previousValue," to ",e.currentValue),this.propertyEventService.dispatchEvent(e)}))}addPropertyEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removePropertyEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(e){const t=e;return t.api=this.api,t.context=this.gridOptionsContext,t}assertModuleRegistered(e,t){return on.__assertRegistered(e,t,this.gridId)}isModuleRegistered(e){return on.__isRegistered(e,this.gridId)}};Xl.changeSetId=0;var Yl=Xl,Jl=class extends Te{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let i,s;if(Rt(e.column)?i=this.visibleColsService.getGroupAtDirection(e.column,t):(s=`getCol${t}`,i=this.visibleColsService[s](e.column)),!i)return;const{headerRowIndex:n}=e;if("filter"!==this.getHeaderRowType(n)){const e=[i];for(;i.getParent();)i=i.getParent(),e.push(i);i=e[e.length-1-n]}const{column:o,headerRowIndex:r}=this.getHeaderIndexToFocus(i,n);return{column:o,headerRowIndex:r}}getHeaderIndexToFocus(e,t){let i;if(Rt(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const s=e;i=s.getLeafColumns()[0];let n=i;for(;n!==s;)t++,n=n.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return!!e&&e.getLeafColumns().some((e=>e.isSpanHeaderHeight()))}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),s="column"===i;let n="filter"===i?e:e.getParent(),o=t-1,r=o;if(s&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;n&&n.isPadding();)n=n.getParent(),o--;r=o,o<0&&(n=e,o=t,r=void 0)}return{column:n,headerRowIndex:o,headerRowIndexWithoutSpan:r}}getColumnVisibleChild(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"After";let s=e,n=t+1;const o=n;if("group"===this.getHeaderRowType(t)){const t=e.getDisplayedLeafColumns(),o="After"===i?t[0]:pe(t),r=[];let a=o;for(;a.getParent()!==e;)a=a.getParent(),r.push(a);if(s=o,o.isSpanHeaderHeight())for(let e=r.length-1;e>=0;e--){const t=r[e];if(!t.isPadding()){s=t;break}n++}else s=pe(r),s||(s=o)}return{column:s,headerRowIndex:n,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.visibleColsService.getAllCols(),s=i["start"===t?0:i.length-1];if(!s)return;const n=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()),o=n?.getRowType(e);if("group"==o){return{headerRowIndex:e,column:this.visibleColsService.getColGroupAtLevel(s,e)}}return{headerRowIndex:null==o?-1:e,column:s}}},Zl=class extends Te{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(t,i,s)=>e({key:t,defaultValue:i,variableValues:s});const t=this.gos.get("localeText");return(e,i,s)=>{let n=t&&t[e];if(n&&s&&s.length){let e=0;for(;!(e>=s.length);){if(-1===n.indexOf("${variable}"))break;n=n.replace("${variable}",s[e++])}}return n??i}}},ed=class extends Te{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new We(this.getFrameworkOverrides())}addEventListener(e,t){const i=this.frameworkEventWrappingService.wrap(t),s=O(this.gos)&&!Kl.has(e),n=s?this.asyncEventListeners:this.syncEventListeners;n.has(e)||n.set(e,new Set),n.get(e).add(i),this.eventService.addEventListener(e,i,s)}removeEventListener(e,t){const i=this.frameworkEventWrappingService.unwrap(t),s=this.asyncEventListeners.get(e),n=!!s?.delete(i);n||this.syncEventListeners.get(e)?.delete(i),this.eventService.removeEventListener(e,i,n)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(O(this.gos)){const i=(e,i)=>{Kl.has(e)&&t(e,i)},s=(e,i)=>{Kl.has(e)||t(e,i)};this.globalEventListenerPairs.set(e,{syncListener:i,asyncListener:s}),this.eventService.addGlobalListener(i,!1),this.eventService.addGlobalListener(s,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:i,asyncListener:s}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(i,!1),this.eventService.removeGlobalListener(s,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach(((e,i)=>{e.forEach((e=>this.eventService.removeEventListener(i,e,t))),e.clear()})),e.clear()}destroyGlobalListeners(e,t){e.forEach((e=>this.eventService.removeGlobalListener(e,t))),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach((e=>{let{syncListener:t,asyncListener:i}=e;this.eventService.removeGlobalListener(t,!1),this.eventService.removeGlobalListener(i,!0)})),this.globalEventListenerPairs.clear()}},td=class extends Te{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},id=class extends Te{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return S(this.topRowBounds)||S(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=b(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},sd=class extends Te{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=v(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=W(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),ii(t,"polite"),$t(t,"relevant","additions text"),function(e,t){$t(e,"atomic",t)}(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout((()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)}),50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Ni(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},nd=class extends Te{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,(e=>this.gridBodyCtrl=e.gridBodyCtrl))}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush((()=>this.activeNext=!1),(()=>this.active=!1))}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)}))}flush(e,t){if(0===this.executeNextFuncs.length&&0===this.executeLaterFuncs.length)return e(),void t();const i=e=>{for(;e.length;){const t=e.pop();t&&t()}};this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{e(),i(this.executeNextFuncs)}),0),window.setTimeout((()=>{t(),i(this.executeLaterFuncs)}),200)}))}},od=class extends Te{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},rd=class extends Te{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=M(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return 0!==this.state&&!!this.overlayWrapperComp}isExclusive(){return 1===this.state&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");(e||void 0===e&&!this.gos.get("suppressLoadingOverlay"))&&this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")?c("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead."):this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp)return void(this.state=0);let e=this.gos.get("loading");this.showInitialOverlay&&void 0===e&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?1!==this.state&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?2!==this.state&&this.doShowNoRowsOverlay():0!==this.state&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,i){const s=e.newAgStackInstance();this.overlayWrapperComp?.showOverlay(s,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;if(2===this.state){const t=this.ctrlsService.get("gridHeaderCtrl");e=t?.getHeaderHeight()||0}else 0!==this.wrapperPadding&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},ad=class extends Te{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return b(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Se(t,this.processClassesFromGridOptions(e.rowNode)),Se(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=e=>{"string"===typeof e?t.push(e):Array.isArray(e)&&e.forEach((e=>t.push(e)))},s=this.gos.get("rowClass");if(s){if("function"===typeof s)return c("rowClass should not be a function, please use getRowClass instead"),[];i(s)}const n=this.gos.getCallback("getRowClass");if(n){i(n({data:e.data,node:e,rowIndex:e.rowIndex}))}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,(e=>{t.push(e)}),(()=>{})),t}processRowClassRules(e,t,i){const s=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),s,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},ld=class extends Te{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=function(){if(void 0!==qt)return qt;if(!document.body)return-1;let e=1e6;const t=fi()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const s=2*e;if(i.style.height=s+"px",s>t||i.clientHeight!==s)break;e=s}return document.body.removeChild(i),qt=e,e}(),this.gos.get("debug")&&d("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&d(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t="number"===typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=e/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*t}},dd=class extends Te{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=$(this.gos),this.addManagedPropertyListener("accentedSort",(e=>this.isAccentedSort=e.currentValue)),this.addManagedPropertyListener("autoGroupColumnDef",(()=>this.primaryColumnsSortGroups=$(this.gos)))}doFullSort(e,t){const i=e.map(((e,t)=>({currentPos:t,rowNode:e})));return i.sort(this.compareRowNodes.bind(this,t)),i.map((e=>e.rowNode))}compareRowNodes(e,t,i){const s=t.rowNode,n=i.rowNode;for(let o=0,r=e.length;o<r;o++){const t=e[o],i="desc"===t.sort,r=this.getValue(s,t.column),a=this.getValue(n,t.column);let l;const d=this.getComparator(t,s);l=d?d(r,a,s,n,i):P(r,a,this.isAccentedSort);if(!isNaN(l)&&0!==l)return"asc"===t.sort?l:-1*l}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,s=i.getColDef().comparator;if(null!=s)return s;if(!i.getColDef().showRowGroup)return;const n=!t.group&&i.getColDef().field;if(!n)return;const o=this.columnModel.getColDefCol(n);return o?o.getColDef().comparator:void 0}getValue(e,t){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(ee(this.gos,this.columnModel.isPivotActive())){const i=e.allLeafChildren?.[0];return i?this.valueService.getValue(t,i,!1,!1):void 0}const i=this.showRowGroupColsService?.getShowRowGroupCol(t.getId());if(!i)return;return e.groupData?.[i.getId()]}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)}},cd=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let s=0;s<e.childrenAfterGroup.length;s++){const n=e.childrenAfterGroup[s];n.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[s],t,i):i&&t(n)}t(e)}forEachChangedNodeDepthFirst(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){const e={rowNode:t,children:null};this.mapToItems[t.id]=e,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach((e=>this.nodeIdsToColumns[i.id][e.getId()]=!0)),i=i.parent}linkPathItems(e,t){let i=e;for(let s=0;s<t;s++){const e=this.mapToItems[i.id],t=this.mapToItems[i.parent.id];t.children||(t.children=[]),t.children.push(e),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter((e=>i[e.getId()]))}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter((e=>!i[e.getId()]))}},ud=class extends Te{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new Ma,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:t,onRowSelected:i}=this;this.selectionCtx.init(t),this.rowSelectionMode=de(e),this.groupSelectsChildren=he(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],(()=>{const t=he(e),i=de(e);t===this.groupSelectsChildren&&i===this.rowSelectionMode||(this.groupSelectsChildren=t,this.rowSelectionMode=i,this.deselectAllRowNodes({source:"api"}))})),this.addManagedEventListeners({rowSelected:i.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return"multiRow"===this.rowSelectionMode}overrideSelectionValue(e,t){if(!(e=>"checkboxSelected"===e||"rowClicked"===e||"spaceKey"===e||"uiSelectAll"===e||"uiSelectAllCurrentPage"===e||"uiSelectAllFiltered"===e)(t))return e;const i=this.selectionCtx.getRoot();return!i||(i.isSelected()??!1)}setNodesSelected(e){const{newValue:t,clearSelection:i,suppressFinishActions:s,rangeSelect:n,nodes:o,event:r,source:a}=e;if(0===o.length)return 0;if(o.length>1&&!this.isMultiSelect())return c("cannot multi select unless selection mode is 'multiRow'"),0;const l=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,d=o.map((e=>e.footer?e.sibling:e));if(n){if(d.length>1)return c("cannot range select while selecting multiple rows"),0;const e=d[0],i=this.overrideSelectionValue(t,a);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(e)){const t=this.selectionCtx.truncate(e);return i&&this.selectRange(t.discard,!1,a),this.selectRange(t.keep,i,a)}if(this.selectionCtx.getRoot()!==e){const t=this.selectionCtx.extend(e,this.groupSelectsChildren);return i&&this.selectRange(t.discard,!1,a),this.selectRange(t.keep,i,a)}}else;}s||this.selectionCtx.setRoot(d[0]);let u=0;for(let c=0;c<d.length;c++){const e=d[c];if(!(l&&e.group)){e.selectThisNode(t,r,a)&&u++}this.groupSelectsChildren&&e.childrenAfterGroup?.length&&(u+=this.selectChildren(e,t,l,a))}if(!s){t&&(i||!this.isMultiSelect())&&(u+=this.clearOtherNodes(d[0],a)),u>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))}return u}selectRange(e,t,i){let s=0;return e.forEach((e=>{if(e.group&&this.groupSelectsChildren)return;e.selectThisNode(t,void 0,i)&&s++})),s>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),s}selectChildren(e,t,i,s){const n=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return S(n)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:s,nodes:n})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach((t=>{t&&e.push(t)})),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach((t=>{t&&t.data&&e.push(t.data)})),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach(((i,s)=>{i&&e(i)&&t.set(s,i)})),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren)return!1;if(!M(this.gos))return!1;const i=this.rowModel.getRootNode();t||(t=new cd(!0,i)).setInactive();let s=!1;return t.forEachChangedNodeDepthFirst((t=>{if(t!==i){const i=t.calculateSelectedFromChildren();s=t.selectThisNode(null!==i&&i,void 0,e)||s}})),s}clearOtherNodes(e,t){const i=new Map;let s=0;return this.selectedNodes.forEach((n=>{if(n&&n.id!==e.id){const e=this.selectedNodes.get(n.id);s+=e.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&n.parent&&i.set(n.parent.id,n.parent)}})),i.forEach((e=>{const i=e.calculateSelectedFromChildren();e.selectThisNode(null!==i&&i,void 0,t)})),s}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(b(t)&&e.id!==t.id&&t){const i=t.id;this.selectedNodes.get(i)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes?.clear()}getBestCostNodeSelection(){if(!M(this.gos))return;const e=this.rowModel.getTopLevelNodes();if(null===e)return;const t=[];return function e(i){for(let s=0,n=i.length;s<n;s++){const n=i[s];if(n.isSelected())t.push(n);else{const t=n;t.group&&t.children&&e(t.children)}}}(e),t}isEmpty(){let e=0;return this.selectedNodes.forEach((t=>{t&&e++})),0===e}deselectAllRowNodes(e){const t=e=>e.selectThisNode(!1,void 0,s),i=M(this.gos),{source:s,justFiltered:n,justCurrentPage:o}=e;if(o||n){if(!i)return void u("selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(n,o).forEach(t)}else this.selectedNodes.forEach((e=>{e&&t(e)})),this.reset(s);this.selectionCtx.reset(),i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s)}getSelectedCounts(e,t){let i=0,s=0;return this.getNodesToSelect(e,t).forEach((e=>{this.groupSelectsChildren&&e.group||(e.isSelected()?i++:e.selectable&&s++)})),{selectedCount:i,notSelectedCount:s}}getSelectAllState(e,t){const{selectedCount:i,notSelectedCount:s}=this.getSelectedCounts(e,t);return(0!==i||0!==s)&&(i>0&&s>0?null:i>0)}hasNodesToSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getNodesToSelect(e,t).filter((e=>e.selectable)).length>0}getNodesToSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.validateSelectAllType();const i=[];if(t)return this.forEachNodeOnPage((e=>{if(e.group)if(e.expanded)this.groupSelectsChildren||i.push(e);else{const t=e=>{i.push(e),e.childrenAfterFilter?.length&&e.childrenAfterFilter.forEach(t)};t(e)}else i.push(e)})),i;const s=this.rowModel;return e?(s.forEachNodeAfterFilter((e=>{i.push(e)})),i):(s.forEachNode((e=>{i.push(e)})),i)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();for(let s=t;s<=i;s++){const t=this.rowModel.getRow(s);t&&e(t)}}selectAllRowNodes(e){if("string"!==typeof this.gos.get("rowSelection")&&!ce(this.gos))return c("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:t,justFiltered:i,justCurrentPage:s}=e,n=this.getNodesToSelect(i,s);n.forEach((e=>e.selectThisNode(!0,void 0,t))),this.selectionCtx.setRoot(n[0]??null),this.selectionCtx.setEndRange(pe(n)??null),M(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach((t=>{t?.id&&e.push(t.id)})),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return u("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const i=new Set(e),s=[];this.rowModel.forEachNode((e=>{i.has(e.id)&&s.push(e)})),this.setNodesSelected({newValue:!0,nodes:s,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!M(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},hd=class extends Te{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListener("isRowSelectable",(()=>this.updateSelectable()))}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{gos:t}=this,i=L(t),s=le(t);if(!i||!s)return;const n=he(t),o=M(t)&&n,r=[],a=t=>{if(e&&!t.group)return;if(o&&t.group){const e=t.childrenAfterGroup.some((e=>!0===e.selectable));return void t.setRowSelectable(e,!0)}const i=s?.(t)??!0;t.setRowSelectable(i,!0),!i&&t.isSelected()&&r.push(t)};if(o){const e=this.rowModel;new cd(!1,e.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);r.length&&this.selectionService.setNodesSelected({nodes:r,newValue:!1,source:"selectableChanged"}),o&&this.selectionService instanceof ud&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},gd=["asc","desc",null],pd=class extends Te{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,i){const s=this.getNextSortDirection(e);this.setSortForColumn(e,s,t,i)}setSortForColumn(e,t,i,s){"asc"!==t&&"desc"!==t&&(t=null);let n=[e];if($(this.gos)&&e.getColDef().showRowGroup){const t=this.funcColsService.getSourceColumnsForGroupColumn(e),i=t?.filter((e=>e.isSortable()));i&&(n=[e,...i])}n.forEach((e=>e.setSort(t,s)));const o=[];if(!((i||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"))){const e=this.clearSortBarTheseColumns(n,s);o.push(...e)}this.updateSortIndex(e),o.push(...n),this.dispatchSortChangedEvents(s,o)}updateSortIndex(e){const t=$(this.gos),i=this.showRowGroupColsService?.getShowRowGroupCol(e.getId()),s=t&&i||e,n=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach((e=>e.setSortIndex(null)));const o=n.filter((e=>(!t||!e.getColDef().showRowGroup)&&e!==s));(s.getSort()?[...o,s]:o).forEach(((e,t)=>{e.setSortIndex(t)}))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const e=this.columnModel.getAllCols().filter((e=>!!e.getSort()));return e&&e.length>0}dispatchSortChangedEvents(e,t){const i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.columnModel.getAllCols().forEach((s=>{e.includes(s)||(s.getSort()&&i.push(s),s.setSort(void 0,t))})),i}getNextSortDirection(e){let t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gos.get("sortingOrder")?this.gos.get("sortingOrder"):gd,!Array.isArray(t)||t.length<=0)return c(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const i=t.indexOf(e.getSort()),s=i<0,n=i==t.length-1;let o;return o=s||n?t[0]:t[i+1],gd.indexOf(o)<0?(c("invalid sort type ",o),null):o}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter((e=>!!e.getSort()));if(this.columnModel.isPivotMode()){const t=$(this.gos);e=e.filter((e=>{const i=!!e.getAggFunc(),s=!e.isPrimary(),n=t?this.showRowGroupColsService?.getShowRowGroupCol(e.getId()):e.getColDef().showRowGroup;return i||s||n}))}const t=this.funcColsService.getRowGroupColumns().filter((e=>!!e.getSort())),i={};e.forEach(((e,t)=>i[e.getId()]=t)),e.sort(((e,t)=>{const s=e.getSortIndex(),n=t.getSortIndex();if(null!=s&&null!=n)return s-n;if(null==s&&null==n){return i[e.getId()]>i[t.getId()]?1:-1}return null==n?-1:1}));const s=$(this.gos)&&!!t.length;s&&(e=[...new Set(e.map((e=>this.showRowGroupColsService?.getShowRowGroupCol(e.getId())??e)))]);const n=new Map;return e.forEach(((e,t)=>n.set(e,t))),s&&t.forEach((e=>{const t=this.showRowGroupColsService.getShowRowGroupCol(e.getId());n.set(e,n.get(t))})),n}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(((e,t)=>{let[i,s]=e,[n,o]=t;return s-o})).map((e=>{let[t]=e;return t}))}getSortModel(){return this.getColumnsWithSortingOrdered().filter((e=>e.getSort())).map((e=>({sort:e.getSort(),colId:e.getId()})))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter((e=>e.getSort())).map((e=>({sort:e.getSort(),column:e})))}canColumnDisplayMixedSort(e){const t=$(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const i=null!=e.getColDef().field||!!e.getColDef().valueGetter?[e,...t]:t,s=i[0].getSort();return i.every((e=>e.getSort()==s))?s:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},md=class extends Te{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",(e=>this.setColumnDefs(e)))}start(){this.ctrlsService.whenReady(this,(()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()}))}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&d(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t)return this.waitingForColumns?(this.waitingForColumns=!1,void this.setColumnsAndData(t)):void this.columnModel.setColumnDefs(t,at(e.source))}},fd=class extends Te{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){M(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const s=this.gos.get("aggregateOnlyChangedColumns"),n=new cd(s,this.clientSideRowModel.getRootNode());n.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(n),n.forEachChangedNodeDepthFirst((e=>{i.push(e)}))}this.rowRenderer.refreshCells({rowNodes:i})}},vd=class extends Te{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if("string"===typeof e)return this.evaluateExpression(e,t);u("value should be either a string or a function",e)}evaluateExpression(e,t){try{const i=this.createExpressionFunction(e);return i(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return d("Processing of the expression failed"),d("Expression = ",e),d("Params = ",t),d("Exception = ",i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},Cd=class extends Te{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]}},wd=class extends Te{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=x(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=e=>this.callColumnCellValueChangedHandler(e),t=O(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc((()=>this.eventService.removeEventListener("cellValueChanged",e,t))),this.addManagedPropertyListener("treeData",(e=>this.isTreeData=e.currentValue))}getValueForDisplay(e,t){const i=t.leafGroup&&this.columnModel.isPivotMode(),s=t.group&&t.expanded&&!t.footer&&!i,n=this.gos.get("groupSuppressBlankHeader");if(!s||n)return this.getValue(e,t);let o=!1;const r=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");if("function"!==typeof r)o=!!r;else{o=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this})}const a=s&&o;return this.getValue(e,t,!1,a)}getValue(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.initialised||this.init(),!t)return;const n=e.getColDef(),o=n.field,r=e.getColId(),a=t.data;let l;const d=t.groupData&&void 0!==t.groupData[r],c=!s&&t.aggData&&void 0!==t.aggData[r],u=this.isSsrm&&s&&!!e.getColDef().aggFunc,h=this.isSsrm&&t.footer&&t.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===t.field);if(i&&n.filterValueGetter?l=this.executeFilterValueGetter(n.filterValueGetter,a,e,t):this.isTreeData&&c?l=t.aggData[r]:this.isTreeData&&n.valueGetter?l=this.executeValueGetter(n.valueGetter,a,e,t):this.isTreeData&&o&&a?l=$e(a,o,e.isFieldContainsDots()):d?l=t.groupData[r]:c?l=t.aggData[r]:n.valueGetter?l=this.executeValueGetter(n.valueGetter,a,e,t):h?l=$e(a,t.field,e.isFieldContainsDots()):o&&a&&!u&&(l=$e(a,o,e.isFieldContainsDots())),this.cellExpressions&&"string"===typeof l&&0===l.indexOf("=")){const i=l.substring(1);l=this.executeValueGetter(i,a,e,t)}if(null==l){const i=this.getOpenedGroup(t,e);if(null!=i)return i}return l}parseValue(e,t,i,s){const n=e.getColDef(),o=n.valueParser;if(b(o)){const r=this.gos.addGridCommonParams({node:t,data:t?.data,oldValue:s,newValue:i,colDef:n,column:e});return"function"===typeof o?o(r):this.expressionService.evaluate(o,r)}return i}getDeleteValue(e,t){return b(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,i,s){let n,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=null;const a=e.getColDef();if(s?n=s:o&&(n=a.valueFormatter),n){const s=this.gos.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:a,column:e});r="function"===typeof n?n(s):this.expressionService.evaluate(n,s)}else if(a.refData)return a.refData[i]||"";return null==r&&Array.isArray(i)&&(r=i.join(", ")),r}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup"))return;if(!t.getColDef().showRowGroup)return;const i=t.getColDef().showRowGroup;let s=e.parent;for(;null!=s;){if(s.rowGroupColumn&&(!0===i||i===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}setValue(e,t,i,s){const n=this.columnModel.getColDefCol(t);if(!e||!n)return!1;S(e.data)&&(e.data={});const{field:o,valueSetter:r}=n.getColDef();if(S(o)&&S(r))return c("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(n,i))return c("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(n,e),newValue:i,colDef:n.getColDef(),column:n});let l;if(a.newValue=i,l=b(r)?"function"===typeof r?r(a):this.expressionService.evaluate(r,a):this.setValueUsingField(e.data,o,i,n.isFieldContainsDots()),void 0===l&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const d=this.getValue(n,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:d,value:d,source:s}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;"function"===typeof t&&this.getFrameworkOverrides().wrapOutgoing((()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})}))}setValueUsingField(e,t,i,s){if(!t)return!1;let n=!1;if(s){const s=t.split(".");let o=e;for(;s.length>0&&o;){const e=s.shift();0===s.length?(n=o[e]===i,n||(o[e]=i)):o=o[e]}}else n=e[t]===i,n||(e[t]=i);return!n}executeFilterValueGetter(e,t,i,s){const n=this.gos.addGridCommonParams({data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});return"function"===typeof e?e(n):this.expressionService.evaluate(e,n)}executeValueGetter(e,t,i,s){const n=i.getColId(),o=this.valueCache.getValue(s,n);if(void 0!==o)return o;const r=this.gos.addGridCommonParams({data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});let a;return a="function"===typeof e?e(r):this.expressionService.evaluate(e,r),this.valueCache.setValue(s,n,a),a}getValueCallback(e,t){const i=this.columnModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),s=e.getColDef().keyCreator;let n=i;if(s){n=s(this.gos.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data}))}return"string"===typeof n||null==n||(n=String(n),"[object Object]"===n&&c("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),n}},bd=class e{static applyGlobalGridOptions(t){if(!e.gridOptions)return t;let i={};return je(i,e.gridOptions,!0,!0),"deep"===e.mergeStrategy?je(i,t,!0,!0):i={...i,...t},e.gridOptions.context&&(i.context=e.gridOptions.context),t.context&&("deep"===e.mergeStrategy&&i.context&&je(t.context,i.context,!0,!0),i.context=t.context),i}};bd.gridOptions=void 0,bd.mergeStrategy="shallow";var Sd=bd;var yd=1,Rd=class{create(e,t,i,s,n){const o=function(e){const t={};return Object.entries(e).forEach((e=>{let[i,s]=e;const n=$l(i,s);t[i]=n})),t}(Sd.applyGlobalGridOptions(t)),r=o.gridId??String(yd++),a=this.getRegisteredModules(n,r),l=this.createBeansList(o.rowModelType,a,r),d=this.createProvidedBeans(e,o,n);if(!l)return void u("Failed to create grid.");const c=new an({providedBeanInstances:d,beanClasses:l,gridId:r,beanInitComparator:sl,beanDestroyComparator:nl,derivedBeans:[ja]});return this.registerModuleUserComponents(c,a),this.registerControllers(c,a),this.registerModuleApiFunctions(c,a),i(c),c.getBean("syncService").start(),s&&s(c),c.getBean("gridApi")}registerControllers(e,t){const i=e.getBean("ctrlsFactory");t.forEach((e=>{e.controllers&&e.controllers.forEach((e=>i.register(e)))}))}getRegisteredModules(e,t){const i=e?e.modules:null,s=on.__getRegisteredModules(t),n=[],o={},r=(e,t,i)=>{var s;o[(s=t).moduleName]||(o[s.moduleName]=!0,n.push(s),on.__register(s,e,i)),t.dependantModules&&t.dependantModules.forEach((t=>r(e,t,i)))};return r(!!i?.length||!on.__isPackageBased(),Ql,void 0),i&&i.forEach((e=>r(!0,e,t))),s&&s.forEach((e=>r(!on.__isPackageBased(),e,void 0))),n}registerModuleUserComponents(e,t){const i=this.extractModuleEntity(t,(e=>e.userComponents?e.userComponents:[])),s=e.getBean("userComponentRegistry");i.forEach((e=>{let{name:t,classImp:i,params:n}=e;s.registerDefaultComponent(t,i,n)}))}registerModuleApiFunctions(e,t){const i=e.getBean("apiFunctionService");t.forEach((e=>{const t=e.apiFunctions;if(t){Object.keys(t).forEach((e=>{i?.addFunction(e,t[e])}))}}))}createProvidedBeans(e,t,i){let s=i?i.frameworkOverrides:null;S(s)&&(s=new Ba);const n={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:s};return i&&i.providedBeanInstances&&Object.assign(n,i.providedBeanInstances),n}createBeansList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clientSide",t=arguments.length>2?arguments[2]:void 0;const i=(arguments.length>1?arguments[1]:void 0).filter((t=>!t.rowModel||t.rowModel===e)),s={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!s[e])return void u("Could not find row model for rowModelType = ",e);if(!on.__assertRegistered(s[e],`rowModelType = '${e}'`,t))return;const n=[dl,al,Jl,ql,Ka,xs,el,tl,ta,tn,ld,Zr,Zl,Da,hn,Et,fl,Yl,Ga,ud,rt,Vo,id,td,Fa,vd,nt,Jr,Cd,wd,Ra,ea,dn,Cl,Yr,gl,Ha,xa,jr,pd,od,nd,hd,fd,ia,$a,ad,dd,rl,wl,ll,ol,md,rd,sa,ed,sd,na,ht,Xa,pt,ct,Ya,Ja,St,ut,wt,Za,bt,Le],o=this.extractModuleEntity(i,(e=>e.beans?e.beans:[]));n.push(...o);const r=[];return n.forEach((e=>{r.indexOf(e)<0&&r.push(e)})),r}extractModuleEntity(e,t){return[].concat(...e.map(t))}},Ad=class extends Te{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};var Fd={version:wo,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:function(e){e.expansionService.expandAll(!0)},collapseAll:function(e){e.expansionService.expandAll(!1)},onRowHeightChanged:function(e){const t=e.rowModelHelperService?.getClientSideRowModel(),i=e.rowModelHelperService?.getServerSideRowModel();t?t.onRowHeightChanged():i&&i.onRowHeightChanged()}}},Ed={version:wo,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:function(e,t,i){const s=e.rowModelHelperService?.getServerSideRowModel();if(s)return e.funcColsService.isRowGroupEmpty()?void s.setRowCount(t,i):void u("setRowCount cannot be used while using row grouping.");const n=e.rowModelHelperService?.getInfiniteRowModel();n&&n.setRowCount(t,i)},getCacheBlockState:function(e){return e.rowNodeBlockLoader?.getBlockState()??{}},isLastRowIndexKnown:function(e){return e.rowModel.isLastRowIndexKnown()}}},Dd=class{wrap(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3?arguments[3]:void 0;const n=this.createWrapper(e,s);return t.forEach((e=>{this.createMethod(n,e,!0)})),i.forEach((e=>{this.createMethod(n,e,!1)})),n}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&c("Framework component is missing the method "+t+"()"),null)}}},Pd=class{};Pd.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"},Pd.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"],Pd.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var kd="undefined"===typeof global?{}:global;kd.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,kd.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,kd.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,kd.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,kd.Node="undefined"===typeof Node?{}:Node,kd.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent;var Td=class{constructor(e,t,i,s,n,o){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=i,this.funcColsService=s,this.beans=o,this.selectionService=n,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id="ROOT_NODE_ID",this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return Qe(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if("string"===typeof e)return void c("rowData must be an array.");this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,i=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map(((e,t)=>this.createNode(e,this.rootNode,0,t))):(t.allLeafChildren=[],t.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=t.childrenAfterFilter,i.childrenAfterGroup=t.childrenAfterGroup,i.childrenAfterAggFilter=t.childrenAfterAggFilter,i.childrenAfterSort=t.childrenAfterSort,i.childrenMapped=t.childrenMapped,i.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[];return this.executeRemove(e,t,i),this.executeUpdate(e,t,i),this.executeAdd(e,t),this.updateSelection(i,"rowDataChanged"),t}updateRowOrderFromRowData(e){const t=this.rootNode.allLeafChildren,i=t?.length??0,s=new Map;let n=-1,o=-1;for(let r=0;r<i;++r){const i=t[r],a=i.data;a!==e[r]&&(o<0&&(n=r),o=r,s.set(a,i))}if(n<0)return!1;for(let r=n;r<=o;++r){const i=s.get(e[r]);void 0!==i&&(t[r]=i,i.sourceRowIndex=r)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}updateSelection(e,t){const i=e.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const i=e.add;if(y(i))return;const s=this.rootNode.allLeafChildren;let n=s.length;if("number"===typeof e.addIndex&&(n=this.sanitizeAddIndex(e.addIndex),n>0)){if(this.gos.get("treeData"))for(let e=0;e<s.length;e++){const t=s[e];if(t?.rowIndex==n-1){n=e+1;break}}}const o=i.map(((e,t)=>this.createNode(e,this.rootNode,0,n+t)));if(n<s.length){const e=s.slice(0,n),i=s.slice(n,s.length),r=e.length+o.length;for(let t=0,s=i.length;t<s;++t)i[t].sourceRowIndex=r+t;this.rootNode.allLeafChildren=[...e,...o,...i],t.rowsInserted=!0}else this.rootNode.allLeafChildren=s.concat(o);const r=this.rootNode.sibling;r&&(r.allLeafChildren=s),t.rowNodeTransaction.add=o}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,t,i){let{rowNodeTransaction:s}=t;const{remove:n}=e;if(y(n))return;const o={};n.forEach((e=>{const t=this.lookupRowNode(e);t&&(t.isSelected()&&i.push(t),t.clearRowTopAndRowIndex(),o[t.id]=!0,delete this.allNodesMap[t.id],s.remove.push(t))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren?.filter((e=>!o[e.id]))??null,this.rootNode.allLeafChildren?.forEach(((e,t)=>{e.sourceRowIndex=t}));const r=this.rootNode.sibling;r&&(r.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,t,i){let{rowNodeTransaction:s}=t;const{update:n}=e;y(n)||n.forEach((e=>{const t=this.lookupRowNode(e);t&&(t.updateData(e),!t.selectable&&t.isSelected()&&i.push(t),this.setMasterForRow(t,e,0,!1),s.update.push(t))}))}lookupRowNode(e){const t=te(this.gos);let i;if(t){const s=t({data:e,level:0});if(i=this.allNodesMap[s],!i)return u(`could not find row id=${s}, data item was not found for this id`),null}else if(i=this.rootNode.allLeafChildren?.find((t=>t.data===e)),!i)return u("could not find data item as object was not found",e),u("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(e,t,i,s){const n=new wn(this.beans);return n.sourceRowIndex=s,n.group=!1,this.setMasterForRow(n,e,i,!0),t&&(n.parent=t),n.level=i,n.setDataAndId(e,this.nextId.toString()),this.allNodesMap[n.id]&&c(`duplicate node id '${n.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[n.id]=n,this.nextId++,n}setMasterForRow(e,t,i,s){if(this.gos.get("treeData"))e.setMaster(!1),s&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const i=this.gos.get("isRowMaster");i?e.setMaster(i(t)):e.setMaster(!0)}else e.setMaster(!1);if(s){const t=this.funcColsService.getRowGroupColumns(),s=i+(t?t.length:0);e.expanded=!!e.master&&this.isExpanded(s)}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return-1===t||e<t}};var Md="32.2.1",xd={version:Md,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[class extends Te{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=v(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new wn(this.beans),this.nodeManager=new Td(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),s=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),n=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),o=new Set(["postSortRows","groupDisplayType","accentedSort"]),r=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...i,...s,...s,...n,...o,...r,...a];this.addManagedPropertyListeners(l,(l=>{const d=l.changeSet?.properties;if(!d)return;const c=e=>d.some((t=>e.has(t)));c(e)?this.setRowData(this.rootNode.allLeafChildren.map((e=>e.data))):c(t)?this.refreshModel({step:"group"}):c(i)?this.refreshModel({step:"filter"}):c(s)?this.refreshModel({step:"pivot"}):c(n)?this.refreshModel({step:"aggregate"}):c(o)?this.refreshModel({step:"sort"}):c(r)?this.refreshModel({step:"filter_aggregates"}):c(a)&&this.refreshModel({step:"map"})})),this.addManagedPropertyListener("rowHeight",(()=>this.resetRowHeights()))}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,s){let n,o=!1;do{n=!1;const r=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(r,i),d=Math.min(a,s);for(let e=l;e<=d;e++){const t=this.getRow(e);if(t.rowHeightEstimated){const e=N(this.gos,t);t.setRowHeight(e.height),n=!0,o=!0}}n&&this.setRowTopAndRowIndex()}while(n);return o}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,s=I(this.gos,"normal");for(let n=0;n<this.rowsToDisplay.length;n++){const o=this.rowsToDisplay[n];if(null!=o.id&&i.add(o.id),null==o.rowHeight){const t=N(this.gos,o,s,e);o.setRowHeight(t.height,t.estimated)}o.setRowTop(t),o.setRowIndex(n),t+=o.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),s=e=>{e&&null!=e.id&&!t.has(e.id)&&e.clearRowTopAndRowIndex()},n=e=>{if(s(e),s(e.detailNode),s(e.sibling),e.hasChildren()&&e.childrenAfterGroup){const t=-1==e.level;i&&!t&&!e.expanded||e.childrenAfterGroup.forEach(n)}};n(this.rootNode)}ensureRowsAtPixel(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=this.getRowIndexAtPixel(t),n=this.getRow(s),o=!this.gos.get("suppressAnimationFrame");if(n===e[0])return!1;const r=this.rootNode.allLeafChildren;return e.forEach((e=>{ve(r,e)})),e.forEach(((e,t)=>{Ce(r,e,Math.max(s+i,0)+t)})),e.forEach(((e,t)=>{e.sourceRowIndex=t})),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:o,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){const i=null!=t?this.getRowIndexAtPixel(t):null,s=null!=i?this.getRow(i):null;if(!s||!e||s===e||null==t)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const n=this.getHighlightPosition(t,s);this.lastHighlightedRow&&this.lastHighlightedRow!==s&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),s.setHighlighted(n),this.lastHighlightedRow=s}getHighlightPosition(e,t){if(!t){const i=this.getRowIndexAtPixel(e);if(!(t=this.getRow(i||0)))return 1}const{rowTop:i,rowHeight:s}=t;return e-i<s/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(0===this.rowsToDisplay.length)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const e=this.rootNode.childrenAfterAggFilter,t=this.rootNode.sibling?1:0;return(e?e.length:0)+t}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let t=e;if(this.rowsToDisplay[0].footer){if(0===e)return 0;t-=1}const i=this.rowsToDisplay[this.rowsToDisplay.length-1],s=t>=this.rootNode.childrenAfterSort.length;if(i.footer&&s)return i.rowIndex;let n=this.rootNode.childrenAfterSort[t];if(this.gos.get("groupHideOpenParents"))for(;n.expanded&&n.childrenAfterSort&&n.childrenAfterSort.length>0;)n=n.childrenAfterSort[0];return n.rowIndex}getRowBounds(e){if(S(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=K(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=K(this.gos),i=0===e.columns.length||e.columns.some((e=>e.isPrimary()))?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=K(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=y(e),i=new cd(!1,this.rootNode);return t&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;if(null==e.rowNodeTransactions)return!1;const t=e.rowNodeTransactions.filter((e=>null!=e.add&&e.add.length>0||null!=e.remove&&e.remove.length>0));return null==t||0==t.length}buildRefreshModelParams(e){let t="group";const i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(b(e)&&(t=i[e]),S(t))return void u(`invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`);return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gos.get("suppressAnimationFrame")}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t="object"===typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(!t)return;if(this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,i,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(t.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}const s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,s),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=S(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return S(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return b(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,s=!1;const n=[],o=he(this.gos);return this.forEachNodeAfterFilterAndSort((r=>{if(s)return;if(i&&(r===t||r===e)&&(s=!0,r.group&&o))return void n.push(...r.allLeafChildren);if(!i){if(r!==t&&r!==e)return;i=!0}(!r.group||!o)&&n.push(r)})),n}setDatasource(e){u("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(pe(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let s=-1,n=-1;for(;;){const o=Math.floor((t+i)/2),r=this.rowsToDisplay[o];if(this.isRowInPixel(r,e))return o;r.rowTop<e?t=o+1:r.rowTop>e&&(i=o-1);if(s===t&&n===i)return o;s=t,n=i}}isRowInPixel(e,t){const i=e.rowTop,s=e.rowTop+e.rowHeight;return i<=t&&s>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(((t,i)=>e(t,i)))}forEachNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:i,recursionType:s,includeFooterNodes:n}=e;let{index:o}=e;const r=e=>{const s=t[0]?.parent;if(!s)return;const r=n&&Y(this.gos),a=J(this.gos),l=n&&a({node:s});s===this.rootNode?r===e&&(s.createFooter(),i(s.sibling,o++)):l===e&&(s.createFooter(),i(s.sibling,o++))};r("top");for(let a=0;a<t.length;a++){const e=t[a];if(i(e,o++),e.hasChildren()&&!e.footer){let t=null;switch(s){case 0:t=e.childrenAfterGroup;break;case 1:t=e.childrenAfterAggFilter;break;case 2:t=e.childrenAfterSort;break;case 3:t=e.leafGroup?null:e.childrenAfterSort}t&&(o=this.recursivelyWalkNodesAndCallback({nodes:[...t],callback:i,recursionType:s,index:o,includeFooterNodes:n}))}}return r("bottom"),o}doAggregate(e){this.aggregationStage?.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),s=n=>{n&&n.forEach((n=>{const o=()=>{n.expanded=e,s(n.childrenAfterGroup)};if(t){return void(b(n.childrenAfterGroup)&&o())}if(i){return void(!n.leafGroup&&o())}n.group&&o()}))};this.rootNode&&s(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,s){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:i,changedPath:t}):this.groupStage.execute({rowNode:this.rootNode,changedPath:t,afterColumnsChanged:s}),he(this.gos)){this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"})}}else{const e=this.rootNode,t=e.sibling;e.childrenAfterGroup=e.allLeafChildren,t&&(t.childrenAfterGroup=e.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if("string"==typeof e&&0==e.indexOf(wn.ID_PREFIX_ROW_GROUP)){let t;return this.forEachNode((i=>{i.id===e&&(t=i)})),t}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const e=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout((()=>{this.isAlive()&&this.executeBatchUpdateRowData()}),e)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let i=!1;this.rowDataTransactionBatch?.forEach((s=>{const{rowNodeTransaction:n,rowsInserted:o}=this.nodeManager.updateRowData(s.rowDataTransaction);o&&(i=!0),t.push(n),s.callback&&e.push(s.callback.bind(null,n))})),this.commonUpdateRowData(t,i),e.length>0&&window.setTimeout((()=>{e.forEach((e=>e()))}),0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:t,rowsInserted:i}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],i),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;const i=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode((t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0})),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}},class extends Te{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const i=(t,i)=>{t.hasChildren()?t.childrenAfterFilter=e&&!i?t.childrenAfterGroup.filter((e=>{const t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,i=e.data&&this.filterManager.doesRowPassFilter({rowNode:e});return t||i})):t.childrenAfterGroup:t.childrenAfterFilter=t.childrenAfterGroup,t.sibling&&(t.sibling.childrenAfterFilter=t.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const e=(t,s)=>{if(t.childrenAfterGroup)for(let n=0;n<t.childrenAfterGroup.length;n++){const o=t.childrenAfterGroup[n],r=s||this.filterManager.doesRowPassFilter({rowNode:o});o.childrenAfterGroup?e(t.childrenAfterGroup[n],r):i(o,r)}i(t,s)},s=t=>e(t,!1);t.executeFromRootNode(s)}else{const e=e=>i(e,!1);t.forEachChangedNodeDepthFirst(e,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},class extends Te{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),i=b(t)&&t.length>0,s=i&&b(e.rowNodeTransactions)&&this.gos.get("deltaSort"),n=t.some((e=>$(this.gos)?e.column.isPrimary()&&e.column.isRowGroupActive():!!e.column.getColDef().showRowGroup));this.sortService.sort(t,i,s,e.rowNodeTransactions,e.changedPath,n)}},class extends Te{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,i=[],s=this.columnModel.isPivotMode(),n=s&&t.leafGroup,o=n?[t]:t.childrenAfterSort,r=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(r,o,i,s,0);if(!n&&i.length>0&&r.grandTotalRow){t.createFooter();const e="top"===r.grandTotalRow;this.addRowNodeToRowsToDisplay(r,t.sibling,i,0,e)}return i}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:Z(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:Y(this.gos),groupTotalRow:J(this.gos)}}recursivelyAddToRowsToDisplay(e,t,i,s,n){if(!y(t))for(let o=0;o<t.length;o++){const r=t[o],a=r.hasChildren(),l=s&&!a,d=e.groupRemoveSingleChildren&&a&&1===r.childrenAfterGroup.length,c=e.groupRemoveLowestSingleChildren&&a&&r.leafGroup&&1===r.childrenAfterGroup.length,u=s&&r.leafGroup,h=e.hideOpenParents&&r.expanded&&!r.master&&!u;if(!l&&!h&&!d&&!c&&this.addRowNodeToRowsToDisplay(e,r,i,n),!s||!r.leafGroup)if(a){const t=d||c;if(r.expanded||t){const o=e.groupTotalRow({node:r});o||r.destroyFooter();const a=t?n:n+1;"top"===o&&(r.createFooter(),this.addRowNodeToRowsToDisplay(e,r.sibling,i,a)),this.recursivelyAddToRowsToDisplay(e,r.childrenAfterSort,i,s,a),"bottom"===o&&(r.createFooter(),this.addRowNodeToRowsToDisplay(e,r.sibling,i,a))}}else if(r.master&&r.expanded){const t=this.createDetailNode(r);this.addRowNodeToRowsToDisplay(e,t,i,n)}}}addRowNodeToRowsToDisplay(e,t,i,s,n){n?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:s)}createDetailNode(e){if(b(e.detailNode))return e.detailNode;const t=new wn(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,b(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},class extends Te{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,i,s,n,o){const r=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some((e=>e.isRowGroupActive()));let l={};i&&s&&(l=this.calculateDirtyNodes(s));const d=this.columnModel.isPivotMode(),c=this.gos.getCallback("postSortRows"),u=s=>{this.pullDownGroupDataForHideOpenParents(s.childrenAfterAggFilter,!0);const u=d&&s.leafGroup;if(r&&a&&!s.leafGroup&&!o){const e=this.funcColsService.getRowGroupColumns()?.[s.level+1],t=null===e?.getSort(),i=s.childrenAfterAggFilter.slice(0);if(s.childrenAfterSort&&!t){const e={};s.childrenAfterSort.forEach(((t,i)=>{e[t.id]=i})),i.sort(((t,i)=>(e[t.id]??0)-(e[i.id]??0)))}s.childrenAfterSort=i}else s.childrenAfterSort=!t||u?s.childrenAfterAggFilter.slice(0):i?this.doDeltaSort(s,l,n,e):this.rowNodeSorter.doFullSort(s.childrenAfterAggFilter,e);if(s.sibling&&(s.sibling.childrenAfterSort=s.childrenAfterSort),this.updateChildIndexes(s),c){const e={nodes:s.childrenAfterSort};c(e)}};n&&n.forEachChangedNodeDepthFirst(u),this.updateGroupDataForHideOpenParents(n)}calculateDirtyNodes(e){const t={},i=e=>{e&&e.forEach((e=>t[e.id]=!0))};return e&&e.forEach((e=>{i(e.add),i(e.update),i(e.remove)})),t}doDeltaSort(e,t,i,s){const n=e.childrenAfterAggFilter,o=e.childrenAfterSort;if(!o)return this.rowNodeSorter.doFullSort(n,s);const r={},a=[];n.forEach((e=>{t[e.id]||!i.canSkip(e)?a.push(e):r[e.id]=!0}));const l=o.filter((e=>r[e.id])),d=(e,t)=>({currentPos:t,rowNode:e}),c=a.map(d).sort(((e,t)=>this.rowNodeSorter.compareRowNodes(s,e,t)));return this.mergeSortedArrays(s,c,l.map(d)).map((e=>{let{rowNode:t}=e;return t}))}mergeSortedArrays(e,t,i){const s=[];let n=0,o=0;for(;n<t.length&&o<i.length;){this.rowNodeSorter.compareRowNodes(e,t[n],i[o])<0?s.push(t[n++]):s.push(i[o++])}for(;n<t.length;)s.push(t[n++]);for(;o<i.length;)s.push(i[o++]);return s}updateChildIndexes(e){if(S(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const s=t[i],n=0===i,o=i===e.childrenAfterSort.length-1;s.setFirstChild(n),s.setLastChild(o),s.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return c("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=e=>{this.pullDownGroupDataForHideOpenParents(e.childrenAfterSort,!1),e.childrenAfterSort.forEach((e=>{e.hasChildren()&&t(e)}))};e&&e.executeFromRootNode((e=>t(e)))}pullDownGroupDataForHideOpenParents(e,t){this.gos.get("groupHideOpenParents")&&!S(e)&&e.forEach((e=>{(this.showRowGroupColsService?.getShowRowGroupCols()??[]).forEach((i=>{const s=i.getColDef().showRowGroup;if("string"!==typeof s)return void u("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const n=s,o=this.columnModel.getColDefCol(n);if(!(o===e.rowGroupColumn))if(t)e.setGroupValue(i.getId(),void 0);else{const t=this.getFirstChildOfFirstChild(e,o);t&&e.setGroupValue(i.getId(),t.key)}}))}))}getFirstChildOfFirstChild(e,t){let i=e;for(;i;){const e=i.parent;if(!e||!i.firstChild)return null;if(e.rowGroupColumn===t)return e;i=e}return null}},class extends Te{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){M(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",(()=>this.onRowDataUpdated())))}isActive(){const e=this.gos.exists("getRowId");return!this.gos.get("resetRowDataOnUpdate")&&e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const i=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:s,rowsInserted:n}=i.updateRowData(t);let o=!1;this.gos.get("suppressMaintainUnsortedOrder")||(o=i.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(s,o||n)}createTransactionForRowData(e){if(!M(this.gos))return u("ImmutableService only works with ClientSideRowModel"),null;const t=te(this.gos);if(null==t)return u("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const i=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),s=[],n=[],o=[];return b(e)&&e.forEach((e=>{const s=t({data:e,level:0}),r=i[s];if(r){r.data!==e&&n.push(e),i[s]=void 0}else o.push(e)})),Ue(i,((e,t)=>{t&&s.push(t.data)})),{remove:s,update:n,add:o}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}}]},Id={version:Md,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[xd,{version:Md,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[Ad],apiFunctions:{onGroupExpandedOrCollapsed:function(e){e.expansionService.onGroupExpandedOrCollapsed()},refreshClientSideRowModel:function(e,t){e.rowModelHelperService?.getClientSideRowModel()?.refreshModel(t)},isRowDataEmpty:function(e){return e.rowModelHelperService?.getClientSideRowModel()?.isEmpty()??!0},forEachLeafNode:function(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(t)},forEachNodeAfterFilter:function(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(t)},forEachNodeAfterFilterAndSort:function(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(t)},resetRowHeights:function(e){e.columnModel.isAutoRowHeightActive()?c("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height."):e.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights()},applyTransaction:function(e,t){return e.frameworkOverrides.wrapIncoming((()=>e.rowModelHelperService?.getClientSideRowModel()?.updateRowData(t)))},applyTransactionAsync:function(e,t,i){e.frameworkOverrides.wrapIncoming((()=>e.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(t,i)))},flushAsyncTransactions:function(e){e.frameworkOverrides.wrapIncoming((()=>e.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions()))},getBestCostNodeSelection:function(e){return e.selectionService.getBestCostNodeSelection()}},dependantModules:[xd,Fd]}]},Ld=class extends Te{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},Od=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:i,columnNameService:s,valueService:n,gos:o,processCellCallback:r,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:d}=e;this.columnModel=t,this.funcColsService=i,this.columnNameService=s,this.valueService=n,this.gos=o,this.processCellCallback=r,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=d}prepare(e){this.groupColumns=e.filter((e=>!!e.getColDef().showRowGroup))}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,s,n){const o=this.gos.get("groupHideOpenParents")&&!n.footer||!this.shouldRenderGroupSummaryCell(n,e,t)?this.valueService.getValue(e,n):this.createValueForGroupNode(e,n);return this.processCell({accumulatedRowIndex:i,rowNode:n,column:e,value:o,processCellCallback:this.processCellCallback,type:s})}shouldRenderGroupSummaryCell(e,t,i){if(!(e&&e.group))return!1;if(-1!==this.groupColumns.indexOf(t)){if(null!=e.groupData?.[t.getId()])return!0;if(x(this.gos)&&e.group)return!0;if(e.footer&&-1===e.level){const e=t.getColDef();return null==e||!0===e.showRowGroup||e.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const s=ee(this.gos,this.columnModel.isPivotMode());return 0===i&&s}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const i=this.gos.get("treeData"),s=this.gos.get("suppressGroupMaintainValueType"),n=t=>{if(i||s)return t.key;const n=t.groupData?.[e.getId()];return n&&t.rowGroupColumn&&!1!==t.rowGroupColumn.getColDef().useValueFormatterForExport?this.valueService.formatValue(t.rowGroupColumn,t,n)??n:n},o=t.footer,r=[n(t)];if(!Z(this.gos))for(;t.parent;)t=t.parent,r.push(n(t));const a=r.reverse().join(" -> ");return o?`Total ${a}`:a}processCell(e){const{accumulatedRowIndex:t,rowNode:i,column:s,value:n,processCellCallback:o,type:r}=e;return o?{value:o(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:s,node:i,value:n,type:r,parseValue:e=>this.valueService.parseValue(s,i,e,this.valueService.getValue(s,i)),formatValue:e=>this.valueService.formatValue(s,i,e)??e}))??""}:!1!==s.getColDef().useValueFormatterForExport?{value:n??"",valueFormatted:this.valueService.formatValue(s,i,n)}:{value:n??""}}},Vd=class{static download(e,t){const i=document.defaultView||window;if(!i)return void c("There is no `window` associated with the current `document`");const s=document.createElement("a"),n=i.URL.createObjectURL(t);s.setAttribute("href",n),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(s),i.setTimeout((()=>{i.URL.revokeObjectURL(n)}),0)}},Nd=class extends Od{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&("string"===typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach((e=>{this.beginNewLine(),e.forEach(((e,t)=>{0!==t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e.data.value||""),e.mergeAcross&&this.appendEmptyCells(e.mergeAcross)}))})))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,s){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(s)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){0!=t&&(this.result+=this.columnSeparator);const s=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(s.valueFormatted??s.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(null===e||void 0===e)return'""';let t;"string"===typeof e?t=e:"function"===typeof e.toString?t=e.toString():(c("unknown value type during csv conversion"),t="");return'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}};var Gd="32.2.1",_d={version:Gd,moduleName:"@ag-grid-community/csv-export-core",beans:[class extends Ld{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed())return void c("Export cancelled. Export is not allowed as per your configuration.");const t=this.getMergedParams(e),i=this.getData(t),s=new Blob(["\ufeff",i],{type:"text/plain"}),n="function"===typeof t.fileName?t.fileName(this.gos.getGridCommonParams()):t.fileName;Vd.download(this.getFileName(n),s)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Object.assign({},e):this.getMergedParams(e);return this.getData(t)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:i,funcColsService:s,valueService:n,gos:o}=this,{processCellCallback:r,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:d,suppressQuotes:c,columnSeparator:u}=e;return new Nd({columnModel:t,columnNameService:i,funcColsService:s,valueService:n,gos:o,processCellCallback:r||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:d||void 0,suppressQuotes:c||!1,columnSeparator:u||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}},class extends Te{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allColumns:i,columnKeys:s,skipRowGroups:n}=t,o=this.getColumnsToExport(i,n,s),r=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return e=>t.reduce(((e,t)=>t(e)),e)}(this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t));return r(e).parse()}processRow(e,t,i,s){const n=t.shouldRowBeSkipped||(()=>!1),o=this.gos.get("groupRemoveSingleChildren"),r=this.gos.get("groupRemoveLowestSingleChildren"),a=null!=t.rowPositions||!!t.onlySelected,l=this.gos.get("groupHideOpenParents")&&!a,d=this.columnModel.isPivotMode()?s.leafGroup:!s.group,c=!!s.footer,u=r&&s.leafGroup,h=1===s.allChildrenCount&&1===s.childrenAfterGroup?.length&&(o||u);if(!d&&!c&&(t.skipRowGroups||h||l)||t.onlySelected&&!s.isSelected()||t.skipPinnedTop&&"top"===s.rowPinned||t.skipPinnedBottom&&"bottom"===s.rowPinned)return;if(-1===s.level&&!d&&!c)return;if(n(this.gos.addGridCommonParams({node:s})))return;const g=e.onNewBodyRow(s);if(i.forEach(((e,t)=>{g.onColumn(e,t,s)})),t.getCustomContentBelowRow){const i=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:s}));i&&e.addCustomContent(i)}}appendContent(e){return t=>{const i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{const i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){const s=new Ft,n=this.visibleColsService.createGroups({columns:t,idCreator:s,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(n,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){const e=i.onNewHeaderRow();t.forEach(((t,i)=>{e.onColumn(t,i,void 0)}))}return i}}processPinnedTopRows(e,t){return i=>{const s=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter((e=>"top"===e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>this.pinnedRowModel.getPinnedTopRow(e.rowIndex))).forEach(s):this.pinnedRowModel.forEachPinnedRow("top",s),i}}processRows(e,t){return i=>{const s=this.rowModel,n=M(this.gos),o=x(this.gos),r=!n&&e.onlySelected,a=this.processRow.bind(this,i,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter((e=>null==e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>s.getRow(e.rowIndex))).forEach(a);else if(this.columnModel.isPivotMode())n?s.forEachPivotNode(a,!0):o?s.forEachNodeAfterFilterAndSort(a,!0):s.forEachNode(a);else if(e.onlySelectedAllPages||r){const e=this.selectionService.getSelectedNodes();this.replicateSortedOrder(e),e.forEach(a)}else"all"===l?s.forEachNode(a):n||o?s.forEachNodeAfterFilterAndSort(a,!0):s.forEachNode(a);return i}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),i=(e,s)=>null!=e.rowIndex&&null!=s.rowIndex?e.rowIndex-s.rowIndex:e.level===s.level?e.parent?.id===s.parent?.id?this.rowNodeSorter.compareRowNodes(t,{rowNode:e,currentPos:e.rowIndex??-1},{rowNode:s,currentPos:s.rowIndex??-1}):i(e.parent,s.parent):e.level>s.level?i(e.parent,s):i(e,s.parent);e.sort(i)}processPinnedBottomRows(e,t){return i=>{const s=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter((e=>"bottom"===e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>this.pinnedRowModel.getPinnedBottomRow(e.rowIndex))).forEach(s):this.pinnedRowModel.forEachPinnedRow("bottom",s),i}}getColumnsToExport(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;const s=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getColsForKeys(i);const n=this.gos.get("treeData");let o=[];return o=e&&!s?this.columnModel.getCols():this.visibleColsService.getAllCols(),t&&!n&&(o=o.filter((e=>_e(e)||Be(e)))),o}recursivelyAddHeaderGroups(e,t,i){const s=[];e.forEach((e=>{const t=e;t.getChildren&&t.getChildren().forEach((e=>s.push(e)))})),e.length>0&&Rt(e[0])&&this.doAddHeaderHeader(t,e,i),s&&s.length>0&&this.recursivelyAddHeaderGroups(s,t,i)}doAddHeaderHeader(e,t,i){const s=e.onNewHeaderGroupingRow();let n=0;t.forEach((e=>{const t=e;let o;o=i?i(this.gos.addGridCommonParams({columnGroup:t})):this.columnNameService.getDisplayNameForColumnGroup(t,"header");const r=t.getLeafColumns().reduce(((e,t,i,s)=>{let n=pe(e);return"open"===t.getColumnGroupShow()?n&&null==n[1]||(n=[i],e.push(n)):n&&null==n[1]&&(n[1]=i-1),i===s.length-1&&n&&null==n[1]&&(n[1]=i),e}),[]);s.onColumn(t,o||"",n++,t.getLeafColumns().length-1,r)}))}}]},Bd={version:Gd,moduleName:"@ag-grid-community/csv-export",dependantModules:[_d,{version:Gd,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:function(e,t){return e.csvCreator?.getDataAsCsv(t)},exportDataAsCsv:function(e,t){e.csvCreator?.exportDataAsCsv(t)}},dependantModules:[_d]}]};var Hd=async e=>{const t=new Blob([e]),{size:i,content:s}=await(async e=>{let t=0;const i=[],s=new WritableStream({write:e=>{i.push(e),t+=e.length}}),n=new ReadableStream({start:t=>{const i=new FileReader;i.onload=e=>{e.target?.result&&t.enqueue(e.target.result),t.close()},i.readAsArrayBuffer(e)}}),o=new window.CompressionStream("deflate-raw");return await n.pipeThrough(o).pipeTo(s),{size:t,content:new Blob(i)}})(t);return{size:i,content:new Uint8Array(await s.arrayBuffer())}};function Wd(e,t){let i="";for(let s=0;s<t;s++)i+=String.fromCharCode(255&e),e>>>=8;return i}var zd=e=>{if(!e.length)return 0;let t=~0,i=0,s=0,n=0;for(let o=0;o<e.length;o++)i=e[o],s=255&(t^i),n=Qd[s],t=t>>>8^n;return~t},Ud=e=>e.length?zd("string"===typeof e?(new TextEncoder).encode(e):e):0,Qd=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),qd=(e,t,i,s,n,o)=>{const{content:r,path:a,created:l}=e,d=(e=>{let t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2,t})(l),c=(e=>{let t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate(),t})(l),u=Ud(n),h=void 0!==o?o:s,g=vt(a),p=g!==a;let m="";if(p){const e=Wd(1,1)+Wd(Ud(g),4)+g;m="up"+Wd(e.length,2)+e}const f="\x14\0"+(p?"\0\b":"\0\0")+Wd(t?8:0,2)+Wd(d,2)+Wd(c,2)+Wd(h?u:0,4)+Wd(o??s,4)+Wd(s,4)+Wd(g.length,2)+Wd(m.length,2),v="PK\x03\x04"+f+g+m,C="PK\x01\x02\x14\0"+f+"\0\0\0\0\0\0"+(r?"\0\0\0\0":"\x10\0\0\0")+Wd(i,4)+g+m;return{localFileHeader:Uint8Array.from(v,(e=>e.charCodeAt(0))),centralDirectoryHeader:Uint8Array.from(C,(e=>e.charCodeAt(0)))}},Kd=e=>{let t;if("string"===typeof e){const i=atob(e.split(";base64,")[1]);t=Uint8Array.from(i,(e=>e.charCodeAt(0)))}else t=e;return{size:t.length,content:t}},jd=async(e,t)=>{const{content:i}=e,{size:s,content:n}=i?Kd(i):{size:0,content:Uint8Array.from([])};let o,r,a=!1;if("file"===e.type&&n&&s>0){const e=await Hd(n);o=e.content,r=e.size,a=!0}return{...qd(e,a,t,s,n,r),content:o||n,isCompressed:a}},$d=(e,t)=>{const{content:i}=e,{content:s}=i?Kd(i):{content:Uint8Array.from([])};return{...qd(e,!1,t,s.length,s,void 0),content:s,isCompressed:!1}},Xd=class{static addFolders(e){e.forEach(this.addFolder.bind(this))}static addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}static addFile(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.files.push({path:e,created:new Date,content:i?t:(new TextEncoder).encode(t),isBase64:i,type:"file"})}static async getZipFile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/zip";const t=await this.buildCompressedFileStream();return this.clearStream(),new Blob([t],{type:e})}static getUncompressedZipFile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/zip";const t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(e){let t=0,i=0;for(const d of e){const{localFileHeader:e,centralDirectoryHeader:s,content:n}=d;t+=e.length+n.length,i+=s.length}const s=new Uint8Array(t),n=new Uint8Array(i);let o=0,r=0;for(const d of e){const{localFileHeader:e,centralDirectoryHeader:t,content:i}=d;s.set(e,o),o+=e.length,s.set(i,o),o+=i.length,n.set(t,r),r+=t.length}const a=((e,t,i)=>{const s="PK\x05\x06\0\0\0\0"+Wd(e,2)+Wd(e,2)+Wd(t,4)+Wd(i,4)+"\0\0";return Uint8Array.from(s,(e=>e.charCodeAt(0)))})(e.length,i,t),l=new Uint8Array(s.length+n.length+a.length);return l.set(s),l.set(n,s.length),l.set(a,s.length+n.length),l}static async buildCompressedFileStream(){const e=[...this.folders,...this.files],t=[];let i=0;for(const s of e){const e=await jd(s,i),{localFileHeader:n,content:o}=e;t.push(e),i+=n.length+o.length}return this.packageFiles(t)}static buildFileStream(){const e=[...this.folders,...this.files],t=[];let i=0;for(const s of e){const e=$d(s,i),{localFileHeader:n,content:o}=e;t.push(e),i+=n.length+o.length}return this.packageFiles(t)}};Xd.folders=[],Xd.files=[];var Yd=class extends ka{wireBeans(e){this.beans=e}constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){b(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();S(this.params.datasource.getRows)?c("datasource is missing getRows method"):window.setTimeout((()=>{this.params.datasource.getRows(e)}),0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,i){this.rowNodes.forEach(((s,n)=>{this.startRow+n<i&&e(s,t.next())}))}getLastAccessed(){return this.lastAccessed}getRow(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(this.lastAccessed=this.params.lastAccessedSequence.next());const t=e-this.startRow;return this.rowNodes[t]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,i=new wn(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach(((t,i)=>{const s=e.rowData?e.rowData[i]:void 0;!t.id&&t.alreadyRendered&&s&&(this.rowNodes[i]=new wn(this.beans),this.rowNodes[i].setRowIndex(t.rowIndex),this.rowNodes[i].setRowTop(t.rowTop),this.rowNodes[i].setRowHeight(t.rowHeight),t.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[i],s,this.startRow+i)}));const t=null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach((e=>{e.clearRowTopAndRowIndex()})),super.destroy()}},Jd=class extends Te{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Math.floor(e/this.params.blockSize);let s=this.blocks[i];if(!s){if(t)return;s=this.createBlock(i)}return s.getRow(e)}createBlock(e){const t=this.createBean(new Yd(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach((e=>e.setStateWaitingToLoad())),this.params.rowNodeBlockLoader.checkBlockToLoad())}destroy(){this.getBlocksInOrder().forEach((e=>this.destroyBlock(e))),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&d(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter((t=>t!=e));t.sort(((e,t)=>t.getLastAccessed()-e.getLastAccessed()));const i=this.params.maxBlocksInCache>0,s=i?this.params.maxBlocksInCache-1:null;t.forEach(((e,t)=>{if("needsLoading"===e.getState()&&t>=1||!!i&&t>=s){if(this.isBlockCurrentlyDisplayed(e))return;if(this.isBlockFocused(e))return;this.removeBlockFromCache(e)}}))}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;const i=e.getStartRow(),s=e.getEndRow();return t.rowIndex>=i&&t.rowIndex<s}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,i)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if("number"===typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const t=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<t&&(this.rowCount=t)}}setRowCount(e,t){this.rowCount=e,b(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new $i;this.getBlocksInOrder().forEach((i=>i.forEachNode(e,t,this.rowCount)))}getBlocksInOrder(){return Ke(this.blocks).sort(((e,t)=>e.getId()-t.getId()))}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach((t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)})),e.length>0&&e.forEach((e=>this.destroyBlock(e)))}purgeCache(){this.getBlocksInOrder().forEach((e=>this.removeBlockFromCache(e))),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const i=[];let s=-1,n=!1;const o=new $i;let r=!1;this.getBlocksInOrder().forEach((a=>{r||(n&&s+1!==a.getId()?r=!0:(s=a.getId(),a.forEachNode((s=>{const o=s===e||s===t;(n||o)&&i.push(s),o&&(n=!n)}),o,this.rowCount)))}));return r||n?[]:i}};var Zd="32.2.1",ec={version:Zd,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[class extends Te{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){"infinite"===this.gos.get("rowModelType")&&(this.rowHeight=G(this.gos),this.addEventListeners(),this.addDestroyFunc((()=>this.destroyCache())),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&c("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",(()=>this.setDatasource(this.gos.get("datasource")))),this.addManagedPropertyListener("cacheBlockSize",(()=>this.resetCache())),this.addManagedPropertyListener("rowHeight",(()=>{this.rowHeight=G(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()}))}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;e=!this.cacheParams||this.isSortModelDifferent(),e&&this.reset()}isSortModelDifferent(){return!D(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;null!=te(this.gos)||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager?.getFilterModel()??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:G(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new $i},this.infiniteCache=this.createBean(new Jd(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode((e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)})),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode((i=>{i.id===e&&(t=i)})),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(0!==this.rowHeight){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}}],dependantModules:[Ta]},tc={version:Zd,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[ec,{version:Zd,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[Ad],apiFunctions:{refreshInfiniteCache:function(e){e.rowModelHelperService?.getInfiniteRowModel()?.refreshCache()},purgeInfiniteCache:function(e){e.rowModelHelperService?.getInfiniteRowModel()?.purgeCache()},getInfiniteRowCount:function(e){return e.rowModelHelperService?.getInfiniteRowModel()?.getRowCount()}},dependantModules:[ec,Ed]}]};(e=>{const t=new Map})((e=>{if(/Color$/.test(e))return"color";if(/Scale?$/.test(e))return"scale";if("spacing"===e||/(Padding|Spacing|Size|Width|Height|Radius|Indent|Start|End|Top|Bottom|Horizontal|Vertical)$/.test(e))return"length";if(/Border$/.test(e))return"border";if(/BorderStyle$/.test(e))return"borderStyle";if(/Shadow$/.test(e))return"shadow";if(/Image$/.test(e))return"image";if(/Family$/.test(e))return"fontFamily";if(/Weight$/.test(e))return"fontWeight";if(/Duration$/.test(e))return"duration";if(/ColorScheme$/.test(e))return"colorScheme";throw new Error(`"${e}" is not a valid theme parameter.`)})),"object"!==typeof window||!window||"object"!==typeof document||(window.document,document);on.__registerModules([Ql,Id,tc,Bd],!1,void 0);var ic=i(950),sc=s.createContext({}),nc=(e,t,i,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const n=e.newAgStackInstance();if(null==n)return;let o,r,a=!1;return n.then((e=>{a?t.destroyBean(e):(o=e,r=o.getGui(),i.appendChild(r),oc(s,o))})),()=>{a=!0,o&&(r?.parentElement?.removeChild(r),t.destroyBean(o),s&&oc(s,void 0))}},oc=(e,t)=>{if(e)if(e instanceof Function){e(t)}else{e.current=t}},rc=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter((e=>null!=e&&""!==e)).join(" ")},ac=class e{constructor(){this.classesMap={};for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((e=>{this.classesMap[e]=!0}))}setClass(t,i){if(!!this.classesMap[t]==i)return this;const s=new e;return s.classesMap={...this.classesMap},s.classesMap[t]=i,s}toString(){return Object.keys(this.classesMap).filter((e=>this.classesMap[e])).join(" ")}},lc=e=>"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===("function"===typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),dc=s.version?.split(".")[0],cc="16"===dc||"17"===dc;var uc=!1;var hc=(e,t)=>{cc||!e||uc?t():ic.flushSync(t)};function gc(e,t,i){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(i||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;const s=[],n=[],o=new Map,r=new Map;for(let a=0;a<t.length;a++){const e=t[a];r.set(e.instanceId,e)}for(let a=0;a<e.length;a++){const t=e[a];o.set(t.instanceId,t),r.has(t.instanceId)&&s.push(t)}for(let a=0;a<t.length;a++){const e=t[a],i=e.instanceId;o.has(i)||n.push(e)}return s.length===e.length&&0===n.length?e:0===s.length&&n.length===t.length?t:0===s.length?n:0===n.length?s:[...s,...n]}var pc=(0,s.forwardRef)(((e,t)=>{const{ctrlsFactory:i,context:n}=(0,s.useContext)(sc),o=(0,s.useRef)(null),r=(0,s.useRef)(null),a=(0,s.useRef)(null),l=(0,s.useRef)(null),d=(0,s.useRef)(null),c=(0,s.useRef)(),[u,h]=(0,s.useState)(),[g,p]=(0,s.useState)(),[m,f]=(0,s.useState)(),[v,C]=(0,s.useState)((()=>new ac)),[w,b]=(0,s.useState)((()=>new ac("ag-hidden"))),[S,y]=(0,s.useState)((()=>new ac("ag-hidden"))),[R,A]=(0,s.useState)((()=>new ac("ag-invisible")));(0,s.useImperativeHandle)(t,(()=>({refresh:()=>!1}))),(0,s.useLayoutEffect)((()=>nc(u,n,r.current)),[u]);const F=(0,s.useCallback)((t=>{if(o.current=t,!t)return void(c.current=n.destroyBean(c.current));const s={setInnerRenderer:(e,t)=>{h(e),f(t)},setChildCount:e=>p(e),addOrRemoveCssClass:(e,t)=>C((i=>i.setClass(e,t))),setContractedDisplayed:e=>y((t=>t.setClass("ag-hidden",!e))),setExpandedDisplayed:e=>b((t=>t.setClass("ag-hidden",!e))),setCheckboxVisible:e=>A((t=>t.setClass("ag-invisible",!e)))},r=i.getInstance("groupCellRendererCtrl");r&&(c.current=n.createBean(r),c.current.init(s,t,a.current,l.current,d.current,pc,e))}),[]),E=(0,s.useMemo)((()=>`ag-cell-wrapper ${v.toString()}`),[v]),D=(0,s.useMemo)((()=>`ag-group-expanded ${w.toString()}`),[w]),P=(0,s.useMemo)((()=>`ag-group-contracted ${S.toString()}`),[S]),k=(0,s.useMemo)((()=>`ag-group-checkbox ${R.toString()}`),[R]),T=u&&u.componentFromFramework,M=T?u.componentClass:void 0,x=null==u&&null!=m,I=Ct(m,!0);return s.createElement("span",{className:E,ref:F,...e.colDef?{}:{role:c.current?.getCellAriaRole()}},s.createElement("span",{className:D,ref:l}),s.createElement("span",{className:P,ref:d}),s.createElement("span",{className:k,ref:a}),s.createElement("span",{className:"ag-group-value",ref:r},x&&s.createElement(s.Fragment,null,I),T&&s.createElement(M,{...u.params})),s.createElement("span",{className:"ag-group-child-count"},g))})),mc=pc,fc=(0,s.createContext)({setMethods:()=>{}}),vc=(0,s.memo)((e=>{const{initialProps:t,addUpdateCallback:i,CustomComponentClass:n,setMethods:o}=e,[{key:r,...a},l]=(0,s.useState)(t);return(0,s.useEffect)((()=>{i((e=>l(e)))}),[]),s.createElement(fc.Provider,{value:{setMethods:o}},s.createElement(n,{key:r,...a}))})),Cc=0;function wc(){return"agPortalKey_"+ ++Cc}var bc=class{constructor(e,t,i,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=i,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=wc(),this.portalKey=wc(),this.instanceCreated=this.isStatelessComponent()?Is.resolve(!1):new Is((e=>{this.resolveInstanceCreated=e}))}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),i=document.createElement(t||"div");return i.classList.add("ag-react-container"),e.reactContainer=i,i}addParentContainerStyleAndClasses(){if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(c('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){c('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.');this.componentInstance.getReactContainerClasses().forEach((e=>this.eParentElement.classList.add(e)))}}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"===typeof Symbol&&Symbol.for}isStateless(e){return"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){const i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!i)return void setTimeout((()=>this.callMethod(e,t)));const s=i[e];return s?s.apply(i,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Is((e=>this.createReactComponent(e)))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,ic.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,s.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const i=this[`${e}Component`];if(!this.suppressFallbackMethods&&i)return i.bind(this)(t)}fallbackMethodAvailable(e){if(this.suppressFallbackMethods)return!1;return!!this[`${e}Component`]}};function Sc(e,t,i){e.forEach((e=>{const s=t[e];s&&(i[e]=s)}))}var yc=class extends bc{constructor(){super(...arguments),this.awaitUpdateCallback=new Is((e=>{this.resolveUpdateCallback=e})),this.wrapperComponent=vc}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new Is((e=>{setTimeout((()=>{e()}))}))),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Sc(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Is((e=>this.awaitUpdateCallback.then((()=>{this.updateCallback().then((()=>e()))}))))}},Rc=class extends yc{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Ac=class extends yc{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Fc=class extends yc{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:i,shake:s}=this;return e.label=t,e.icon=i,e.shake=s,e}},Ec=class extends yc{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){!1===this.expectingNewMethods&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout((()=>{this.sourceParams.filterChangedCallback()})),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then((()=>this.sourceParams.filterChangedCallback()))}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function Dc(e,t){e.parentFilterInstance((i=>{(i.setModel(t)||Is.resolve()).then((()=>{e.filterParams.filterChangedCallback()}))}))}var Pc=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Sc(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Dc(this.floatingFilterParams,e)}},kc=class extends yc{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Dc(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Tc=class extends yc{refresh(e){this.sourceParams=e,this.refreshProps()}},Mc=class extends yc{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then((()=>this.sourceParams.onItemActivated()))}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},xc=class extends yc{refresh(e){this.sourceParams=e,this.refreshProps()}},Ic=class extends yc{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Lc=class extends yc{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function Oc(){c("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var Vc=class{constructor(e,t,i){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=i||1e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter((t=>t!==e)),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,i){this.portals=[...this.portals,e],this.waitForInstance(t,i),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout((()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)})),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-i>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout((()=>{this.waitForInstance(e,t,i)}))}}},Nc=(0,s.memo)((e=>{let{ctrl:t}=e;const i=t.isAlive(),{context:n}=(0,s.useContext)(sc),o=i?t.getColId():void 0,[r,a]=(0,s.useState)(),l=(0,s.useRef)(),d=(0,s.useRef)(null),c=(0,s.useRef)(null),u=(0,s.useRef)(null),h=(0,s.useRef)(),g=(0,s.useRef)();i&&!g.current&&(g.current=new jt((()=>d.current)));const p=(0,s.useCallback)((e=>{if(d.current=e,l.current=e?n.createBean(new Vt):n.destroyBean(l.current),!e||!i)return;const s={setWidth:e=>{d.current&&(d.current.style.width=e)},addOrRemoveCssClass:(e,t)=>g.current.addOrRemoveCssClass(e,t),setAriaSort:e=>{d.current&&(e?di(d.current,e):ci(d.current))},setUserCompDetails:e=>a(e),getUserCompInstance:()=>h.current||void 0};t.setComp(s,e,c.current,u.current,l.current);const o=t.getSelectAllGui();c.current?.insertAdjacentElement("afterend",o),l.current.addDestroyFunc((()=>o.remove()))}),[]);(0,s.useLayoutEffect)((()=>nc(r,n,u.current,h)),[r]),(0,s.useEffect)((()=>{t.setDragSource(d.current)}),[r]);const m=(0,s.useMemo)((()=>!!(r?.componentFromFramework&&lc(r.componentClass))),[r]),f=r&&r.componentFromFramework,v=r&&r.componentClass;return s.createElement("div",{ref:p,className:"ag-header-cell","col-id":o,role:"columnheader"},s.createElement("div",{ref:c,className:"ag-header-cell-resize",role:"presentation"}),s.createElement("div",{ref:u,className:"ag-header-cell-comp-wrapper",role:"presentation"},f&&m&&s.createElement(v,{...r.params}),f&&!m&&s.createElement(v,{...r.params,ref:h})))})),Gc=(0,s.memo)((e=>{let{ctrl:t}=e;const{context:i,gos:n}=(0,s.useContext)(sc),[o,r]=(0,s.useState)((()=>new ac("ag-header-cell","ag-floating-filter"))),[a,l]=(0,s.useState)((()=>new ac)),[d,c]=(0,s.useState)((()=>new ac("ag-floating-filter-button","ag-hidden"))),[u,h]=(0,s.useState)("false"),[g,p]=(0,s.useState)(),[,m]=(0,s.useState)(1),f=(0,s.useRef)(),v=(0,s.useRef)(null),C=(0,s.useRef)(null),w=(0,s.useRef)(null),b=(0,s.useRef)(null),S=(0,s.useRef)(),y=(0,s.useRef)(),R=e=>{null!=e&&S.current&&S.current(e)},A=(0,s.useCallback)((e=>{if(v.current=e,f.current=e?i.createBean(new Vt):i.destroyBean(f.current),!e)return;y.current=new Is((e=>{S.current=e}));const s={addOrRemoveCssClass:(e,t)=>r((i=>i.setClass(e,t))),addOrRemoveBodyCssClass:(e,t)=>l((i=>i.setClass(e,t))),setButtonWrapperDisplayed:e=>{c((t=>t.setClass("ag-hidden",!e))),h(e?"false":"true")},setWidth:e=>{v.current&&(v.current.style.width=e)},setCompDetails:e=>p(e),getFloatingFilterComp:()=>y.current?y.current:null,setMenuIcon:e=>b.current?.appendChild(e)};t.setComp(s,e,b.current,C.current,f.current)}),[]);(0,s.useLayoutEffect)((()=>nc(g,i,C.current,R)),[g]);const F=(0,s.useMemo)((()=>o.toString()),[o]),E=(0,s.useMemo)((()=>a.toString()),[a]),D=(0,s.useMemo)((()=>d.toString()),[d]),P=(0,s.useMemo)((()=>!!(g&&g.componentFromFramework&&lc(g.componentClass))),[g]),k=(0,s.useMemo)((()=>n.get("reactiveCustomComponents")),[]),T=(0,s.useMemo)((()=>{if(g){if(k){const e=new Pc(g.params,(()=>m((e=>e+1))));return R(e),e}g.componentFromFramework&&Oc()}}),[g]),M=T?.getProps(),x=g&&g.componentFromFramework,I=g&&g.componentClass;return s.createElement("div",{ref:A,className:F,role:"gridcell"},s.createElement("div",{ref:C,className:E,role:"presentation"},x&&!k&&s.createElement(I,{...g.params,ref:P?()=>{}:R}),x&&k&&s.createElement(fc.Provider,{value:{setMethods:e=>T.setMethods(e)}},s.createElement(I,{...M}))),s.createElement("div",{ref:w,"aria-hidden":u,className:D,role:"presentation"},s.createElement("button",{ref:b,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))})),_c=(0,s.memo)((e=>{let{ctrl:t}=e;const{context:i}=(0,s.useContext)(sc),[n,o]=(0,s.useState)((()=>new ac)),[r,a]=(0,s.useState)((()=>new ac)),[l,d]=(0,s.useState)("false"),[c,u]=(0,s.useState)(),[h,g]=(0,s.useState)(),p=(0,s.useMemo)((()=>t.getColId()),[]),m=(0,s.useRef)(),f=(0,s.useRef)(null),v=(0,s.useRef)(null),C=(0,s.useRef)(null),w=(0,s.useRef)(),b=(0,s.useCallback)((e=>{if(f.current=e,m.current=e?i.createBean(new Vt):i.destroyBean(m.current),!e)return;const s={setWidth:e=>{f.current&&(f.current.style.width=e)},addOrRemoveCssClass:(e,t)=>o((i=>i.setClass(e,t))),setUserCompDetails:e=>g(e),setResizableDisplayed:e=>{a((t=>t.setClass("ag-hidden",!e))),d(e?"false":"true")},setAriaExpanded:e=>u(e),getUserCompInstance:()=>w.current||void 0};t.setComp(s,e,v.current,C.current,m.current)}),[]);(0,s.useLayoutEffect)((()=>nc(h,i,C.current)),[h]),(0,s.useEffect)((()=>{f.current&&t.setDragSource(f.current)}),[h]);const S=(0,s.useMemo)((()=>!!(h?.componentFromFramework&&lc(h.componentClass))),[h]),y=(0,s.useMemo)((()=>"ag-header-group-cell "+n.toString()),[n]),R=(0,s.useMemo)((()=>"ag-header-cell-resize "+r.toString()),[r]),A=h&&h.componentFromFramework,F=h&&h.componentClass;return s.createElement("div",{ref:b,className:y,"col-id":p,role:"columnheader","aria-expanded":c},s.createElement("div",{ref:C,className:"ag-header-cell-comp-wrapper",role:"presentation"},A&&S&&s.createElement(F,{...h.params}),A&&!S&&s.createElement(F,{...h.params,ref:w})),s.createElement("div",{ref:v,"aria-hidden":l,className:R}))})),Bc=(0,s.memo)((e=>{let{ctrl:t}=e;const{context:i}=(0,s.useContext)(sc),{topOffset:n,rowHeight:o}=(0,s.useMemo)((()=>t.getTopAndHeight()),[]),r=t.getAriaRowIndex(),a=t.getHeaderRowClass(),[l,d]=(0,s.useState)((()=>o+"px")),[c,u]=(0,s.useState)((()=>n+"px")),h=(0,s.useRef)(null),g=(0,s.useRef)(null),[p,m]=(0,s.useState)((()=>t.getHeaderCtrls())),f=(0,s.useRef)(),v=(0,s.useRef)(null),C=(0,s.useCallback)((e=>{if(v.current=e,f.current=e?i.createBean(new Vt):i.destroyBean(f.current),!e)return;const s={setHeight:e=>d(e),setTop:e=>u(e),setHeaderCtrls:(e,t,i)=>{g.current=h.current,h.current=e;const s=gc(g.current,e,t);s!==g.current&&hc(i,(()=>m(s)))},setWidth:e=>{v.current&&(v.current.style.width=e)}};t.setComp(s,f.current,!1)}),[]),w=(0,s.useMemo)((()=>({height:l,top:c})),[l,c]),b=(0,s.useCallback)((e=>{switch(t.getType()){case Oo.COLUMN_GROUP:return s.createElement(_c,{ctrl:e,key:e.instanceId});case Oo.FLOATING_FILTER:return s.createElement(Gc,{ctrl:e,key:e.instanceId});default:return s.createElement(Nc,{ctrl:e,key:e.instanceId})}}),[]);return s.createElement("div",{ref:C,className:a,role:"row",style:w,"aria-rowindex":r},p.map(b))})),Hc=(0,s.memo)((e=>{let{pinned:t}=e;const[i,n]=(0,s.useState)(!0),[o,r]=(0,s.useState)([]),{context:a}=(0,s.useContext)(sc),l=(0,s.useRef)(null),d=(0,s.useRef)(null),c=(0,s.useRef)(),u="left"===t,h="right"===t,g=!u&&!h,p=(0,s.useCallback)((e=>{if(l.current=e,c.current=e?a.createBean(new tr(t)):a.destroyBean(c.current),!e)return;const i={setDisplayed:n,setCtrls:e=>r(e),setCenterWidth:e=>{d.current&&(d.current.style.width=e)},setViewportScrollLeft:e=>{l.current&&(l.current.scrollLeft=e)},setPinnedContainerWidth:e=>{l.current&&(l.current.style.width=e,l.current.style.minWidth=e,l.current.style.maxWidth=e)}};c.current.setComp(i,l.current)}),[]),m=i?"":"ag-hidden",f=()=>o.map((e=>s.createElement(Bc,{ctrl:e,key:e.instanceId})));return s.createElement(s.Fragment,null,u&&s.createElement("div",{ref:p,className:"ag-pinned-left-header "+m,"aria-hidden":!i,role:"rowgroup"},f()),h&&s.createElement("div",{ref:p,className:"ag-pinned-right-header "+m,"aria-hidden":!i,role:"rowgroup"},f()),g&&s.createElement("div",{ref:p,className:"ag-header-viewport "+m,role:"presentation"},s.createElement("div",{ref:d,className:"ag-header-container",role:"rowgroup"},f())))})),Wc=(0,s.memo)((()=>{const[e,t]=(0,s.useState)((()=>new ac)),[i,n]=(0,s.useState)(),{context:o}=(0,s.useContext)(sc),r=(0,s.useRef)(null),a=(0,s.useRef)(),l=(0,s.useCallback)((e=>{if(r.current=e,a.current=e?o.createBean(new No):o.destroyBean(a.current),!e)return;const i={addOrRemoveCssClass:(e,i)=>t((t=>t.setClass(e,i))),setHeightAndMinHeight:e=>n(e)};a.current.setComp(i,e,e)}),[]),d=(0,s.useMemo)((()=>"ag-header "+e.toString()),[e]),c=(0,s.useMemo)((()=>({height:i,minHeight:i})),[i]);return s.createElement("div",{ref:l,className:d,style:c,role:"presentation"},s.createElement(Hc,{pinned:"left"}),s.createElement(Hc,{pinned:null}),s.createElement(Hc,{pinned:"right"}))})),zc=(e,t)=>{(0,s.useEffect)((()=>{const i=t.current;if(i){const t=i.parentElement;if(t){const s=document.createComment(e);return t.insertBefore(s,i),()=>{t.removeChild(s)}}}}),[e])},Uc=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Is((e=>{this.resolveInstanceCreated=e})),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Sc(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Qc=(0,s.memo)((e=>{const[t,i]=(0,s.useState)(),{context:n,popupService:o,localeService:r,gos:a,editService:l}=(0,s.useContext)(sc);return(e=>{const t=(0,s.useRef)(e),i=(0,s.useRef)(),n=(0,s.useRef)(!1),o=(0,s.useRef)(!1),[,r]=(0,s.useState)(0);n.current&&(o.current=!0),(0,s.useEffect)((()=>(n.current||(i.current=t.current(),n.current=!0),r((e=>e+1)),()=>{o.current&&i.current?.()})),[])})((()=>{const{editDetails:t,cellCtrl:s,eParentCell:d}=e,{compDetails:c}=t,u=a.get("stopEditingWhenCellsLoseFocus"),h=n.createBean(l.createPopupEditorWrapper(c.params)),g=h.getGui();if(e.jsChildComp){const t=e.jsChildComp.getGui();t&&g.appendChild(t)}const p={column:s.getColumn(),rowNode:s.getRowNode(),type:"popupCellEditor",eventSource:d,ePopup:g,position:t.popupPosition,keepWithinBounds:!0},m=o.positionPopupByComponent.bind(o,p),f=r.getLocaleTextFunc(),v=o.addPopup({modal:u,eChild:g,closeOnEsc:!0,closedCallback:()=>{s.onPopupEditorClosed()},anchorToElement:d,positionCallback:m,ariaLabel:f("ariaLabelCellEditor","Cell Editor")}),C=v?v.hideFunc:void 0;return i(h),e.jsChildComp?.afterGuiAttached?.(),()=>{C?.(),n.destroyBean(h)}})),s.createElement(s.Fragment,null,t&&e.wrappedContent&&(0,ic.createPortal)(e.wrappedContent,t.getGui()))})),qc=(e,t,i,n,o,r)=>{const{context:a}=(0,s.useContext)(sc),l=(0,s.useCallback)((()=>{const e=o.current;if(!e)return;const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),a.destroyBean(e),o.current=void 0}),[]);(0,s.useEffect)((()=>{const s=null!=e,n=e?.compDetails&&!e.compDetails.componentFromFramework;if(!(s&&n&&!(t&&null==i)))return void l();const a=e.compDetails;if(o.current){const t=o.current,i=!!(null!=t.refresh&&0==e.force)&&t.refresh(a.params);if(!0===i||void 0===i)return;l()}const d=a.newAgStackInstance();null!=d&&d.then((e=>{if(!e)return;const s=e.getGui();if(!s)return;(t?i:r.current).appendChild(s),o.current=e}))}),[e,t,n]),(0,s.useEffect)((()=>l),[])},Kc=(e,t,i)=>{const n=e.compProxy;return s.createElement(s.Fragment,null,n?((e,t,i)=>{const{compProxy:n}=e;i(n);const o=n.getProps(),r=lc(t);return s.createElement(fc.Provider,{value:{setMethods:e=>n.setMethods(e)}},r?s.createElement(t,{...o}):s.createElement(t,{...o,ref:e=>n.setRef(e)}))})(e,t,i):s.createElement(t,{...e.compDetails.params,ref:i}))},jc=(0,s.memo)((e=>{let{cellCtrl:t,printLayout:i,editingRow:n}=e;const{context:o}=(0,s.useContext)(sc),{colIdSanitised:r,instanceId:a}=t,l=(0,s.useRef)(),[d,c]=(0,s.useState)((()=>t.isCellRenderer()?void 0:{compDetails:void 0,value:t.getValueToDisplay(),force:!1})),[u,h]=(0,s.useState)(),[g,p]=(0,s.useState)(1),[m,f]=(0,s.useState)(),[v,C]=(0,s.useState)(!1),[w,b]=(0,s.useState)(!1),[S,y]=(0,s.useState)(!1),[R,A]=(0,s.useState)(),F=(0,s.useMemo)((()=>t.isForceWrapper()),[t]),E=(0,s.useMemo)((()=>t.getCellAriaRole()),[t]),D=(0,s.useRef)(null),P=(0,s.useRef)(null),k=(0,s.useRef)(),T=(0,s.useRef)(),M=(0,s.useRef)(),x=(0,s.useRef)([]),I=(0,s.useRef)(),[L,O]=(0,s.useState)(0),V=(0,s.useCallback)((e=>{I.current=e,O((e=>e+1))}),[]),N=F||null!=d&&(v||S||w),G=(0,s.useCallback)((e=>{if(T.current=e,e){const i=e.isCancelBeforeStart&&e.isCancelBeforeStart();setTimeout((()=>{i?(t.stopEditing(!0),t.focusCell(!0)):t.cellEditorAttached()}))}}),[t]),_=(0,s.useRef)();_.current||(_.current=new jt((()=>D.current))),qc(d,N,I.current,L,k,D);const B=(0,s.useRef)();(0,s.useLayoutEffect)((()=>{const e=B.current,t=d;if(B.current=d,null==e||null==e.compDetails||null==t||null==t.compDetails)return;const i=e.compDetails,s=t.compDetails;if(i.componentClass!=s.componentClass)return;if(null==P.current?.refresh)return;1!=P.current.refresh(s.params)&&p((e=>e+1))}),[d]),(0,s.useLayoutEffect)((()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const e=u.compDetails,t=!0===u.popup,i=e.newAgStackInstance();return i.then((e=>{if(!e)return;const i=e.getGui();if(G(e),!t){const t=(F?M:D).current;t?.appendChild(i),e.afterGuiAttached&&e.afterGuiAttached()}A(e)})),()=>{i.then((e=>{const t=e.getGui();o.destroyBean(e),G(void 0),A(void 0),t?.parentElement?.removeChild(t)}))}}),[u]);const H=(0,s.useCallback)((e=>{if(M.current=e,!e)return x.current.forEach((e=>e())),void(x.current=[]);const i=t=>{if(t){const i=t.getGui();e.insertAdjacentElement("afterbegin",i),x.current.push((()=>{o.destroyBean(t),Gi(i)}))}return t};if(v){i(t.createSelectionCheckbox())}S&&i(t.createDndSource()),w&&i(t.createRowDragComp())}),[t,o,S,w,v]),W=(0,s.useCallback)((e=>{if(D.current=e,l.current=e?o.createBean(new Vt):o.destroyBean(l.current),!e||!t)return;const s={addOrRemoveCssClass:(e,t)=>_.current.addOrRemoveCssClass(e,t),setUserStyles:e=>f(e),getFocusableElement:()=>D.current,setIncludeSelection:e=>C(e),setIncludeRowDrag:e=>b(e),setIncludeDndSource:e=>y(e),getCellEditor:()=>T.current||null,getCellRenderer:()=>P.current??k.current,getParentOfValue:()=>I.current??M.current??D.current,setRenderDetails:(e,t,i)=>{c((s=>s?.compDetails!==e||s?.value!==t||s?.force!==i?{value:t,compDetails:e,force:i}:s))},setEditDetails:(e,t,i,s)=>{if(e){let n;s?n=new Uc(e.params,(()=>p((e=>e+1)))):e.componentFromFramework&&Oc(),h({compDetails:e,popup:t,popupPosition:i,compProxy:n}),t||c(void 0)}else h((e=>{e?.compProxy&&(T.current=void 0)}))}},r=M.current||void 0;t.setComp(s,e,r,i,n,l.current)}),[]),z=(0,s.useMemo)((()=>!!(d?.compDetails?.componentFromFramework&&lc(d.compDetails.componentClass))),[d]);(0,s.useLayoutEffect)((()=>{D.current&&(_.current.addOrRemoveCssClass("ag-cell-value",!N),_.current.addOrRemoveCssClass("ag-cell-inline-editing",!!u&&!u.popup),_.current.addOrRemoveCssClass("ag-cell-popup-editing",!!u&&!!u.popup),_.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!u||!!u.popup),t.getRowCtrl()?.setInlineEditingCss(),t.shouldRestoreFocus()&&!t.isEditing()&&D.current.focus({preventScroll:!0}))}));const U=()=>s.createElement(s.Fragment,null,null!=d&&((e,t,i,n,o,r,a)=>{const{compDetails:l,value:d}=e,c=!l,u=l&&l.componentFromFramework,h=l&&l.componentClass,g=d?.toString?d.toString():d,p=()=>s.createElement(s.Fragment,null,c&&s.createElement(s.Fragment,null,g),u&&!r&&s.createElement(h,{...l.params,key:t,ref:n}),u&&r&&s.createElement(h,{...l.params,key:t}));return s.createElement(s.Fragment,null,o?s.createElement("span",{role:"presentation",id:`cell-${i}`,className:"ag-cell-value",ref:a},p()):p())})(d,g,a,P,N,z,V),null!=u&&((e,t,i,n,o)=>{const r=e.compDetails,a=r.componentClass,l=r.componentFromFramework&&!e.popup,d=r.componentFromFramework&&e.popup,c=!r.componentFromFramework&&e.popup;return s.createElement(s.Fragment,null,l&&Kc(e,a,t),d&&s.createElement(Qc,{editDetails:e,cellCtrl:n,eParentCell:i,wrappedContent:Kc(e,a,t)}),c&&o&&s.createElement(Qc,{editDetails:e,cellCtrl:n,eParentCell:i,jsChildComp:o}))})(u,G,D.current,t,R)),Q=(0,s.useCallback)((()=>t.onFocusOut()),[]);return s.createElement("div",{ref:W,style:m,role:E,"col-id":r,onBlur:Q},N?s.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:H},U()):U())})),$c=(0,s.memo)((e=>{let{rowCtrl:t,containerType:i}=e;const{context:n,gos:o}=(0,s.useContext)(sc),r=(0,s.useRef)(),a=(0,s.useRef)(t.getDomOrder()),l=t.isFullWidth(),d=t.getRowNode().displayed,[c,u]=(0,s.useState)((()=>d?t.getRowIndex():null)),[h,g]=(0,s.useState)((()=>t.getRowId())),[p,m]=(0,s.useState)((()=>t.getBusinessKey())),[f,v]=(0,s.useState)((()=>t.getRowStyles())),C=(0,s.useRef)(null),w=(0,s.useRef)(null),[b,S]=(0,s.useState)((()=>null)),[y,R]=(0,s.useState)(),[A,F]=(0,s.useState)((()=>d?t.getInitialRowTop(i):void 0)),[E,D]=(0,s.useState)((()=>d?t.getInitialTransform(i):void 0)),P=(0,s.useRef)(null),k=(0,s.useRef)(),T=(0,s.useRef)(!1),[M,x]=(0,s.useState)(0);(0,s.useEffect)((()=>{if(T.current||!y||M>10)return;const e=P.current?.firstChild;e?(t.setupDetailRowAutoHeight(e),T.current=!0):x((e=>e+1))}),[y,M]);const I=(0,s.useRef)();I.current||(I.current=new jt((()=>P.current)));const L=(0,s.useCallback)((e=>{if(P.current=e,r.current=e?n.createBean(new Vt):n.destroyBean(r.current),!e)return void t.unsetComp(i);if(!t.isAlive())return;const s={setTop:F,setTransform:D,addOrRemoveCssClass:(e,t)=>I.current.addOrRemoveCssClass(e,t),setDomOrder:e=>a.current=e,setRowIndex:u,setRowId:g,setRowBusinessKey:m,setUserStyles:v,setCellCtrls:(e,t)=>{w.current=C.current,C.current=e;const i=gc(w.current,e,a.current);i!==w.current&&hc(t,(()=>S(i)))},showFullWidth:e=>R(e),getFullWidthCellRenderer:()=>k.current,refreshFullWidth:e=>_.current?(R((t=>({...t,params:e()}))),!0):!(!k.current||!k.current.refresh)&&k.current.refresh(e())};t.setComp(s,e,i,r.current)}),[]);(0,s.useLayoutEffect)((()=>nc(y,n,P.current,k)),[y]);const O=(0,s.useMemo)((()=>{const e={top:A,transform:E};return Object.assign(e,f),e}),[A,E,f]),V=l&&y?.componentFromFramework,N=!l&&null!=b,G=(0,s.useMemo)((()=>!!(y?.componentFromFramework&&lc(y.componentClass))),[y]),_=(0,s.useRef)(!1);(0,s.useEffect)((()=>{_.current=G&&!!y&&!!o.get("reactiveCustomComponents")}),[G,y]);return s.createElement("div",{ref:L,role:"row",style:O,"row-index":c,"row-id":h,"row-business-key":p},N&&b?.map((e=>s.createElement(jc,{cellCtrl:e,editingRow:t.isEditing(),printLayout:t.isPrintLayout(),key:e.instanceId}))),V&&(()=>{const e=y.componentClass;return s.createElement(s.Fragment,null,G?s.createElement(e,{...y.params}):s.createElement(e,{...y.params,ref:k}))})())})),Xc=(0,s.memo)((e=>{let{name:t}=e;const{context:i}=(0,s.useContext)(sc),n=(0,s.useMemo)((()=>Or(t)),[t]),o=(0,s.useRef)(null),r=(0,s.useRef)(null),a=(0,s.useRef)([]),l=(0,s.useRef)([]),[d,c]=(0,s.useState)((()=>[])),u=(0,s.useRef)(!1),h=(0,s.useRef)(),g=(0,s.useMemo)((()=>rc(n.viewport)),[n]),p=(0,s.useMemo)((()=>rc(n.container)),[n]),m="center"===n.type;zc(" AG Row Container "+t+" ",m?o:r);const f=(0,s.useCallback)((()=>m?null!=o.current&&null!=r.current:null!=r.current),[]),v=(0,s.useCallback)((()=>m?null==o.current&&null==r.current:null==r.current),[]),C=(0,s.useCallback)((()=>{if(v()&&(h.current=i.destroyBean(h.current)),f()){const e=e=>{const t=gc(l.current,a.current,u.current);t!==l.current&&(l.current=t,hc(e,(()=>c(t))))},s={setHorizontalScroll:e=>{o.current&&(o.current.scrollLeft=e)},setViewportHeight:e=>{o.current&&(o.current.style.height=e)},setRowCtrls:t=>{let{rowCtrls:i,useFlushSync:s}=t;const n=!!s&&a.current.length>0&&i.length>0;a.current=i,e(n)},setDomOrder:t=>{u.current!=t&&(u.current=t,e(!1))},setContainerWidth:e=>{r.current&&(r.current.style.width=e)},setOffsetTop:e=>{r.current&&(r.current.style.transform=`translateY(${e})`)}};h.current=i.createBean(new Ur(t)),h.current.setComp(s,r.current,o.current)}}),[f,v]),w=(0,s.useCallback)((e=>{r.current=e,C()}),[C]),b=(0,s.useCallback)((e=>{o.current=e,C()}),[C]),S=()=>s.createElement("div",{className:p,ref:w,role:"rowgroup"},d.map((e=>s.createElement($c,{rowCtrl:e,containerType:n.type,key:e.instanceId}))));return s.createElement(s.Fragment,null,m?s.createElement("div",{className:g,ref:b,role:"presentation"},S()):S())})),Yc=(0,s.memo)((()=>{const{context:e,resizeObserverService:t}=(0,s.useContext)(sc),[i,n]=(0,s.useState)(""),[o,r]=(0,s.useState)(0),[a,l]=(0,s.useState)(0),[d,c]=(0,s.useState)("0px"),[u,h]=(0,s.useState)("0px"),[g,p]=(0,s.useState)("100%"),[m,f]=(0,s.useState)("0px"),[v,C]=(0,s.useState)("0px"),[w,b]=(0,s.useState)("100%"),[S,y]=(0,s.useState)(""),[R,A]=(0,s.useState)(""),[F,E]=(0,s.useState)(null),[D,P]=(0,s.useState)(""),[k,T]=(0,s.useState)(null),[M,x]=(0,s.useState)("ag-layout-normal"),I=(0,s.useRef)();I.current||(I.current=new jt((()=>L.current)));const L=(0,s.useRef)(null),O=(0,s.useRef)(null),V=(0,s.useRef)(null),N=(0,s.useRef)(null),G=(0,s.useRef)(null),_=(0,s.useRef)(null),B=(0,s.useRef)(null),H=(0,s.useRef)([]),W=(0,s.useRef)([]);zc(" AG Grid Body ",L),zc(" AG Pinned Top ",O),zc(" AG Sticky Top ",V),zc(" AG Middle ",_),zc(" AG Pinned Bottom ",B);const z=(0,s.useCallback)((i=>{if(L.current=i,!i)return H.current=e.destroyBeans(H.current),W.current.forEach((e=>e())),void(W.current=[]);if(!e)return;const s=(e,t)=>{e.appendChild(t),W.current.push((()=>e.removeChild(t)))},o=(t,i,n)=>{s(t,document.createComment(n)),s(t,(t=>{const i=e.createBean(new t);return H.current.push(i),i})(i).getGui())};o(i,or," AG Fake Horizontal Scroll "),o(i,sr," AG Overlay Wrapper "),G.current&&o(G.current,ar," AG Fake Vertical Scroll ");const a={setRowAnimationCssOnBodyViewport:n,setColumnCount:e=>{L.current&&ai(L.current,e)},setRowCount:e=>{L.current&&oi(L.current,e)},setTopHeight:r,setBottomHeight:l,setStickyTopHeight:c,setStickyTopTop:h,setStickyTopWidth:p,setTopDisplay:y,setBottomDisplay:A,setColumnMovingCss:(e,t)=>I.current.addOrRemoveCssClass(e,t),updateLayoutClasses:x,setAlwaysVerticalScrollClass:E,setPinnedTopBottomOverflowY:P,setCellSelectableCss:(e,t)=>T(t?e:null),setBodyViewportWidth:e=>{_.current&&(_.current.style.width=e)},registerBodyViewportResizeListener:e=>{if(_.current){const i=t.observeResize(_.current,e);W.current.push((()=>i()))}},setStickyBottomHeight:f,setStickyBottomBottom:C,setStickyBottomWidth:b},d=e.createBean(new qr);H.current.push(d),d.setComp(a,i,_.current,O.current,B.current,V.current,N.current)}),[]),U=(0,s.useMemo)((()=>rc("ag-root","ag-unselectable",M)),[M]),Q=(0,s.useMemo)((()=>rc("ag-body-viewport",i,M,F,k)),[i,M,F,k]),q=(0,s.useMemo)((()=>rc("ag-body",M)),[M]),K=(0,s.useMemo)((()=>rc("ag-floating-top",k)),[k]),j=(0,s.useMemo)((()=>rc("ag-sticky-top",k)),[k]),$=(0,s.useMemo)((()=>rc("ag-sticky-bottom","0px"===m?"ag-hidden":null,k)),[k,m]),X=(0,s.useMemo)((()=>rc("ag-floating-bottom",k)),[k]),Y=(0,s.useMemo)((()=>({height:o,minHeight:o,display:S,overflowY:D})),[o,S,D]),J=(0,s.useMemo)((()=>({height:d,top:u,width:g})),[d,u,g]),Z=(0,s.useMemo)((()=>({height:m,bottom:v,width:w})),[m,v,w]),ee=(0,s.useMemo)((()=>({height:a,minHeight:a,display:R,overflowY:D})),[a,R,D]),te=e=>s.createElement(Xc,{name:e,key:`${e}-container`}),ie=e=>{let{section:t,children:i,className:n,style:o}=e;return s.createElement("div",{ref:t,className:n,role:"presentation",style:o},i.map(te))};return s.createElement("div",{ref:z,className:U,role:"treegrid"},s.createElement(Wc,null),ie({section:O,className:K,style:Y,children:["topLeft","topCenter","topRight","topFullWidth"]}),s.createElement("div",{className:q,ref:G,role:"presentation"},ie({section:_,className:Q,children:["left","center","right","fullWidth"]})),ie({section:V,className:j,style:J,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),ie({section:N,className:$,style:Z,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),ie({section:B,className:X,style:ee,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))})),Jc=(0,s.forwardRef)(((e,t)=>{const{children:i,eFocusableElement:n,onTabKeyDown:o,gridCtrl:r,forceFocusOutWhenTabGuardsAreEmpty:a}=e,{context:l}=(0,s.useContext)(sc),d=(0,s.useRef)(null),c=(0,s.useRef)(null),u=(0,s.useRef)(),h=e=>{const t=null==e?void 0:parseInt(e,10).toString();[d,c].forEach((e=>{void 0===t?e.current?.removeAttribute("tabindex"):e.current?.setAttribute("tabindex",t)}))};(0,s.useImperativeHandle)(t,(()=>({forceFocusOutOfContainer(e){u.current?.forceFocusOutOfContainer(e)}})));const g=(0,s.useCallback)((()=>{const e=d.current,t=c.current;if(e||t){if(e&&t){const i={setTabIndex:h};u.current=l.createBean(new La({comp:i,eTopGuard:e,eBottomGuard:t,eFocusableElement:n,onTabKeyDown:o,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:e=>r.focusInnerElement(e)}))}}else u.current=l.destroyBean(u.current)}),[]),p=(0,s.useCallback)((e=>{d.current=e,g()}),[g]),m=(0,s.useCallback)((e=>{c.current=e,g()}),[g]),f=e=>{const t="top"===e?Ia.TAB_GUARD_TOP:Ia.TAB_GUARD_BOTTOM;return s.createElement("div",{className:`${Ia.TAB_GUARD} ${t}`,role:"presentation",ref:"top"===e?p:m})};return s.createElement(s.Fragment,null,f("top"),i,f("bottom"))})),Zc=(0,s.memo)(Jc),eu=(0,s.memo)((e=>{let{context:t}=e;const[i,n]=(0,s.useState)(""),[o,r]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[d,c]=(0,s.useState)(null),[u,h]=(0,s.useState)(null),[g,p]=(0,s.useState)(!1),[m,f]=(0,s.useState)(),v=(0,s.useRef)(),C=(0,s.useRef)(null),w=(0,s.useRef)(),[b,S]=(0,s.useState)(null),y=(0,s.useRef)((()=>{})),R=(0,s.useRef)(),A=(0,s.useRef)([]),F=(0,s.useCallback)((()=>{}),[]),E=(0,s.useMemo)((()=>t.isDestroyed()?null:t.getBeans()),[t]);zc(" AG Grid ",C);const D=(0,s.useCallback)((e=>{if(C.current=e,v.current=e?t.createBean(new bl):t.destroyBean(v.current),!e||t.isDestroyed())return;const i=v.current;y.current=i.focusInnerElement.bind(i);const s={destroyGridUi:()=>{},setRtlClass:n,setGridThemeClass:r,forceFocusOutOfContainer:e=>{e||!R.current?.isDisplayed()?w.current?.forceFocusOutOfContainer(e):R.current.forceFocusOutOfContainer(e)},updateLayoutClasses:l,getFocusableContainers:()=>{const e=[],t=C.current?.querySelector(".ag-root");return t&&e.push({getGui:()=>t}),A.current.forEach((t=>{t.isDisplayed()&&e.push(t)})),e},setCursor:c,setUserSelect:h};i.setComp(s,e,e),p(!0)}),[]);(0,s.useEffect)((()=>{const e=v.current,i=C.current;if(!m||!E||!e||!b||!i)return;const s=[],{watermarkSelector:n,paginationSelector:o,sideBarSelector:r,statusBarSelector:a,gridHeaderDropZonesSelector:l}=e.getOptionalSelectors(),d=[];if(l){const e=t.createBean(new l.component),n=e.getGui();i.insertAdjacentElement("afterbegin",n),d.push(n),s.push(e)}if(r){const e=t.createBean(new r.component),i=e.getGui(),n=b.querySelector(".ag-tab-guard-bottom");n&&(n.insertAdjacentElement("beforebegin",i),d.push(i)),s.push(e),A.current.push(e)}const c=e=>{const n=t.createBean(new e),o=n.getGui();return i.insertAdjacentElement("beforeend",o),d.push(o),s.push(n),n};if(a&&c(a.component),o){const e=c(o.component);R.current=e,A.current.push(e)}return n&&c(n.component),()=>{t.destroyBeans(s),d.forEach((e=>{e.parentElement?.removeChild(e)}))}}),[m,b,E]);const P=(0,s.useMemo)((()=>rc("ag-root-wrapper",i,o,a)),[i,o,a]),k=(0,s.useMemo)((()=>rc("ag-root-wrapper-body","ag-focus-managed",a)),[a]),T=(0,s.useMemo)((()=>({userSelect:null!=u?u:"",WebkitUserSelect:null!=u?u:"",cursor:null!=d?d:""})),[u,d]),M=(0,s.useCallback)((e=>{w.current=e,f(null!==e)}),[]);return s.createElement("div",{ref:D,className:P,style:T,role:"presentation"},s.createElement("div",{className:k,ref:S,role:"presentation"},g&&b&&E&&s.createElement(sc.Provider,{value:E},s.createElement(Zc,{ref:M,eFocusableElement:b,onTabKeyDown:F,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0},s.createElement(Yc,null)))))})),tu=class extends Te{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every((e=>e.getAllCtrls().every((e=>e.areCellsRendered()))))}},iu=e=>{const t=(0,s.useRef)(),i=(0,s.useRef)(null),n=(0,s.useRef)(null),o=(0,s.useRef)([]),r=(0,s.useRef)([]),a=(0,s.useRef)(e),l=(0,s.useRef)(),d=(0,s.useRef)(),c=(0,s.useRef)(!1),[u,h]=(0,s.useState)(void 0),[,g]=(0,s.useState)(0),p=(0,s.useCallback)((s=>{if(i.current=s,!s)return o.current.forEach((e=>e())),void(o.current.length=0);const a=e.modules||[];n.current||(n.current=new Vc((()=>g((e=>e+1))),e.componentWrappingElement,e.maxComponentCreationTimeMs),o.current.push((()=>{n.current?.destroy(),n.current=null})));const u=function(e,t){"object"!==typeof e&&(e={});const i={...e};return Ot.ALL_PROPERTIES_AND_CALLBACKS.forEach((e=>{const s=t[e];"undefined"!==typeof s&&s!==Ot.VUE_OMITTED_PROPERTY&&(i[e]=s)})),i}(e.gridOptions,e),p=new ou((()=>{if(c.current){const e=()=>l.current?.shouldQueueUpdates()?void 0:r.current.shift();let t=e();for(;t;)t(),t=e()}}));l.current=p;const m=new tu,f={providedBeanInstances:{frameworkComponentWrapper:new su(n.current,u.reactiveCustomComponents??(v="reactiveCustomComponents",Sd.gridOptions?.[v])??!0),renderStatusService:m},modules:a,frameworkOverrides:p};var v;const C=new Rd;u.gridId??(u.gridId=d.current),t.current=C.create(s,u,(i=>{h(i),i.createBean(m),o.current.push((()=>{i.destroy()})),i.getBean("ctrlsService").whenReady({addDestroyFunc:e=>{o.current.push(e)}},(()=>{if(i.isDestroyed())return;const s=t.current;s&&e.setGridApi?.(s)}))}),(e=>{e.getBean("ctrlsService").whenReady({addDestroyFunc:e=>{o.current.push(e)}},(()=>{r.current.forEach((e=>e())),r.current.length=0,c.current=!0}))}),f),o.current.push((()=>{t.current=void 0})),d.current=t.current.getGridId()}),[]),m=(0,s.useMemo)((()=>({height:"100%",...e.containerStyle||{}})),[e.containerStyle]),f=(0,s.useCallback)((e=>{c.current&&!l.current?.shouldQueueUpdates()?e():r.current.push(e)}),[]);return(0,s.useEffect)((()=>{const i=function(e,t){const i={};return Object.keys(t).forEach((s=>{const n=t[s];e[s]!==n&&(i[s]=n)})),i}(a.current,e);a.current=e,f((()=>{t.current&&function(e,t){if(!e)return;const i={};let s=!1;if(Object.keys(e).filter((e=>Ot.ALL_PROPERTIES_AND_CALLBACKS_SET.has(e))).forEach((t=>{i[t]=e[t],s=!0})),!s)return;const n={type:"gridOptionsChanged",options:i};t.dispatchEvent(n);const o={type:"componentStateChanged"};Ue(i,((e,t)=>{o[e]=t})),t.dispatchEvent(o)}(i,t.current)}))}),[e]),s.createElement("div",{style:m,className:e.className,ref:p},u&&!u.isDestroyed()?s.createElement(eu,{context:u}):null,n.current?.getPortals()??null)};var su=class extends Dd{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const i=(e=>{switch(e){case"filter":return Ec;case"floatingFilterComponent":return kc;case"dateComponent":return Ac;case"dragAndDropImageComponent":return Fc;case"loadingOverlayComponent":return Tc;case"noRowsOverlayComponent":return xc;case"statusPanel":return Ic;case"toolPanel":return Lc;case"menuItem":return Mc;case"cellRenderer":return Rc}})(t.propertyName);if(i)return new i(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Oc()}const i=!t.cellRenderer&&"toolPanel"!==t.propertyName;return new bc(e,this.parent,t,i)}},nu=(0,s.forwardRef)(((e,t)=>{const{ctrlsFactory:i,context:n,gos:o,resizeObserverService:r,rowModel:a}=(0,s.useContext)(sc),[l,d]=(0,s.useState)((()=>new ac)),[u,h]=(0,s.useState)((()=>new ac)),[g,p]=(0,s.useState)(),[m,f]=(0,s.useState)(),v=(0,s.useRef)(),C=(0,s.useRef)(null),w=(0,s.useRef)(),b=(0,s.useMemo)((()=>on.__getGridRegisteredModules(e.api.getGridId())),[e]),S=(0,s.useMemo)((()=>l.toString()+" ag-details-row"),[l]),y=(0,s.useMemo)((()=>u.toString()+" ag-details-grid"),[u]);t&&(0,s.useImperativeHandle)(t,(()=>({refresh:()=>v.current?.refresh()??!1}))),e.template&&c("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const R=(0,s.useCallback)((t=>{if(C.current=t,!t)return v.current=n.destroyBean(v.current),void w.current?.();const s={addOrRemoveCssClass:(e,t)=>d((i=>i.setClass(e,t))),addOrRemoveDetailGridCssClass:(e,t)=>h((i=>i.setClass(e,t))),setDetailGrid:e=>p(e),setRowData:e=>f(e),getGui:()=>C.current},l=i.getInstance("detailCellRenderer");if(l&&(n.createBean(l),l.init(s,e),v.current=l,o.get("detailRowAutoHeight"))){const i=()=>{if(null==C.current)return;const t=C.current.clientHeight;if(null!=t&&t>0){setTimeout((()=>{e.node.setRowHeight(t),(M(o)||x(o))&&a.onRowHeightChanged()}),0)}};w.current=r.observeResize(t,i),i()}}),[]),A=(0,s.useCallback)((e=>{v.current?.registerDetailWithMaster(e)}),[]);return s.createElement("div",{className:S,ref:R},g&&s.createElement(iu,{className:y,...g,modules:b,rowData:m,setGridApi:A}))})),ou=class extends Ba{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:mc,agGroupRowRenderer:mc,agDetailCellRenderer:nu},this.wrapIncoming=(e,t)=>{return"ensureVisible"===t?(i=e,uc||setTimeout((()=>uc=!1),0),uc=!0,i()):e();var i},this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return"19"===dc}},ru=class extends s.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach((t=>t(e)))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return s.createElement(iu,{...this.props,setGridApi:this.setGridApi})}};const au=JSON.parse('[{"dataset":"MSCOCO(MicrosoftCommonObjectsinContext)","dataset_home":["https://cocodataset.org/"],"description":"\\n                    The MS COCO (Microsoft Common Objects in Context) dataset is a large-scale object detection, segmentation, key-point detection, and captioning dataset. The dataset consists of 328K images.\\nSplits:\\nThe first version of MS COCO dataset was released in 2014. It contains 164K images split into training (83K), validation (41K) and test (41K) sets. In 2015 additional test set of 81K images was released, including all the previous test images and 40K new images.\\nBased on community feedback, in 2017 the training/validation split was changed from 83K/41K to 118K/5K. The new split uses the same images and annotations. The 2017 test set is a subset of 41K images of the 2015 test set. Additionally, the 2017 release contains a new unannotated dataset of 123K images.\\nAnnotations:\\nThe dataset has annotations for\\n\\nobject detection: bounding boxes and per-instance segmentation masks with 80 object categories,\\ncaptioning: natural language descriptions of the images (see MS COCO Captions),\\nkeypoints detection: containing more than 200,000 images and 250,000 person instances labeled with keypoints (17 possible keypoints, such as left eye, nose, right hip, right ankle),\\nstuff image segmentation \u2013 per-pixel segmentation masks with 91 stuff categories, such as grass, wall, sky (see MS COCO Stuff),\\npanoptic: full scene segmentation, with 80 thing categories (such as person, bicycle, elephant) and a subset of 91 stuff categories (grass, sky, road),\\ndense pose: more than 39,000 images and 56,000 person instances labeled with DensePose annotations \u2013 each labeled person is annotated with an instance id and a mapping between image pixels that belong to that person body and a template 3D model.\\nThe annotations are publicly available only for training and validation images.\\n\\n                    \\n                        \\n                            Source:  https://cocodataset.org/\\n                        \\n                    \\n\\n                ","benchmarks":["ObjectDetection","ObjectDetection","InstanceSegmentation","InstanceSegmentation","Text-to-ImageGeneration","Real-TimeObjectDetection","PoseEstimation","PanopticSegmentation","Cross-ModalRetrieval","Multi-LabelClassification","Few-ShotObjectDetection","PanopticSegmentation","OpenVocabularyObjectDetection","KeypointDetection","Real-timeInstanceSegmentation","ObjectDetection","ImageCaptioning","KeypointDetection","Multi-PersonPoseEstimation","Multi-PersonPoseEstimation","Zero-ShotCross-ModalRetrieval","VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","PoseEstimation","Image-to-TextRetrieval","Single-objectdiscovery","Zero-ShotComposedImageRetrieval(ZS-CIR)","Zero-shotText-to-ImageRetrieval","GeneralizedZero-ShotObjectDetection","KeypointDetection","Zero-ShotObjectDetection","Box-supervisedInstanceSegmentation","ObjectCounting","Weakly-supervisedinstancesegmentation","ObjectDetection","Image-levelSupervisedInstanceSegmentation","UnsupervisedSemanticSegmentation","Zero-ShotObjectDetection","SemanticSegmentation","ImageRetrieval","WeaklySupervisedObjectDetection","Layout-to-ImageGeneration","RegionProposal","VisualQuestionAnswering(VQA)","Multi-LabelImageClassification","WeaklySupervisedObjectDetection","One-ShotObjectDetection","VisualQuestionAnswering(VQA)","KnowledgeDistillation","VisualQuestionAnswering(VQA)","Multi-PersonPoseEstimation","QuestionGeneration","ImageRetrieval","ObjectDetection","mage-to-TextRetrieval","PoseEstimation","RobustObjectDetection","Cross-ModalRetrieval","Text-to-ImageGeneration","OpenWorldObjectDetection","OpenWorldObjectDetection","ConditionalImageGeneration","OpenWorldObjectDetection","InteractiveSegmentation","ImageCaptioning","PoseEstimation","Cross-ModalRetrieval","PoseEstimation","PanopticSegmentation","SceneGraphGeneration","HomographyEstimation","InteractiveSegmentation","Multi-objectdiscovery","ActivenessDetection","ObjectDetection","One-ShotInstanceSegmentation","WeaklySupervisedObjectDetection","ActiveObjectDetection","InstanceSegmentation","SemiSupervisedLearningforImageCaptioning","Few-ShotObjectDetection","ObjectProposalGeneration","ParaphraseGeneration","Real-timeInstanceSegmentation","Point-SupervisedInstanceSegmentation","Quantization","UnsupervisedSemanticSegmentationwithLanguage-imagePre-training","UnsupervisedObjectLocalization","ImageOutpainting","ImageCaptioning","VisualQuestionAnswering","QuestionAnswering","Multi-LabelLearning","VisualQuestionAnswering","FewShotOpenSetObjectDetection","ObjectDetection"],"dataloaders":["https://detectron2.readthedocs.io/en/latest/tutorials/builtin_datasets.html#expected-dataset-structure-for-coco-instance-keypoint-detection","https://github.com/open-mmlab/mmdetection/blob/master/docs/1_exist_data_model.md","https://huggingface.co/datasets/coallaoh/COCO-AB","https://pytorch.org/vision/stable/datasets.html#torchvision.datasets.CocoDetection","https://github.com/PaddlePaddle/PaddleDetection","https://docs.voxel51.com/user_guide/dataset_zoo/datasets.html#dataset-zoo-coco-2017","https://docs.activeloop.ai/datasets/coco-dataset","https://github.com/open-mmlab/mmpose/blob/master/docs/tasks/2d_body_keypoint.md#coco","https://www.tensorflow.org/datasets/catalog/coco"],"best_models":["Co-DETR","Co-DETR","InternImage-H","EVA","PartiFinetuned","YOLOv6-L6","ViTPose","MaskDINO","VAST","ADDS","CD-ViTO","OneFormer","CooperativeFoundationalModels","Sapiens-2B","RTMDet-Ins-x","MaxViT-B","ExpansionNetv2","HRNet*","RSN","SCIO","InternVL-G","SAN","MCB7att.","OmniPose","BLIP-2","IMST","iSEARLE-XL-OTI","BLIP-2","SeeDS","SimpleBase+*","SeeDS","Box2Mask-T","ens","DiscoBox","YOLOv5s","WeakSAM-Mask2Former","IIC","GroundingDINO1.6Pro","OneFormer","BLIP-2ViT-G","MSLPD","LayoutDiffusion","RPN+FocalLoss","HDU-USYD-UNCC","IDA-R101","wetectron","SiameseMaskR-CNN","GraphVQA","ADLIK-Faster","GraphVQA","HRNet-W32","MDN","HADA","MOAT-2","BLIP","ParsingR-CNN+ResNext101","FasterR-CNNwithStylizedTrainingData","NAPReg","AttnGAN","ORE","ORE","U-NetGAN","ORE","ViT-B+MST+CL","NeuSyRE","UniHCP","3SHNet","MSPN","VAN-B6*","NeuSyRE","PFNet","IOG","Large-scalerOSD","LightweightOpenPose","RepPoints+Self-adaptation","SiameseMaskR-CNN","CASD","RetinaNet","R3-CNN","Perturb,Predict&Paraphrase","DETReg","MDef-DETR","HRQ-VAE","RTMDet-Ins-x","BESTIE","SSDResNet50V1FPN640x640","CLIPpyViT-B","DeepCut","NUWA-3D","CapDec","MaMMUT","MaMMUT","SADCL","BenchLMM","FOODv2","DAS"],"short_description":"Object detection, segmentation, key-point detection, and captioning dataset with diverse annotations such as bounding boxes, per-instance segmentation masks, natural language descriptions, keypoints, and per-pixel segmentation masks.","total_num":"328K images"},{"dataset":"MSCOCO","dataset_home":[],"description":"\\n                    Click to add a brief description of the dataset (Markdown and LaTeX enabled).\\nProvide:\\n\\na high-level explanation of the dataset characteristics\\nexplain motivations and summary of its content\\npotential use cases of the dataset\\n\\n                    \\n\\n                ","benchmarks":["OpenVocabularyObjectDetection","Real-timeInstanceSegmentation","ObjectDetection","Zero-ShotObjectDetection","Multi-LabelImageClassification","ImageRetrieval","mage-to-TextRetrieval","ImageOutpainting","ImageCaptioning","FewShotOpenSetObjectDetection","ObjectDetection","Cross-ModalRetrieval","WeaklySupervisedObjectDetection","ParaphraseGeneration"],"dataloaders":[],"best_models":["CooperativeFoundationalModels","RTMDet-Ins-x","YOLOv5s","GroundingDINO1.6Pro","IDA-R101","HADA","BLIP","NUWA-3D","CapDec","FOODv2","DAS","3SHNet","CASD","HRQ-VAE"],"short_description":"NA","total_num":"NA"},{"dataset":"HatefulMemesChallenge","dataset_home":["https://ai.facebook.com/hatefulmemes"],"description":"\\n                    A new challenge set for multimodal classification, focusing on detecting hate speech in multimodal memes.\\n                    \\n                        \\n                            Source:  The Hateful Memes Challenge: Detecting Hate Speech in Multimodal Memes\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Multimodal dataset containing examples of image and text from which hate speech must be detected. It leverages Facebook and Instagram meme data","total_num":"9,000 Examples"},{"dataset":"Winoground","dataset_home":["https://huggingface.co/datasets/facebook/winoground"],"description":"\\n                    Winoground is a dataset for evaluating the ability of vision and language models to conduct visio-linguistic compositional reasoning. Given two images and two captions, the goal is to match them correctly -- but crucially, both captions contain a completely identical set of words, only in a different order. The dataset was carefully hand-curated by expert annotators and is labeled with a rich set of fine-grained tags to assist in analyzing model performance.\\n                    \\n\\n                ","benchmarks":["VisualReasoning"],"dataloaders":[],"best_models":["GPT-4V"],"short_description":"A visio-linguistic dataset with identical set of words in different order for evaluating compositional reasoning","total_num":"NA"},{"dataset":"ChEBI-20","dataset_home":["https://github.com/cnedwards/text2mol/tree/master/data"],"description":"\\n                    Dataset contains 33,010 molecule-description pairs split into 80\\\\%/10\\\\%/10\\\\% train/val/test splits. The goal of the task is to retrieve the relevant molecule for a natural language description. It is defined as follows:\\nTo push the boundaries of multimodal models, we present a new IR task: \\\\textbf{Text2Mol}.\\nGiven a text query and list of molecules without any reference textual information (represented, for example, as SMILES strings, graphs, or other equivalent representations) retrieve the molecule corresponding to the query. From a text description of a molecule, the model must incorporate the information in the description into a semantic representation which can be used to directly retrieve the molecule. This requires the integration of two very different types of information: the structured knowledge represented by text and the chemical properties present in molecular graphs. We assume there is only one correct (relevant) molecule for each description, so we consider two measures for this task: Hits@1 and mean reciprocal rank (MRR). \\n80\\\\% of the data is used for training. Retrieval is done against the entire corpus of molecules (train, val, test).\\n                    \\n\\n                ","benchmarks":["MoleculeCaptioning","Text-baseddenovoMoleculeGeneration","Cross-ModalRetrieval","ImageCaptioning"],"dataloaders":[],"best_models":["BioT5+","BioT5+","DSOKR","GIT-Mol"],"short_description":"A unique dataset containing molecule-description pairs for multimodal model development where text descriptions are mapped to specific molecules","total_num":"33,010 dataset points"},{"dataset":"ImageParagraphCaptioning","dataset_home":["https://cs.stanford.edu/people/ranjaykrishna/im2p/index.html"],"description":"\\n                    The Image Paragraph Captioning dataset allows researchers to benchmark their progress in generating paragraphs that tell a story about an image. The dataset contains 19,561 images from the Visual Genome dataset. Each image contains one paragraph. The training/val/test sets contains 14,575/2,487/2,489 images.\\nSince all the images are also part of the Visual Genome dataset, each image also contains 50 region descriptions (short phrases describing parts of an image), 35 objects, 26 attributes and 21 relationships and 17 question-answer pairs.\\n                    \\n                        \\n                            Source:  A Hierarchical Approach for Generating Descriptive Image Paragraphs\\n                        \\n                    \\n\\n                ","benchmarks":["ImageParagraphCaptioning","Zero-ShotImageParagraphCaptioning"],"dataloaders":[],"best_models":["HSGED","VLIS"],"short_description":"Images are tagged with 50 region descriptions, 35 objects, 26 attributes, 21 relationships and 17 question-answer pairs along with paragraph descriptions","total_num":"19,561 images"},{"dataset":"GoogleRefexp","dataset_home":["https://github.com/mjhucla/Google_Refexp_toolbox"],"description":"\\n                    A new large-scale dataset for referring expressions, based on MS-COCO.\\n                    \\n                        \\n                            Source:  Generation and Comprehension of Unambiguous Object Descriptions\\n                        \\n                    \\n\\n                ","benchmarks":["ReferringExpressionSegmentation","ReferringExpressionComprehension","ReferringExpressionComprehension","ReferringExpressionSegmentation"],"dataloaders":["https://www.tensorflow.org/datasets/catalog/gref","https://github.com/mjhucla/Google_Refexp_toolbox"],"best_models":["UniLSeg-100","ONE-PEACE","UNINEXT-H","UniLSeg-100"],"short_description":"Dataset contains referring expressions for objects in images","total_num":"120,624"},{"dataset":"RSICD(RemoteSensingImageCaptioningDataset)","dataset_home":["https://github.com/201528014227051/RSICD_optimal"],"description":"\\n                    The Remote Sensing Image Captioning Dataset (RSICD) is a dataset for remote sensing image captioning task. It contains more than ten thousands remote sensing images which are collected from Google Earth, Baidu Map, MapABC and Tianditu. The images are fixed to 224X224 pixels with various resolutions. The total number of remote sensing images is 10921, with five sentences descriptions per image.\\n                    \\n                        \\n                            Source:  https://github.com/201528014227051/RSICD_optimal\\n                        \\n                    \\n\\n                ","benchmarks":["Cross-ModalRetrieval","Image-to-TextRetrieval","TextRetrieval"],"dataloaders":["https://github.com/isaaccorley/torchrs","https://github.com/201528014227051/RSICD_optimal"],"best_models":["HarMA","GeoRSCLIP-FT","GeoRSCLIP-FT"],"short_description":"Remote sensing images with various resolutions and five sentences descriptions per image","total_num":"10,921"},{"dataset":"LocalizedNarratives","dataset_home":["https://google.github.io/localized-narratives/"],"description":"\\n                    We propose Localized Narratives, a new form of multimodal image annotations connecting vision and language. We ask annotators to describe an image with their voice while simultaneously hovering their mouse over the region they are describing. Since the voice and the mouse pointer are synchronized, we can localize every single word in the description. This dense visual grounding takes the form of a mouse trace segment per word and is unique to our data. We annotated 849k images with Localized Narratives: the whole COCO, Flickr30k, and ADE20K datasets, and 671k images of Open Images, all of which we make publicly available. We provide an extensive analysis of these annotations showing they are diverse, accurate, and efficient to produce. We also demonstrate their utility on the application of controlled image captioning.\\n                    \\n\\n                ","benchmarks":["ImageCaptioning","Image-to-TextRetrieval","TexttoAudioRetrieval","AudiotoTextRetrieval","ImageRetrieval"],"dataloaders":[],"best_models":["LoopCAG","OPT","OPT","OPT","OPT"],"short_description":"Multimodal image annotations where every single word is localized using mouse trace segments","total_num":"849k images"},{"dataset":"NoCaps","dataset_home":["https://nocaps.org/"],"description":"\\n                    The nocaps benchmark consists of 166,100 human-generated captions describing 15,100 images from the OpenImages validation and test sets.\\n                    \\n                        \\n                            Source:  nocaps: novel object captioning at scale\\n                        \\n                    \\n\\n                ","benchmarks":["ImageCaptioning","ImageCaptioning","ImageCaptioning","ImageCaptioning","ImageCaptioning","ImageCaptioning","ImageCaptioning","ImageCaptioning","ImageCaptioning","ImageCaptioning","ImageCaptioning","ImageCaptioning","ImageCaptioning"],"dataloaders":[],"best_models":["GIT2,SingleModel","PaLI","GIT2,SingleModel","Lyrics","GIT2","GIT2","GIT2","GIT2","BLIP-2ViT-GFlanT5XL","BLIP-2ViT-GFlanT5XL","BLIP-2ViT-GFlanT5XL","BLIP-2ViT-GFlanT5XL","Prismer"],"short_description":"novel object captions describing complex scenes at scale, human-generated","total_num":"166,100 captions, 15,100 images"},{"dataset":"ReferItGame","dataset_home":["http://tamaraberg.com/referitgame/"],"description":"\\n                    The ReferIt dataset contains 130,525 expressions for referring to 96,654 objects in 19,894 images of natural scenes.\\n                    \\n                        \\n                            Source:  BiLingUNet: Image Segmentation by Modulating Top-Down and Bottom-Up Visual Processing with Referring Expressions\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/djiajunustc/TransVG"],"best_models":[],"short_description":"Expressing objects in natural scenes through referring expressions","total_num":"130,525 expressions, 96,654 objects, 19,894 images"},{"dataset":"TextCaps","dataset_home":["https://textvqa.org/textcaps"],"description":"\\n                    Contains 145k captions for 28k images. The dataset challenges a model to recognize text, relate it to its visual context, and decide what part of the text to copy or paraphrase, requiring spatial, semantic, and visual reasoning between multiple text tokens and visual entities, such as objects. \\n                    \\n                        \\n                            Source:  TextCaps: a Dataset for Image Captioning with Reading Comprehension\\n                        \\n                    \\n\\n                ","benchmarks":["ImageCaptioning"],"dataloaders":[],"best_models":["TAP"],"short_description":"Requires spatial, semantic, and visual reasoning to recognize text, relate to its visual context, and decide what part of the text to copy or paraphrase","total_num":"28k images, 145k captions"},{"dataset":"HatefulMemes","dataset_home":["https://ai.facebook.com/blog/hateful-memes-challenge-and-data-set/"],"description":"\\n                    The Hateful Memes data set is a multimodal dataset for hateful meme detection (image + text) that contains 10,000+ new multimodal examples created by Facebook AI. Images were licensed from Getty Images so that researchers can use the data set to support their work.\\n                    \\n\\n                ","benchmarks":["MemeClassification","ImageClustering"],"dataloaders":[],"best_models":["PaLI-X-VPD","TURTLE"],"short_description":"multimodal examples of hateful memes with images licenced from Getty Images","total_num":"10,000+"},{"dataset":"VizWiz(VizWiz-VQA)","dataset_home":["https://vizwiz.org/tasks-and-datasets/vqa/"],"description":"\\n                    The VizWiz-VQA dataset originates from a natural visual question answering setting where blind people each took an image and recorded a spoken question about it, together with 10 crowdsourced answers per visual question. The proposed challenge addresses the following two tasks for this dataset: predict the answer to a visual question and (2) predict whether a visual question cannot be answered.\\n                    \\n                        \\n                            Source:  https://vizwiz.org/tasks-and-datasets/vqa/\\n                        \\n                    \\n\\n                ","benchmarks":["ImageCaptioning","VisualQuestionAnswering(VQA)","ImageCaptioning","VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","VisualQuestionAnswering"],"dataloaders":[],"best_models":["IBMResearchAI","PaLI","IBMResearchAI","Colin","CLIP-Ensemble","ensemble_two_best","Emu-I*"],"short_description":"Unique dataset collected from natural visual question answering setting where blind people recorded spoken questions about images","total_num":"NA"},{"dataset":"COCOCaptions","dataset_home":["https://github.com/tylin/coco-caption"],"description":"\\n                    COCO Captions contains over one and a half million captions describing over 330,000 images. For the training and validation images, five independent human generated captions are be provided for each image.\\n                    \\n                        \\n                            Source:  Microsoft COCO Captions: Data Collection and Evaluation Server\\n                        \\n                    \\n\\n                ","benchmarks":["ImageCaptioning","TextGeneration","ImageCaptioning","Concept-To-TextGeneration"],"dataloaders":["https://pytorch.org/vision/stable/generated/torchvision.datasets.CocoCaptions.html","https://parl.ai/docs/tasks.html#coco_captions","https://www.tensorflow.org/datasets/catalog/coco_captions","https://github.com/tylin/coco-caption"],"best_models":["mPLUG","LeakGAN","FromCaptionstoVisualConceptsandBack","tecpic"],"short_description":"Each image has five independent human-generated captions","total_num":"1.5 million captions, 330,000 images"},{"dataset":"ConceptualCaptions","dataset_home":["https://github.com/google-research-datasets/conceptual-captions"],"description":"\\n                    Automatic image captioning is the task of producing a natural-language utterance (usually a sentence) that correctly reflects the visual content of an image. Up to this point, the resource most used for this task was the MS-COCO dataset, containing around 120,000 images and 5-way image-caption annotations (produced by paid annotators).\\nGoogle\'s Conceptual Captions dataset has more than 3 million images, paired with natural-language captions. In contrast with the curated style of the MS-COCO images, Conceptual Captions images and their raw descriptions are harvested from the web, and therefore represent a wider variety of styles. The raw descriptions are harvested from the Alt-text HTML attribute associated with web images. The authors developed an automatic pipeline that extracts, filters, and transforms candidate image/caption pairs, with the goal of achieving a balance of cleanliness, informativeness, fluency, and learnability of the resulting captions.\\n                    \\n                        \\n                            Source:  Conceptual Captions\\n                        \\n                    \\n\\n                ","benchmarks":["Text-to-ImageGeneration","ImageCaptioning"],"dataloaders":["https://huggingface.co/datasets/google-research-datasets/conceptual_captions","https://huggingface.co/datasets/conceptual_captions","https://github.com/google-research-datasets/conceptual-captions"],"best_models":["ContextualRQ-Transformer","ClipCap"],"short_description":"Dataset harvested from the web, representing a wide variety of styles and including raw descriptions as captions.","total_num":"3 million images"},{"dataset":"EgoShots","dataset_home":["https://github.com/NataliaDiaz/Egoshots"],"description":"\\n                    Egoshots is a 2-month Ego-vision Dataset with Autographer Wearable Camera annotated \\"for free\\" with transfer learning. Three state of the art pre-trained image captioning models are used. The dataset represents the life of 2 interns while working at Philips Research (Netherlands) (May-July 2015) generously donating their data.\\n                    \\n                        \\n                            Source:  https://github.com/NataliaDiaz/Egoshots\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/NataliaDiaz/Egoshots"],"best_models":[],"short_description":"A 2-month Ego-vision Dataset captured by Autographer Wearable Camera, representing daily life of 2 interns at Philips Research","total_num":"NA"},{"dataset":"DeCOCO","dataset_home":["https://www.cl.uni-heidelberg.de/statnlpgroup/decoco/"],"description":"\\n                    DeCOCO is a bilingual (English-German) corpus of image descriptions, where the English part is extracted from the COCO dataset, and the German part are translations by a native German speaker.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Bilingual dataset with English and German translations of image descriptions, where English is extracted from COCO and German is translated by a native speaker","total_num":"NA"},{"dataset":"Hephaestus(Hephaestus:AlargescalemultitaskdatasettowardsInSARunderstanding)","dataset_home":["https://github.com/Orion-AI-Lab/Hephaestus"],"description":"\\n                    Hephaestus is the first large-scale InSAR dataset. Driven by volcanic unrest detection, it provides 19,919 unique satellite frames annotated with a diverse set of labels. Moreover, each sample is accompanied by a textual description of its contents. The goal of this dataset is to boost research on exploitation of interferometric data enabling the application of state-of-the-art computer vision+NLP methods. Furthermore, the annotated dataset is bundled with a large archive of unlabeled frames to enable large-scale self-supervised learning. The final size of the dataset amounts to 110,573 interferograms.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Unique dataset with annotations for volcanic unrest detection and unlabeled frames for self-supervised learning","total_num":"110,573 interferograms"},{"dataset":"WikiScenes","dataset_home":["https://www.cs.cornell.edu/projects/babel/"],"description":"\\n                    The WikiScenes dataset consists of paired images and language descriptions capturing world landmarks and cultural sites, with associated 3D models and camera poses. WikiScenes is derived from the massive public catalog of freely-licensed crowdsourced data in the Wikimedia Commons project, which contains a large variety of images with captions and other metadata. \\nThe dataset contains two forms of textual descriptions for each image: (1) Captions associated with images, describing the image using free-form language, and (2) The WikiCategory hierarchy obtained according to the hierarchy of WikiCategories associated with each image (see the examples in the image below). Overall, WikiScenes contains approximately 63K images with textual descriptions.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Paired images and language descriptions capturing world landmarks and cultural sites, with associated 3D models and camera poses","total_num":"63K images"},{"dataset":"DPC-Captions","dataset_home":["https://github.com/BestiVictory/DPC-Captions"],"description":"\\n                    This is an open-source image captions dataset for the aesthetic evaluation of images.\\nThe dataset is called DPC-Captions, which contains comments of up to five aesthetic attributes of one image through knowledge transfer from a full-annotated small-scale dataset.\\n                    \\n                        \\n                            Source:  https://github.com/BestiVictory/DPC-Captions\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/BestiVictory/DPC-Captions"],"best_models":[],"short_description":"Aesthetic evaluation dataset that uses knowledge transfer to annotate images with up to five aesthetic attributes.","total_num":"NA"},{"dataset":"ImageandVideoAdvertisements","dataset_home":["http://people.cs.pitt.edu/~kovashka/ads/"],"description":"\\n                    The Image and Video Advertisements collection consists of an image dataset of 64,832 image ads, and a video dataset of 3,477 ads. The data contains rich annotations encompassing the topic and sentiment of the ads, questions and answers describing what actions the viewer is prompted to take and the reasoning that the ad presents to persuade the viewer (\\"What should I do according to this ad, and why should I do it? \\"), and symbolic references ads make (e.g. a dove symbolizes peace). \\n                    \\n                        \\n                            Source:  Automatic Understanding of Image and Video Advertisements\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://docs.google.com/document/d/1C76nMSNrBBqKfgqlK3zneVj10NKGy4WuN9r9Cicjlz4/edit?usp=sharing"],"best_models":[],"short_description":"Rich annotations of ads including topic, sentiment, questions, answers, and symbolic references","total_num":{"images":"64,832","videos":"3,477"}},{"dataset":"LAIONCOCO","dataset_home":["https://laion.ai/blog/laion-coco/"],"description":"\\n                    LAION-COCO is the world\u2019s largest dataset of 600M generated high-quality captions for publicly available web-images. The images are extracted from the english subset of Laion-5B with an ensemble of BLIP L/14 and 2 CLIP versions (L/14 and RN50x64). This dataset allow models to produce high quality captions for images.\\n                    \\n                        \\n                            Source:  LAION COCO: 600M SYNTHETIC CAPTIONS FROM LAION2B-EN\\n                        \\n                    \\n\\n                ","benchmarks":["Text-to-ImageGeneration"],"dataloaders":[],"best_models":["PartiFinetuned"],"short_description":"Generated high-quality captions for publicly available web-images with ensemble of BLIP L/14 and 2 CLIP versions","total_num":"600M captions"},{"dataset":"Flickr-8k","dataset_home":["http://hockenmaier.cs.illinois.edu/8k-pictures.html"],"description":"\\n                    Contains 8k flickr Images with captions. Visit this page to explore the data. \\nCite this paper if you find it useful in your research: Framing image description as a ranking task: data, models and evaluation metrics\\n                    \\n\\n                ","benchmarks":["Cross-ModalRetrieval"],"dataloaders":["https://pytorch.org/vision/stable/generated/torchvision.datasets.Flickr8k.html"],"best_models":["NAPReg"],"short_description":"Contains images from flickr with captions","total_num":"8k images"},{"dataset":"PeirGross","dataset_home":[],"description":"\\n                    Peir Gross (Jing et al., 2018) was collected with descriptions in the Gross sub-collection from PEIR digital library, resulting in 7.442 image-caption pairs from 21 different sub-categories. Each caption contains only one sentence.\\n                    \\n\\n                ","benchmarks":["ImageCaptioning"],"dataloaders":[],"best_models":["BiomedGPT"],"short_description":"Captions contain only one sentence from 21 different sub-categories","total_num":"7,442 image-caption pairs"},{"dataset":"PoMo","dataset_home":["https://github.com/StonyBrookNLP/PoMo"],"description":"\\n                    PoMo consists of more than 231K sentences with post-modifiers and associated facts extracted from Wikidata for around 57K unique entities.\\n                    \\n                        \\n                            Source:  PoMo: Generating Entity-Specific Post-Modifiers in Context\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/StonyBrookNLP/PoMo"],"best_models":[],"short_description":"Entity-specific post-modifiers extracted from Wikidata for around 57K unique entities","total_num":"231K sentences"},{"dataset":"STAIRCaptions","dataset_home":["http://captions.stair.center/"],"description":"\\n                    STAIR Captions is a large-scale dataset containing 820,310 Japanese captions.\\nThis dataset can be used for caption generation, multimodal retrieval, and image generation.\\n                    \\n                        \\n                            Source:  STAIR Captions\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"large-scale dataset for caption generation, multimodal retrieval, and image generation","total_num":"820,310 Japanese captions"},{"dataset":"TencentML-Images","dataset_home":["https://github.com/Tencent/tencent-ml-images"],"description":"\\n                    Tencent ML-Images is a large open-source multi-label image database, including 17,609,752 training and 88,739 validation image URLs, which are annotated with up to 11,166 categories.\\n                    \\n                        \\n                            Source:  Tencent ML-Images\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/Tencent/tencent-ml-images"],"best_models":[],"short_description":"Large multi-label image database with up to 11,166 categories","total_num":"17,609,752 training and 88,739 validation images"},{"dataset":"OpenImagesV7","dataset_home":["https://g.co/dataset/open-images"],"description":"\\n                    Open Images is a computer vision dataset covering ~9 million images with labels spanning thousands of object categories. A subset of 1.9M includes diverse annotations types.\\n\\n15,851,536 boxes on 600 classes\\n2,785,498 instance segmentations on 350 classes\\n3,284,280 relationship annotations on 1,466 relationships\\n675,155 localized narratives (synchronized voice, mouse trace, and text caption)\\n66,391,027 point-level annotations on 5,827 classes\\n61,404,966 image-level labels on 20,638 classes\\n\\nImages are under a  CC BY 2.0 license, annotations under  CC BY 4.0 license.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://docs.voxel51.com/user_guide/dataset_zoo/datasets.html#open-images-v7"],"best_models":[],"short_description":"A large computer vision dataset with diverse annotations types, thousands of object categories and various annotation types.","total_num":"9 million images"},{"dataset":"Concadia","dataset_home":["https://github.com/elisakreiss/concadia"],"description":"\\n                    Concadia is a publicly available Wikipedia-based corpus, which consists of 96,918 images with corresponding English-language descriptions, captions, and surrounding context.\\n                    \\n\\n                ","benchmarks":["CaptionGeneration"],"dataloaders":["https://github.com/elisakreiss/concadia"],"best_models":["VLIS"],"short_description":"Images with corresponding English-language descriptions, captions, and surrounding context","total_num":"96,918 images"},{"dataset":"ImageEditingRequestDataset","dataset_home":["https://github.com/airsplay/VisualRelationships"],"description":"\\n                    A new language-guided image editing dataset that contains a large number of real image pairs with corresponding editing instructions. \\n                    \\n                        \\n                            Source:  Expressing Visual Relationships via Language\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/airsplay/VisualRelationships"],"best_models":[],"short_description":"The dataset contains real image pairs with corresponding editing instructions, showcasing unique visual relationships via language.","total_num":"NA"},{"dataset":"BanglaLekhaImageCaptions","dataset_home":["https://data.mendeley.com/datasets/rxxch9vw59/2"],"description":"\\n                    This dataset consists of images and annotations in Bengali. The images are human annotated in Bengali by two adult native Bengali speakers. All popular image captioning datasets have a predominant western cultural bias with the annotations done in English. Using such datasets to train an image captioning system assumes that a good English to target language translation system exists and that the original dataset had elements of the target culture. Both these assumptions are false, leading to the need of a culturally relevant dataset in Bengali, to generate appropriate image captions of images relevant to the Bangladeshi and wider subcontinental context. The dataset presented consists of 9,154 images.\\n                    \\n\\n                ","benchmarks":["ImageCaptioning"],"dataloaders":[],"best_models":["CNN+1DCNN"],"short_description":"Human annotated in Bengali images, culturally relevant to the Bangladeshi and wider subcontinental context","total_num":"9,154 images"},{"dataset":"UIT-ViIC","dataset_home":["https://sites.google.com/uit.edu.vn/uit-nlp/"],"description":"\\n                    UIT-ViIC contains manually written captions for images from Microsoft COCO dataset relating to sports played with ball. UIT-ViIC consists of 19,250 Vietnamese captions for 3,850 images.\\n                    \\n                        \\n                            Source:  UIT-ViIC: A Dataset for the First Evaluation on Vietnamese Image Captioning\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Manually written captions for images from MS COCO dataset relating to sports played with ball","total_num":"19,250"},{"dataset":"PFN-PIC(PFNPickingInstructionsforCommoditiesDataset)","dataset_home":["https://github.com/pfnet-research/picking-instruction"],"description":"\\n                    This dataset is a collection of spoken language instructions for a robotic system to pick and place common objects. Text instructions and corresponding object images are provided.\\nThe dataset consists of situations where the robot is instructed by the operator to pick up a specific object and move it to another location: for example, Move the blue and white tissue box to the top right bin.\\nThis dataset consists of RGBD images, bounding box annotations, destination box annotations, and text instructions.\\n                    \\n                        \\n                            Source:  https://github.com/pfnet-research/picking-instruction\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/pfnet-research/picking-instruction"],"best_models":[],"short_description":"RGBD images of spoken language instructions for a robotic system to pick and place common objects, with corresponding bounding box annotations and destination box annotations","total_num":"NA"},{"dataset":"ObjectHalBench","dataset_home":[],"description":"\\n                    Object HalBench is a benchmark used to evaluate the performance of Language Models, particularly those that are multimodal (i.e., they can process and generate both text and images). It\'s designed to test how well these models can avoid \\"hallucinations\\" - generating text that is not factually grounded in the images they\'re processing\xb9.\\nFor instance, the OmniLMM-12B model, which is a state-of-the-art open-source Language Model, has been reported to outperform GPT-4V on the Object HalBench\xb9. This model is aligned via a technique called multimodal RLHF (Reinforcement Learning from Human Feedback) for trustworthy behavior\xb9. This means it\'s designed to generate outputs that are more reliable and factually accurate, particularly when dealing with multimodal inputs\xb9. \\n(1) openbmb/OmniLMM-12B \xb7 Hugging Face. https://huggingface.co/openbmb/OmniLMM-12B.\\n(2) OmniLMM\uff1a\u51c6\u786e\u3001\u9ad8\u6548\u7684\u5f00\u6e90\u591a\u6a21\u6001\u5927\u6a21\u578b - \u77e5\u4e4e. https://zhuanlan.zhihu.com/p/681251797.\\n(3) RLHF-V: Towards Trustworthy MLLMs via Behavior Alignment from - arXiv.org. https://arxiv.org/html/2312.00849v2.\\n(4) README.md \xb7 openbmb/MiniCPM-V-2 at main - Hugging Face. https://huggingface.co/openbmb/MiniCPM-V-2/blob/main/README.md.\\n(5) undefined. https://github.com/OpenBMB/OmniLMM.git.\\n                    \\n\\n                ","benchmarks":["ImageCaptioning"],"dataloaders":[],"best_models":["RLHF-V"],"short_description":"Unique multimodal dataset designed to evaluate the performance of Language Models in avoiding hallucinations and generating factually grounded text from images.","total_num":"NA"},{"dataset":"WHOOPS!","dataset_home":["https://whoops-benchmark.github.io/"],"description":"\\n                    WHOOPS! Is a dataset and benchmark for visual commonsense. The dataset is comprised of purposefully commonsense-defying images created by designers using publicly-available image generation tools like Midjourney. It contains commonsense-defying image from a wide range of reasons, deviations from expected social norms and everyday knowledge.\\n                    \\n\\n                ","benchmarks":["ExplanationGeneration","Image-to-TextRetrieval","ImageCaptioning","VisualQuestionAnswering(VQA)"],"dataloaders":["https://huggingface.co/datasets/nlphuji/whoops"],"best_models":["Ground-truthCaption->GPT3","BLIP2FlanT5-XXL","BLIP2FlanT5-XXL","BLIP2FlanT5-XXL"],"short_description":"Commonsense-defying images created using publicly-available image generation tools like Midjourney, deviating from expected social norms and everyday knowledge.","total_num":"NA"},{"dataset":"CITE","dataset_home":["https://github.com/malihealikhani/CITE"],"description":"\\n                    CITE is a crowd-sourced resource for multimodal discourse: this resource characterises inferences in image-text contexts in the domain of cooking recipes in the form of coherence relations.\\n                    \\n                        \\n                            Source:  CITE: A Corpus of Image-Text Discourse Relations\\n                        \\n                    \\n\\n                ","benchmarks":["RecommendationSystems"],"dataloaders":["https://github.com/malihealikhani/CITE"],"best_models":["RATE-CSE"],"short_description":"A corpus characterising inferences in image-text contexts in the domain of cooking recipes","total_num":"NA"},{"dataset":"SBUCaptionsDataset","dataset_home":["https://www.cs.rice.edu/~vo9/sbucaptions/"],"description":"\\n                    A collection that allows researchers to approach the extremely challenging problem of description generation using relatively simple non-parametric methods and produces surprisingly effective results.\\n                    \\n                        \\n                            Source:  Im2Text: Describing Images Using 1 Million Captioned Photographs\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://huggingface.co/datasets/vicenteor/sbu_captions","https://huggingface.co/datasets/sbu_captions","https://pytorch.org/vision/stable/generated/torchvision.datasets.SBU.html"],"best_models":[],"short_description":"Allows non-parametric methods to approach description generation effectively","total_num":"1 million captioned photographs"},{"dataset":"DIOR-RSVG","dataset_home":["https://github.com/zhanyang-nwpu/rsvg-pytorch"],"description":"\\n                    DIOR-RSVG is a large-scale benchmark dataset of remote sensing data (RSVG). It aims to localize the referred objects in remote sensing (RS) images with the guidance of natural language. This new dataset includes image/expression/box triplets for training and evaluating visual grounding models.\\n                    \\n                        \\n                            Source:  RSVG: Exploring Data and Models for Visual Grounding on Remote Sensing Data\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Image/expression/box triplets for visual grounding in remote sensing data with natural language guidance","total_num":"NA"},{"dataset":"ESPDataset(EvaluationforStyledPromptdatase)","dataset_home":["https://github.com/JiwanChung/esper"],"description":"\\n                    ESP dataset (Evaluation for Styled Prompt dataset) is a new benchmark for zero-shot domain-conditional caption generation. The dataset aims to evaluate the capability to generate diverse domain-specific language conditioned on the same image. It comprises 4.8k captions from 1k images in the COCO Captions test set. We collected five text domains with everyday usage: blog, social media, instruction, story, and news using Amazon MTurk.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Diverse domain-specific language conditioned on the same image","total_num":"4.8k captions (from 1k images)"},{"dataset":"BalitaNLP","dataset_home":["https://github.com/KenrickLance/BalitaNLP-Dataset"],"description":"\\n                    A Filipino multi-modal language dataset for text+visual tasks. Consists of 351,755 Filipino news articles gathered from Filipino news outlets.\\nEach entry contains:\\n\\nbody - Article text\\ntitle - Article title\\nwebsite - Name of the news outlet\\ncategory - News category given by the news outlet\\ndate - Date published\\nauthor - Article author\\nurl - URL of the article\\nimg_url - URL of the article image\\nimg_path - Filename of the image in the dataset\\n\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A multi-modal Filipino language dataset for text+visual tasks with news articles from various Filipino news outlets","total_num":"351,755"},{"dataset":"WebLI(WebLanguageImage)","dataset_home":[],"description":"\\n                    WebLI (Web Language Image) is a web-scale multilingual image-text dataset, designed to support Google\u2019s vision-language research, such as the large-scale pre-training for image understanding, image captioning, visual question answering, object detection etc.\\nThe dataset is built from the public web, including image bytes, image-associated texts (alt-text, OCR, page title), 109 languages and many other features. The dataset is deduplicated on 68 common vision/vision-language tasks, and has no user or personally identifiable data with careful RAI considerations.\\n                    \\n                        \\n                            Source:  PaLI: A Jointly-Scaled Multilingual Language-Image Model\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A multilingual web-scale image-text dataset with image bytes, image-associated texts (alt-text, OCR, page title) in 109 languages","total_num":"NA"},{"dataset":"WikiWeb2M(WikipediaWebpage2M)","dataset_home":["https://github.com/google-research-datasets/wit/blob/main/wikiweb2m.md"],"description":"\\n                    Wikipedia Webpage 2M (WikiWeb2M) is a multimodal open source dataset consisting of over 2 million English Wikipedia articles. It is created by rescraping the \u223c2M English articles in WIT. Each webpage sample includes the page URL and title, section titles, text, and indices, images and their captions.\\n                    \\n                        \\n                            Source:  WikiWeb2M: A Page-Level Multimodal Wikipedia Dataset\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Multimodal dataset of Wikipedia pages including text, images and captions","total_num":"2 million"},{"dataset":"VDQG(VisualDiscriminativeQuestionGeneration)","dataset_home":["http://mmlab.ie.cuhk.edu.hk/projects/vdqg/#dataset"],"description":"\\n                    The Visual Discriminative Question Generation (VDQG) dataset contains 11202 ambiguous image pairs collected from Visual Genome. Each image pair is annotated with 4.6 discriminative questions and 5.9 non-discriminative questions on average.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Each image pair is annotated with discriminative and non-discriminative questions","total_num":"11202 image pairs"},{"dataset":"T2Guiding","dataset_home":["https://github.com/google-research-datasets/T2-Guiding"],"description":"\\n                    T2 Guiding is a dataset of 1000 images, each with six image labels. The images are from the Open Images Dataset (OID) and the dataset includes 2 sets of machine-generated labels for these images.\\n\\nObject labels: Three random object labels generated by a FRCNN model trained on Visual Genome.\\nImage labels: Three random image labels obtained from Google Cloud Vision API.\\n\\n                    \\n                        \\n                            Source:  T2-Guiding\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/google-research-datasets/T2-Guiding"],"best_models":[],"short_description":"Combination of machine-generated object labels and image labels from different sources, including FRCNN model and Google Cloud Vision API","total_num":"1000 images"},{"dataset":"RPCD(RedditPhotoCritiqueDataset)","dataset_home":["https://zenodo.org/record/6985507#.YvZ3bxuxVp8"],"description":"\\n                    The Reddit Photo Critique Dataset (RPCD) contains tuples of image and photo critiques. RPCD consists of 74K images and 220K comments and is collected from a Reddit community used by hobbyists and professional photographers to improve their photography skills by leveraging constructive community feedback.\\nThe proposed dataset differs from previous aesthetics datasets mainly in three aspects, namely\\n\\nthe large scale of the dataset and the extension of the comments criticizing different aspects of the image;\\nit contains mostly UltraHD images;\\nit can easily be extended to new data as it is collected through an automatic pipeline.\\n\\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/mediatechnologycenter/aestheval"],"best_models":[],"short_description":"Dataset consists of UltraHD images along with user comments on various aspects of the image.","total_num":"74K images, 220K comments"},{"dataset":"PoseScript","dataset_home":["https://europe.naverlabs.com/research/computer-vision/posescript/"],"description":"\\n                    PoseScript is a dataset that pairs a few thousand 3D human poses from AMASS with rich human-annotated descriptions of the body parts and their spatial relationships. This dataset is designed for the retrieval of relevant poses from large-scale datasets and synthetic pose generation, both based on a textual pose description.\\n                    \\n                        \\n                            Source:  PoseScript: 3D Human Poses from Natural Language\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A dataset that pairs 3D human poses from AMASS with rich human-annotated descriptions of the body parts and their spatial relationships for text-to-pose retrieval and generation.","total_num":"NA"},{"dataset":"ParsVQA-Caps","dataset_home":["https://www.kaggle.com/datasets/maryamsadathashemi/parsvqacaps"],"description":"\\n                    Despite recent advances in vision-and-language tasks, most progress is still focused on resource-rich languages such as English. Furthermore, widespread vision-and-language datasets directly adopt images representative of American or European cultures resulting in bias. Hence we introduce ParsVQA-Caps, the first benchmark in Persian for Visual Question Answering and Image Captioning tasks. We utilize two ways to collect datasets for each task, human-based and template-based for VQA and human-based and web-based for image captioning. The image captioning dataset consists of over 7.5k\\nimages and about 9k captions. The VQA dataset consists of almost 11k images and 28.5k question and answer pairs with short and long answers usable for both classification and generation VQA.\\n                    \\n                        \\n                            Source:  ParsVQA-Caps: A Benchmark for Visual Question Answering and Image Captioning in Persian\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"First Persian benchmark for Visual Question Answering and Image Captioning, reducing bias towards American and European cultures.","total_num":"VQA: 11k images, 28.5k question and answer pairs, Captioning: 7.5k images, 9k captions"},{"dataset":"InFashAI(InclusiveFashionAI)","dataset_home":[],"description":"\\n                    AI algorithms, and in particular Machine Learning (ML) algorithms, learn from data tasks that have been traditionally done by humans such as: image classification, facial recognition, linguistic translation etc. To have a good generalization capability, AI algorithms must learn from sufficiently representative data, which is unfortunately not often the case. This results in a hyper-specialization of AI and its inability to perform well on new data whose distribution is too far from the one of the training set. It raises ethical questions which will undoubtedly have direct or indirect consequences on society. However, and despite biases they can entail, AI technologies are revolutionizing virtually every industry, and are forcing players in those industries to reinvent their businesses.\\nLike many industries, the fashion industy is being hit hard by exponential advances in AI. AI technologies are now able to describe a dress model, extract its attributes (color, style, type of sleeve, etc.), predict future fashion trends and even offer personalized clothing styles. Several publicly large datasets of fashion images made it possible.\\nHowever, the lack of diversity in available datasets is palpable. For example, images of African fashion are almost absent from these datasets. It raises problems in terms of ability to generalize algorithms trained on those datasets to African styles for instance, and therefore it limits the adoption of AI technologies within the African fashion industry.\\nTherefore, for an inclusive AI in the field of fashion, and to ensure that African fashion can benefit from the potentials of AI, Ai4Innov initiated the Inclusive Fashion AI project (InFashAI) which aims to create datasets that are much more representative of the diversity that exists in the world of fashion. We will first focus on building up a large volume of data on African fashion. This dataset will be progressively open source and, we hope, will be the backbone for AI tools adapted to African fashion.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Dataset of African fashion images, created to represent the diversity of African fashion and make AI tools more inclusive.","total_num":"NA"},{"dataset":"Kvasir-VQA(AText-ImagePairGITractDataset)","dataset_home":["https://datasets.simula.no/kvasir-vqa/"],"description":"\\n                    The Kvasir-VQA dataset is an extended dataset derived from the HyperKvasir and Kvasir-Instrument datasets, augmented with question-and-answer annotations. This dataset is designed to facilitate advanced machine learning tasks in gastrointestinal (GI) diagnostics, including image captioning, Visual Question Answering (VQA) and text-based generation of synthetic medical images.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Extended gastrointestinal (GI) dataset with question-and-answer annotations for image captioning, Visual Question Answering (VQA) and text-based generation of synthetic medical images.","total_num":"NA"},{"dataset":"MCIC-COCO","dataset_home":["https://github.com/google/mcic-coco"],"description":"\\n                    A large-scale machine comprehension dataset (based on the COCO images and captions).\\n                    \\n                        \\n                            Source:  Understanding Image and Text Simultaneously: a Dual Vision-Language Machine Comprehension Task\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/google/mcic-coco"],"best_models":[],"short_description":"Based on COCO images and captions for dual vision-language machine comprehension task","total_num":"NA"},{"dataset":"CapGaze","dataset_home":["https://github.com/SenHe/Human-Attention-in-Image-Captioning"],"description":"\\n                    Consists of eye movements and verbal descriptions recorded synchronously over images.\\n                    \\n                        \\n                            Source:  Human Attention in Image Captioning: Dataset and Analysis\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/SenHe/Human-Attention-in-Image-Captioning"],"best_models":[],"short_description":"Consists of eye movements and verbal descriptions recorded synchronously over images","total_num":"NA"},{"dataset":"ImageCaptionQualityDataset","dataset_home":["https://github.com/google-research-datasets/Image-Caption-Quality-Dataset"],"description":"\\n                    Image Caption Quality Dataset is a dataset of crowdsourced ratings for machine-generated image captions. It contains more than 600k ratings of image-caption pairs.\\n                    \\n                        \\n                            Source:  https://arxiv.org/abs/1909.03396\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/google-research-datasets/Image-Caption-Quality-Dataset"],"best_models":[],"short_description":"Crowdsourced ratings for machine-generated image captions","total_num":"600k ratings"},{"dataset":"ESP(EvaluationforStyledPrompt)","dataset_home":["https://github.com/JiwanChung/esper"],"description":"\\n                    ESP dataset (Evaluation for Styled Prompt dataset) is a benchmark for zero-shot domain-conditional caption generation. ESP is a new dataset focusing on providing multiple styled text targets for the same image. It comprises 4.8k captions from 1k images in the COCO Captions test set. We collect five text domains with everyday usage: blog, social media, instruction, story, and news.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A zero-shot domain-conditional caption generation dataset with multiple styled text targets for the same image","total_num":"4.8k captions from 1k images"},{"dataset":"BNATURE","dataset_home":["https://www.kaggle.com/almominfaruk/bnaturebengali-image-captioning-dataset"],"description":"\\n                    This is a dataset for Bengali Captioning from Images.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Contains Bengali captions for images, unique in its language and cultural context","total_num":"NA"},{"dataset":"VizWiz-QualityIssues","dataset_home":["https://vizwiz.org/tasks-and-datasets/image-quality-issues/"],"description":"\\n                    A large-scale dataset that links the assessment of image quality issues to two practical vision tasks: image captioning and visual question answering.\\n                    \\n                        \\n                            Source:  Assessing Image Quality Issues for Real-World Problems\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"total_num":"NA","short_description":"A unique dataset that assesses image quality issues and correlates them with real-world vision tasks like image captioning and visual question answering."},{"dataset":"VizWiz-Priv(VisualPrivacydataset)","dataset_home":["https://vizwiz.org/"],"description":"\\n                    VizWiz-Priv includes 8,862 regions showing private content across 5,537 images taken by blind people. Of these, 1,403 are paired with questions and 62% of those directly ask about the private content.\\n                    \\n                        \\n                            Source:  VizWiz-Priv: A Dataset for Recognizing the Presence and Purpose of Private Visual Information in Images Taken by Blind People\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Images are taken by blind people and contain private visual information","total_num":"5,537 images"},{"dataset":"SCapRepo(GooglePlayScreenshotCaption)","dataset_home":["https://github.com/Jl-wei/guing"],"description":"\\n                    A screenshot-caption dataset containing 135k pairs of screenshots and captions extracted from Google Play.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Unique screenshots from Google Play along with corresponding captions","total_num":"135k pairs"},{"dataset":"SkyEye-968k","dataset_home":["https://huggingface.co/datasets/ZhanYang-nwpu/SkyEye-968k"],"description":"\\n                    SkyEyeGPT: Unifying Remote Sensing Vision-Language Tasks via Instruction Tuning with Large Language Model\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"NA","total_num":"NA"},{"dataset":"OpenCHAIR","dataset_home":["https://huggingface.co/datasets/moranyanuka/OpenCHAIR"],"description":"\\n                    OpenCHAIR is a benchmark for evaluating open-vocabulary hallucinations in image captioning models. \\nBy leveraging the linguistic knowledge of LLMs, OpenCHAIR is able to perform fine-grained hallucination measurements, as well as significantly increase the amount of objects that can be measured (especially when compared to the existing benchmark, CHAIR).\\nTo exploit the LLM\'s full potential we construct a new dataset by generating 2000 captions with highly diverse objects and let a powerful text-to-image model generate images for them. We find that we are not just able to increase the benchmark\'s diversity, but also improve the evaluation accuracy with respect to CHAIR\'s.\\nFor more info see https://assafbk.github.io/mocha/\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Captions with highly diverse objects generated via a powerful text-to-image model","total_num":"2000 captions"},{"dataset":"Polaris(Polarisdataset)","dataset_home":["https://huggingface.co/datasets/yuwd/Polaris"],"description":"\\n                    The Polaris dataset offers a large-scale, diverse benchmark for evaluating metrics for image captioning, surpassing existing datasets in terms of size, caption diversity, number of human judgments, and granularity of the evaluations. It includes 131,020 generated captions and 262,040 reference captions. The generated captions have a vocabulary of 3,154 unique words and the reference captions have a vocabulary of 22,275 unique words.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Large-scale, diverse benchmark for evaluating metrics for image captioning with variable vocabulary size (3,154 unique words for generated captions, 22,275 unique words for reference captions)","total_num":"393,060 (131,020 generated captions + 262,040 reference captions)"},{"dataset":"IIW-400(ImageInWords:IIW-400)","dataset_home":["https://google.github.io/imageinwords/"],"description":"\\n                    Please refer: \\nhttps://github.com/google/imageinwords/blob/main/datasets/IIW-400/README.md\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Relative attribute ratings of 39987 images with 9 attributes as described in the paper: \'Relative attributes\' by Devi Parikh and Kristen Grauman.","total_num":"39987"},{"dataset":"VizWiz-Captions","dataset_home":["https://vizwiz.org/tasks-and-datasets/image-captioning/"],"description":"\\n                    Consists of over 39,000 images originating from people who are blind that are each paired with five captions.\\n                    \\n                        \\n                            Source:  Captioning Images Taken by People Who Are Blind\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Paired images taken by people who are blind with human-generated captions","total_num":"39,000 images"},{"dataset":"IUX-Ray","dataset_home":[],"description":"\\n                    IU X-ray (Demner-Fushman et al., 2016) is a set of chest X-ray images paired with their corresponding diagnostic reports. The dataset contains 7,470 pairs of images and reports.\\n                    \\n\\n                ","benchmarks":["ImageCaptioning","MedicalReportGeneration"],"dataloaders":["https://github.com/zhjohnchan/R2GenCMN"],"best_models":["BiomedGPT","S4M"],"short_description":"Chest X-ray images paired with their corresponding diagnostic reports","total_num":"7,470 pairs"},{"dataset":"SCICAP","dataset_home":["https://github.com/tingyaohsu/SciCap"],"description":"\\n                    SCICAP is a large-scale image captioning dataset that contains real-world scientific figures and captions. SCICAP was constructed using more than two million images from over 290,000 papers collected and released by arXiv.\\n                    \\n\\n                ","benchmarks":["ImageCaptioning"],"dataloaders":["https://github.com/tingyaohsu/scicap"],"best_models":["CNN+LSTM"],"short_description":"Unique scientific figures from arXiv papers","total_num":"2 million images"},{"dataset":"WIDER(WebImageDatasetforEventRecognition)","dataset_home":["http://yjxiong.me/event_recog/WIDER/"],"description":"\\n                    WIDER is a dataset for complex event recognition from static images. As of v0.1, it contains 61 event categories and around 50574 images annotated with event class labels.\\n                    \\n\\n                ","benchmarks":["BlindFaceRestoration"],"dataloaders":["https://docs.activeloop.ai/datasets/wider-dataset"],"best_models":["DiffBIR"],"short_description":"Complex event recognition from static images with 61 event categories","total_num":"50,574 images"},{"dataset":"COCO-CN","dataset_home":["https://github.com/li-xirong/coco-cn"],"description":"\\n                    COCO-CN is a bilingual image description dataset enriching MS-COCO with manually written Chinese sentences and tags. The new dataset can be used for multiple tasks including image tagging, captioning and retrieval, all in a cross-lingual setting.\\n                    \\n                        \\n                            Source:  COCO-CN\\n                        \\n                    \\n\\n                ","benchmarks":["Zero-shotImageRetrieval","ImageRetrieval","Zero-shotText-to-ImageRetrieval"],"dataloaders":["https://github.com/li-xirong/coco-cn"],"best_models":["M2-Encoder","CN-CLIP","M2-Encoder"],"short_description":"A bilingual image description dataset enriching MS-COCO with manually written Chinese sentences and tags for cross-lingual tasks like image tagging, captioning and retrieval.","total_num":"NA"},{"dataset":"FlickrStyle10K","dataset_home":["https://zhegan27.github.io/Papers/FlickrStyle_v0.9.zip"],"description":"\\n                    FlickrStyle10K is collected and built on Flickr30K image caption dataset. The original FlickrStyle10K dataset has 10,000 pairs of images and stylized captions including humorous and romantic styles. However, only 7,000 pairs from the of\ufb01cial training set are now publicly accessible. The dataset can be downloaded via https://zhegan27.github.io/Papers/FlickrStyle_v0.9.zip\\n                    \\n\\n                ","benchmarks":["ImageCaptioning","SemiSupervisedLearningforImageCaptioning"],"dataloaders":[],"best_models":["CapDec","CapDec"],"short_description":"Pairs of images with stylized captions in various styles, including humorous and romantic.","total_num":"10,000 pairs of images and stylized captions (only 7,000 publicly accessible)"},{"dataset":"SentiCap","dataset_home":["http://users.cecs.anu.edu.au/~u4534172/senticap.html"],"description":"\\n                    The SentiCap dataset contains several thousand images with captions with positive and negative sentiments. These sentimental captions are constructed by the authors by re-writing factual descriptions. In total there are 2000+ sentimental captions.\\n                    \\n                        \\n                            Source:  SentiCap: Generating Image Descriptions with Sentiments\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Sentimental captions constructed by re-writing factual descriptions","total_num":"2000+ captions"},{"dataset":"UTZappos50K","dataset_home":["http://vision.cs.utexas.edu/projects/finegrained/utzap50k/"],"description":"\\n                    UT Zappos50K is a large shoe dataset consisting of 50,025 catalog images collected from Zappos.com. The images are divided into 4 major categories \u2014 shoes, sandals, slippers, and boots \u2014 followed by functional types and individual brands. The shoes are centered on a white background and pictured in the same orientation for convenient analysis.\\n                    \\n                        \\n                            Source:  UT Zappos50K\\n                        \\n                    \\n\\n                ","benchmarks":["CompositionalZero-ShotLearning"],"dataloaders":["https://docs.activeloop.ai/datasets/utzappos50k-dataset"],"best_models":["CANet"],"short_description":"Images are centered on a white background and have the same orientation","total_num":"50,025 images"},{"dataset":"Flickr30k","dataset_home":["https://shannon.cs.illinois.edu/DenotationGraph/"],"description":"\\n                    The Flickr30k dataset contains 31,000 images collected from Flickr, together with 5 reference sentences provided by human annotators.\\n                    \\n                        \\n                            Source:  Guiding Long-Short Term Memory for Image Caption Generation\\n                        \\n                    \\n\\n                ","benchmarks":["Cross-ModalRetrieval","Zero-ShotCross-ModalRetrieval","ImageRetrieval","Image-to-TextRetrieval","ImageRetrieval","NodeClassification","ImageCaptioning","PhraseGrounding","SemiSupervisedLearningforImageCaptioning","mage-to-TextRetrieval"],"dataloaders":["https://pytorch.org/vision/stable/generated/torchvision.datasets.Flickr30k.html","https://parl.ai/docs/tasks.html#flickr30k","https://docs.activeloop.ai/datasets/flickr30k-dataset"],"best_models":["X2-VLM","InternVL-G","X-VLM","InternVL-G-FT","BLIP-2ViT-G","GCN+GAugM","UnifiedVLP","GBSEnsemble+12-in-1","CapDec","HADA"],"short_description":"Each image is provided with 5 reference sentences from human annotators","total_num":"31,000 images"}]'),lu=JSON.parse('[{"dataset":"MNIST","dataset_home":["http://yann.lecun.com/exdb/mnist/"],"description":"\\n                    The MNIST database (Modified National Institute of Standards and Technology database) is a large collection of handwritten digits. It has a training set of 60,000 examples, and a test set of 10,000 examples. It is a subset of a larger NIST Special Database 3 (digits written by employees of the United States Census Bureau) and Special Database 1 (digits written by high school students) which contain monochrome images of handwritten digits. The digits have been size-normalized and centered in a fixed-size image. The original black and white (bilevel) images from NIST were size normalized to fit in a 20x20 pixel box while preserving their aspect ratio. The resulting images contain grey levels as a result of the anti-aliasing technique used by the normalization algorithm. the images were centered in a 28x28 image by computing the center of mass of the pixels, and translating the image so as to position this point at the center of the 28x28 field.\\n                    \\n                        \\n                            Source:  http://yann.lecun.com/exdb/mnist/\\n                        \\n                    \\n\\n                ","benchmarks":["ImageClassification","SequentialImageClassification","VideoPrediction","ImageClustering","ImageGeneration","DomainAdaptation","DomainAdaptation","ImageClustering","UnsupervisedMNIST","UnsupervisedImageClassification","GraphClassification","DomainAdaptation","SuperpixelImageClassification","AnomalyDetection","ClusteringAlgorithmsEvaluation","DensityEstimation","UnsupervisedAnomalyDetectionwithSpecifiedSettings--1%anomaly","UnsupervisedAnomalyDetectionwithSpecifiedSettings--30%anomaly","UnsupervisedAnomalyDetectionwithSpecifiedSettings--20%anomaly","UnsupervisedAnomalyDetectionwithSpecifiedSettings--0.1%anomaly","SparseLearningandbinarization","UnsupervisedAnomalyDetectionwithSpecifiedSettings--10%anomaly","UnsupervisedImage-To-ImageTranslation","RotatedMNIST","HandwrittenDigitRecognition","ImageClassification","ImageClassification","ImageClassification","DomainAdaptation","ContinuouslyIndexedDomainAdaptation","ImageClustering","AdversarialDefense","AdversarialDefenseagainstFGSMAttack","Nature-InspiredOptimizationAlgorithm","PersonalizedFederatedLearning","MultiviewClustering","GeneralClassification","Coresetdiscovery","DeepClustering","ModelPoisoning","MaliciousDetection","NeuralArchitectureSearch","UnsupervisedAnomalyDetection","NetworkPruning","StochasticOptimization","StructuredPrediction","One-ShotLearning","Hard-labelAttack","AnomalyDetection","Fine-GrainedImageClassification","ClassificationwithBinaryWeightNetwork","ContinualLearning"],"dataloaders":["https://huggingface.co/datasets/ylecun/mnist","https://huggingface.co/datasets/mnist","https://huggingface.co/datasets/filwsyl/video_understanding","https://huggingface.co/datasets/filwsyl/video_tags","https://huggingface.co/datasets/severo/mnist","https://huggingface.co/datasets/mqddb/test-dataset","https://huggingface.co/datasets/asoria/mnist","https://huggingface.co/datasets/renumics/mnist-outlier","https://huggingface.co/datasets/sc890/deepfruit_dataset","https://pytorch.org/vision/stable/generated/torchvision.datasets.MNIST.html","https://docs.voxel51.com/user_guide/dataset_zoo/datasets.html#mnist","https://docs.activeloop.ai/datasets/mnist","https://www.tensorflow.org/datasets/catalog/mnist","https://github.com/open-mmlab/mmclassification/blob/master/docs/getting_started.md","https://graphneural.network/datasets/#mnist","https://gas.graviti.com/dataset/hellodataset/MNIST","https://gitlab.com/afagarap/pt-datasets"],"best_models":["Branching/MergingCNN+HomogeneousVectorCapsules","SMPConv","SimVP+gSTA-Sx10","SPC","LocallyMaskedPixelCNN","FACT","FACT","DynAE","IIC","IIC","NeuralWalker","SRDA","DynamicReductionNetwork","GAN-basedAnomalyDetectioninImbalanceProblems","GIT","Identity","LVAD","LVAD","LVAD","LVAD","SBNN-5%","LVAD","DANN","Sim2-CNN","CNN","PCGAN-CHAR","PCGAN-CHAR","PCGAN-CHAR","PCIDA","PCIDA","TURTLE","DefenseGAN","DefenseGAN","Gradientdescentoptimizer","SuPerFed-LM","MCoCo","CAE","EvoCore","DEKM","ADA","FAIR-BFL","SparseNeuralNetwork","LVAD","FFN-ShapleyPruned","MLP","CVAE","SiameseNeuralNetwork","RayS","OGNET","VanillaFClayeronly","LeNet5","ModelZoo-Continual"],"short_description":"Images are handwritten digits from employees of the United States Census Bureau and high school students, size-normalized, and centered in a 28x28 fixed-size image.","total_num":"70,000"},{"dataset":"AISHELL-2","dataset_home":["https://github.com/kaldi-asr/kaldi/tree/master/egs/aishell2"],"description":"\\n                    AISHELL-2 contains 1000 hours of clean read-speech data from iOS is free for academic usage. \\n                    \\n                        \\n                            Source:  AISHELL-2: Transforming Mandarin ASR Research Into Industrial Scale\\n                        \\n                    \\n\\n                ","benchmarks":["SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition"],"dataloaders":["https://github.com/kaldi-asr/kaldi"],"best_models":["Paraformer-large","Qwen-Audio","Qwen-Audio","Qwen-Audio"],"short_description":"Mandarin read-speech data for ASR research","total_num":"1000 hours of data"},{"dataset":"FLEURS(Few-shotLearningEvaluationofUniversalRepresentationsofSpeech)","dataset_home":["https://huggingface.co/datasets/google/fleurs"],"description":"\\n                    We introduce FLEURS, the Few-shot Learning Evaluation of Universal Representations of Speech benchmark. FLEURS is an n-way parallel speech dataset in 102 languages built on top of the machine translation FLoRes-101 benchmark, with approximately 12 hours of speech supervision per language. FLEURS can be used for a variety of speech tasks, including Automatic Speech Recognition (ASR), Speech Language Identification (Speech LangID), Translation and Retrieval. In this paper, we provide baselines for the tasks based on multilingual pre-trained models like mSLAM. The goal of FLEURS is to enable speech technology in more languages and catalyze research in low-resource speech understanding.\\n                    \\n\\n                ","benchmarks":["AutomaticSpeechRecognition","AutomaticSpeechRecognition","automatic-speech-translation","SpeechRecognition"],"dataloaders":[],"best_models":["SeamlessM4TMedium","W2V2-BERT-withLM-MalayalambyBajiyoBaiju,KavyaManohar","canary-1b","stt_ka_fastconformer_hybrid_large_pc"],"short_description":"n-way parallel speech dataset in 102 languages with approximately 12 hours of speech supervision per language","total_num":"NA"},{"dataset":"LibriCSS","dataset_home":["https://github.com/chenzhuo1011/libri_css"],"description":"\\n                    Continuous speech separation (CSS) is an approach to handling overlapped speech in conversational audio signals. A real recorded dataset, called LibriCSS, is derived from LibriSpeech by concatenating the corpus utterances to simulate a conversation and capturing the audio replays with far-field microphones.\\n                    \\n                        \\n                            Source:  https://github.com/chenzhuo1011/libri_css\\n                        \\n                    \\n\\n                ","benchmarks":["SpeechRecognition","SpeechSeparation"],"dataloaders":["https://github.com/chenzhuo1011/libri_css"],"best_models":["TS-SEP","Conformer"],"short_description":"A real recorded dataset derived from LibriSpeech, simulating conversation by concatenating corpus utterances and capturing audio replays with far-field microphones.","total_num":"NA"},{"dataset":"TED-LIUM","dataset_home":["https://www.openslr.org/51/"],"description":"\\n                    The TED-LIUM corpus consists of English-language TED talks. It includes transcriptions of these talks. The audio is sampled at 16kHz. The dataset spans a range of 118 to 452 hours of transcribed speech data.\\n                    \\n\\n                ","benchmarks":["SpeechRecognition","SpeechRecognition"],"dataloaders":["https://www.tensorflow.org/datasets/catalog/tedlium","https://pytorch.org/audio/stable/datasets.html#torchaudio.datasets.TEDLIUM"],"best_models":["parakeet-rnnt-1.1b","Whisper-LLaMa-7b"],"short_description":"English-language TED talks audio with transcription, sampled at 16kHz","total_num":"NA"},{"dataset":"Europarl-ST","dataset_home":["https://www.mllp.upv.es/europarl-st/"],"description":"\\n                    Europarl-ST is a multilingual Spoken Language Translation corpus containing paired audio-text samples for SLT from and into 9 European languages, for a total of 72 different translation directions. This corpus has been compiled using the debates held in the European Parliament in the period between 2008 and 2012. \\n                    \\n                        \\n                            Source:  Europarl-ST: A Multilingual Corpus For Speech Translation Of Parliamentary Debates\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Multilingual Spoken Language Translation corpus containing paired audio-text samples for 72 translation directions, compiled from European Parliament debates from 2008-2012","total_num":"NA"},{"dataset":"VoxPopuli","dataset_home":["https://github.com/facebookresearch/voxpopuli"],"description":"\\n                    VoxPopuli is a large-scale multilingual corpus providing 100K hours of unlabelled speech data in 23 languages. It is the largest open data to date for unsupervised representation learning as well as semi-supervised learning. VoxPopuli also contains 1.8K hours of transcribed speeches in 16 languages and their aligned oral interpretations into 5 other languages totaling 5.1K hours.\\n                    \\n                        \\n                            Source:  VoxPopuli: A Large-Scale Multilingual Speech Corpus for Representation Learning, Semi-Supervised Learning and Interpretation\\n                        \\n                    \\n\\n                ","benchmarks":["AutomaticSpeechRecognition(ASR)","AutomaticSpeechRecognition","TexttoSpeech"],"dataloaders":["https://github.com/facebookresearch/voxpopuli"],"best_models":["ConformerTransducer","whisper-large-v3-french-distil-dec8","SpeechT5-it"],"short_description":"Unsupervised and semi-supervised learning capabilities with large open-source multilingual corpus","total_num":"100K hours of unlabelled speech data"},{"dataset":"MultilingualLibriSpeech(MLS)","dataset_home":["https://github.com/facebookresearch/wav2letter/tree/master/recipes/mls"],"description":"\\n                    Multilingual LibriSpeech is a large multilingual corpus suitable for speech research. The dataset is derived from read audiobooks from LibriVox and consists of 8 languages - English, German, Dutch, Spanish, French, Italian, Portuguese, Polish. It includes about 44.5K hours of English and a total of about 6K hours for other languages. \\n                    \\n                        \\n                            Source:  MLS: A Large-Scale Multilingual Dataset for Speech Research\\n                        \\n                    \\n\\n                ","benchmarks":["SpeechRecognition","AutomaticSpeechRecognition","SpeechRecognition"],"dataloaders":["https://huggingface.co/datasets/parler-tts/mls-eng-10k-tags_tagged_10k_generated","https://huggingface.co/datasets/facebook/multilingual_librispeech","https://huggingface.co/datasets/parler-tts/mls_eng","https://huggingface.co/datasets/parler-tts/mls-eng-speaker-descriptions","https://huggingface.co/datasets/parler-tts/mls_eng_10k","https://huggingface.co/datasets/pharaouk/mls-eng-10k-tags_tagged_10k_generated","https://github.com/facebookresearch/wav2letter"],"best_models":["stt_en_fastconformer_transducer_large","whisper-large-v3-french-distil-dec8","TDT0-4"],"short_description":"Large multilingual corpus derived from read audiobooks from LibriVox, consisting of 8 languages in total (English, German, Dutch, Spanish, French, Italian, Portuguese, Polish).","total_num":"44.5K hours of English, 6K hours for other languages"},{"dataset":"GigaSpeech","dataset_home":["https://github.com/SpeechColab/GigaSpeech"],"description":"\\n                    GigaSpeech, an evolving, multi-domain English speech recognition corpus with 10,000 hours of high quality labeled audio suitable for supervised training, and 40,000 hours of total audio suitable for semi-supervised and unsupervised training.\\n                    \\n\\n                ","benchmarks":["AutomaticSpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition"],"dataloaders":["https://github.com/kadirnar/whisper-plus"],"best_models":["parakeet_tdt_1.1b","Conformer/Transformer-AED","Conformer/Transformer-AED","Conformer/Transformer-AED"],"short_description":"A multi-domain English speech recognition corpus suitable for supervised, semi-supervised, and unsupervised training","total_num":"40,000 hours of total audio, 10,000 hours of high quality labeled audio"},{"dataset":"AISHELL-1","dataset_home":["http://www.openslr.org/33/"],"description":"\\n                    AISHELL-1 is a corpus for speech recognition research and building speech recognition systems for Mandarin. \\n                    \\n                        \\n                            Source:  AISHELL-1: An Open-Source Mandarin Speech Corpus and A Speech Recognition Baseline\\n                        \\n                    \\n\\n                ","benchmarks":["SpeechRecognition"],"dataloaders":[],"best_models":["Qwen-Audio"],"short_description":"Mandarin speech corpus for speech recognition research","total_num":"NA"},{"dataset":"Europarl(EuropeanParliamentProceedingsParallelCorpus)","dataset_home":["https://www.statmt.org/europarl/"],"description":"\\n                    A corpus of parallel text in 21 European languages from the proceedings of the European Parliament.\\nThe Europarl parallel corpus is extracted from the proceedings of the European Parliament (1996-2011). It includes versions in 21 European languages: Romanic (French, Italian, Spanish, Portuguese, Romanian), Germanic (English, Dutch, German, Danish, Swedish), Slavik (Bulgarian, Czech, Polish, Slovak, Slovene), Finni-Ugric (Finnish, Hungarian, Estonian), Baltic (Latvian, Lithuanian), and Greek. Parallel sentence counts are in the range 400K-2M, depending on the language combination.\\nThe goal of the extraction and processing was to generate sentence aligned text for statistical machine translation systems. For this purpose we extracted matching items and labeled them with corresponding document IDs. Using a preprocessor we identified sentence boundaries. We sentence aligned the data using a tool based on the Church and Gale algorithm.\\nThe Europarl corpus was collected mainly to aid research in statistical machine translation (training, evaluation), but it has been used for many other natural language problems: word sense disambiguation, anaphora resolution, information extraction, etc.\\nMonolingual datasets are also available for 9 languages. These are supersets of the parallel versions. Monolingual word counts are in the range 7M-54M, depending on the language.\\nTest Sets: Several test sets have been released for the Europarl corpus. In general, the Q4/2000 portion of the data (2000-10 to 2000-12) should be reserved for testing. All released test sets have been selected from this quarter.\\n                    \\n                        \\n                            Source:  Europarl website\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://huggingface.co/datasets/Helsinki-NLP/europarl","https://huggingface.co/datasets/opus/europarl","https://huggingface.co/datasets/europarl_bilingual"],"best_models":[],"short_description":"A corpus of parallel text in 21 European languages from the proceedings of the European Parliament, providing sentence-aligned text for statistical machine translation systems.","total_num":"400K-2M parallel sentences"},{"dataset":"LRS2(LipReadingSentences2)","dataset_home":["https://www.robots.ox.ac.uk/~vgg/data/lip_reading/lrs2.html"],"description":"\\n                    The Oxford-BBC Lip Reading Sentences 2 (LRS2) dataset is one of the largest publicly available datasets for lip reading sentences in-the-wild. The database consists of mainly news and talk shows from BBC programs. Each sentence is up to 100 characters in length. The training, validation and test sets are divided according to broadcast date. It is a challenging set since it contains thousands of speakers without speaker labels and large variation in head pose. The pre-training set contains 96,318 utterances, the training set contains 45,839 utterances, the validation set contains 1,082 utterances and the test set contains 1,242 utterances.\\n                    \\n                        \\n                            Source:  Audio-visual Recognition of Overlapped speech for the LRS2 dataset\\n                        \\n                    \\n\\n                ","benchmarks":["Lipreading","SpeechSeparation","AutomaticSpeechRecognition(ASR)","Audio-VisualSpeechRecognition","UnconstrainedLip-synchronization","VisualSpeechRecognition","ImageManipulation","VisualKeywordSpotting","SpeechRecognition","Landmark-basedLipreading"],"dataloaders":["https://github.com/Rudrabha/Wav2Lip?tab=readme-ov-file"],"best_models":["CTC/Attention","IIANet","CTC/Attention","CTC/Attention","Wav2Lip+ViT+MARLIN","VTPwithmoredata","TPS","Transpotter","RAVEnLarge","SyncVSR"],"short_description":"Challenging dataset with thousands of speakers without speaker labels and large variation in head pose.","total_num":{"pre-training_set":"96,318 utterances","training_set":"45,839 utterances","validation_set":"1,082 utterances","test_set":"1,242 utterances","total":"NA"}},{"dataset":"Libri-Light","dataset_home":["https://github.com/facebookresearch/libri-light"],"description":"\\n                    Libri-Light is a collection of spoken English audio suitable for training speech recognition systems under limited or no supervision. It is derived from open-source audio books from the LibriVox project. It contains over 60K hours of audio.\\n                    \\n                        \\n                            Source:  Libri-Light: A Benchmark for ASR with Limited or No Supervision\\n                        \\n                    \\n\\n                ","benchmarks":["SpeechRecognition","SpeechRecognition"],"dataloaders":["https://github.com/facebookresearch/libri-light"],"best_models":["wav2vec2.0Large-10h-LV-60k","wav2vec2.0Large-10h-LV-60k"],"short_description":"Spoken English audio derived from open-source audio books for training speech recognition systems with limited or no supervision","total_num":"60K hours of audio"},{"dataset":"MuST-C","dataset_home":["https://mt.fbk.eu/must-c"],"description":"\\n                    MuST-C currently represents the largest publicly available multilingual corpus (one-to-many) for speech translation. It covers eight language directions, from English to German, Spanish, French, Italian, Dutch, Portuguese, Romanian and Russian. The corpus consists of audio, transcriptions and translations of English TED talks, and it comes with a predefined training, validation and test split.\\n                    \\n                        \\n                            Source:  One-to-Many Multilingual End-to-End Speech Translation\\n                        \\n                    \\n\\n                ","benchmarks":["Speech-to-TextTranslation","Speech-to-TextTranslation"],"dataloaders":["https://github.com/RXrzh/MuST-C_Data"],"best_models":["TaskModulation+MultitaskLearning","TransformerwithAdapters"],"short_description":"A multilingual corpus for speech translation, contains audio, transcriptions and translations of English TED talks in eight language directions.","total_num":"NA"},{"dataset":"SpeechCommands","dataset_home":["https://arxiv.org/abs/1804.03209"],"description":"\\n                    Speech Commands is an audio dataset of spoken words designed to help train and evaluate keyword spotting systems .\\n                    \\n\\n                ","benchmarks":["KeywordSpotting","TimeSeriesAnalysis","AudioClassification","SpeechRecognition"],"dataloaders":["https://docs.activeloop.ai/datasets/speech-commands-dataset","https://www.tensorflow.org/datasets/catalog/speech_commands","https://pytorch.org/audio/stable/datasets.html#torchaudio.datasets.SPEECHCOMMANDS","https://github.com/tk-rusch/lem"],"best_models":["TripletLoss-res15","SepTr","AST-S","Liquid-S4"],"short_description":"Designed to help train and evaluate keyword spotting systems and contains spoken words","total_num":"NA"},{"dataset":"CommonVoice","dataset_home":["https://commonvoice.mozilla.org"],"description":"\\n                    Common Voice is an audio dataset that consists of a unique MP3 and corresponding text file. There are 9,283 recorded hours in the dataset. The dataset also includes demographic metadata like age, sex, and accent. The dataset consists of 7,335 validated hours in 60 languages.\\n                    \\n\\n                ","benchmarks":["SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","Few-ShotAudioClassification","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","AudioClassification","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","AutomaticSpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","AutomaticSpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","speech-recognition","SpeechRecognition","AutomaticSpeechRecognition","SpeechRecognition","AutomaticSpeechRecognition","AutomaticSpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","Cross-LingualASR","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","SpeechRecognition","AutomaticSpeechRecognition"],"dataloaders":["https://huggingface.co/datasets/Moosieus/commonvoice_17_0_en_codec2","https://huggingface.co/datasets/legacy-datasets/common_voice","https://huggingface.co/datasets/ferno22/common_voice_13_0_dv_preprocessed","https://huggingface.co/datasets/Seon25/common_voice_16_0_","https://huggingface.co/datasets/common_voice","https://huggingface.co/datasets/mozilla-foundation/common_voice_5_1","https://huggingface.co/datasets/mozilla-foundation/common_voice_7_0","https://huggingface.co/datasets/anton-l/common_voice_7_0_test","https://huggingface.co/datasets/anton-l/common_voice_7_0_test1","https://huggingface.co/datasets/anton-l/common_voice_1_0","https://huggingface.co/datasets/mozilla-foundation/common_voice_4_0","https://huggingface.co/datasets/mozilla-foundation/common_voice_1_0","https://huggingface.co/datasets/mozilla-foundation/common_voice_2_0","https://huggingface.co/datasets/mozilla-foundation/common_voice_3_0","https://huggingface.co/datasets/mozilla-foundation/common_voice_5_0","https://huggingface.co/datasets/mozilla-foundation/common_voice_6_0","https://huggingface.co/datasets/mozilla-foundation/common_voice_6_1","https://huggingface.co/datasets/phongdtd/custom_common_voice","https://huggingface.co/datasets/mozilla-foundation/common_voice_8_0","https://huggingface.co/datasets/HuggingFaceM4/common_voice","https://huggingface.co/datasets/mozilla-foundation/common_voice_9_0","https://huggingface.co/datasets/JoesSattle/common_voice_specific_version","https://huggingface.co/datasets/bengaliAI/CommonVoiceBangla","https://huggingface.co/datasets/mozilla-foundation/common_voice_10_0","https://huggingface.co/datasets/mozilla-foundation/common_voice_11_0","https://huggingface.co/datasets/taqwa92/cm.trial","https://huggingface.co/datasets/TaahaIqbal/Paysys","https://huggingface.co/datasets/reach-vb/common_voice_12_0","https://huggingface.co/datasets/mozilla-foundation/common_voice_12_0","https://huggingface.co/datasets/KoddaDuck/Cylonix_ASR_dataset","https://huggingface.co/datasets/reach-vb/common_voice_13_0","https://huggingface.co/datasets/mozilla-foundation/common_voice_13_0","https://huggingface.co/datasets/gogogogo-1/test","https://huggingface.co/datasets/mariosasko/test_push_split","https://huggingface.co/datasets/afern24/common_voice_13_0_dv_preprocessed","https://huggingface.co/datasets/fmagot01/common_voice_13_0_dv_preprocessed","https://huggingface.co/datasets/ssahir/common_voice_13_0_dv_preprocessed","https://huggingface.co/datasets/artyomboyko/common_voice_13_0_ru","https://huggingface.co/datasets/artyomboyko/common_voice_15_0_ru","https://huggingface.co/datasets/mozilla-foundation/common_voice_15_0","https://huggingface.co/datasets/reach-vb/common_voice_16_1","https://huggingface.co/datasets/mozilla-foundation/common_voice_16_1","https://huggingface.co/datasets/reach-vb/common_voice_14_0","https://huggingface.co/datasets/artyomboyko/common_voice_15_0_RU","https://huggingface.co/datasets/mozilla-foundation/common_voice_14_0","https://huggingface.co/datasets/z1amez/fresh","https://huggingface.co/datasets/reach-vb/common_voice_16_0","https://huggingface.co/datasets/mozilla-foundation/common_voice_16_0","https://huggingface.co/datasets/offbeatPickle/medical","https://huggingface.co/datasets/reach-vb/common_voice_17","https://huggingface.co/datasets/mozilla-foundation/common_voice_17_0","https://huggingface.co/datasets/VingeNie/common_voice_16_1_zh_CN","https://huggingface.co/datasets/Seon25/hausa_2_to_eng","https://huggingface.co/datasets/Seon25/hausa_2_eng_2","https://huggingface.co/datasets/Seon25/common_voice_16_0","https://www.tensorflow.org/datasets/catalog/common_voice","https://pytorch.org/audio/stable/datasets.html#torchaudio.datasets.COMMONVOICE","https://gitlab.com/jaco-assistant/corcua"],"best_models":["wav2vec2.0XLS-R1B+TEVR","ConformerCTC-L","ConformerCTC-L","xls-r-nl-v1-cv8-lm","wav2vec2-xls-r-1b-hi-cv7","Wav2Vec2BaseTurkishbyCahya","wav2vec2-xlsr-1b-finnish-lm-v2","Wav2vec2.0largeVoxRexSwedish","wav2vec2-large-xls-r-300m-hi-cv8","wav2vec2-large-xls-r-300m-hsb-v1","wav2vec2-large-xls-r-300m-sl-with-LM-v1","Wav2Vec2VakyanshTamilModelbyHarveenChadha","XLSRWav2Vec2IndonesianMixbyCahya","HindiLarge","parakeet_rnnt_1.1b","parakeet-rnnt-1.1b","xls-r-300m-et","Whisper","wav2vec2-xls-r-300m-mt-o1","XLS-R-1B-French","wav2vec2-xls-r-1b-ca-lm","XLSR53Wav2Vec2PortuguesebyOrlemSantos","Whisper","XLS-R-300M-Slovak","HindiLarge","XLSRWav2Vec2FinnishbyAapoTanskanen","XLSRWav2Vec2MongolianV1byBayartsogt","CzechcomodoroWav2Vec2XLSR300MCV6.1","XLSRWav2Vec2VietnamesebyNhut","wav2vec2-large-xls-r-1b-frisian","wav2vec2-xls-r-1b-hy-cv","wav2vec2-large-xls-r-300m-or-d5","wav2vec2-large-xls-r-300m-bg-d2","CzechcomodoroWav2Vec2XLSR300M250hdata","XLS-R-300m-Italian","Akashpb13/Hausa_xlsr","MT-SLVR","wav2vec2-large-xls-r-300m-br-d2","HungarianXLSRWav2Vec2Large53byAntonLozhkov","LithuanianXLSRWav2Vec2Large53byAntonLozhkov","wav2vec2-base-vietnamese-160h","XLSRWav2Vec2ArabicbyJonatasGrosman","SpeechLLM","Wav2Vec2LugandabyIndonesian-NLP","sew-tiny-portuguese-cv7","UkrainianXLSRWav2Vec2Large53","wav2vec2-large-xls-r-300m-kk-with-LM","wav2vec2-large-xls-r-300m-sat-final","wav2vec2-large-xls-r-300m-myv-v1","Wav2Vec2-BERT-Alvin","wav2vec2-large-xls-r-300m-sr-v4","HindiLarge","xls-r-300m-et","PolishcomodoroWav2Vec2XLSR300MCV8","Whisper","wav2vec2-xls-r-1b-hy","ConformerXXL-P+DownstreamNST","Akashpb13/Galician_xlsr","wav2vec2-xls-r-300m-pa-IN-r5","XLSRWav2Vec2BretonbyCahya","GeorgianWAV2VEC2Daytona","XLSRWav2Vec2MaltesebyAkashPB","W2V2-BERT-withLM-MalayalambyBajiyoBaiju,KavyaManohar","danurahul/wav2vec2-large-xlsr-pa-IN","KyrgyzXLSRWav2Vec2Large53byAntonLozhkov","wav2vec2-large-xls-r-300m-nl","TatarXLSRWav2Vec2Large53byAntonLozhkov","wav2vec2-xlsr-welsh","wav2vec2-large-xls-r-300m-mr-v2","SakhaXLSRWav2Vec2Large53byAntonLozhkov","wav2vec2-large-xls-r-300m-as-g1","XLS-R-300M-Indonesian","Wav2Vec2BaseTurkishbyCahya","xls-r-300m-pt","RomanianXLSRWav2Vec2Large53byAntonLozhkov","wav2vec2-ro-300m_01","wav2vec2-large-xlsr-cantonese","wav2vec2-large-xls-r-300m-mn","XLS-R-300M-Punjabi","wav2vec2-large-xls-r-300m-bas-v1","wav2vec2-xls-r-300m-kk-n2","XLS-R-300M-French","wav2vec2-large-xls-r-300m-el","wav2vec2-large-xls-r-300m-ia","wav2vec2-xls-r-300m-rm-sursilv-d11","wav2vec2-xls-r-300m-rm-vallader-d1","Akashpb13/Kabyle_xlsr","SinaiVoiceArabicSpeechRecognitionModel","wav2vec2-large-xls-r-300m-basque","wav2vec2-large-xls-r-300m-gn-k1","wav2vec2-large-xls-r-300m-vot-final-a2","Wav2Vec2LugandabyIndonesian-NLP","wav2vec2-large-xls-r-300m-hi-d3","Akashpb13/Galician_xlsr","wav2vec2-large-xls-r-300m-kk-with-LM","stt_en_fastconformer_transducer_large","stt_ru_conformer_transducer_large","stt_ru_conformer_transducer_large","XLSRWav2Vec2PersianbyJonatasGrosman","WhisperSmallChinese","AnuragSinghXLSRWav2Vec2Large53Assamese","parakeet-tdt_ctc-0.6b-ja","parakeet-tdt_ctc-0.6b-ja","AnuragSinghXLSRWav2Vec2Large53Sorbian,Upper","AnuragSinghXLSRWav2Vec2Large53Interlingua","XLSRWav2Vec2EsperantobyCharlesPierse","ChuvashXLSRWav2Vec2Large53byAntonLozhkov","AnuragSinghXLSRWav2Vec2Large53RomanshVallader","AnuragSinghXLSRWav2Vec2Large53RomanshSursilv","SlovenianXLSRWav2Vec2Large53byAntonLozhkov","CatalanXLSRWav2VecLarge53","XLSRWav2Vec2Chinese","SimAdapter+","XLS-R-53-Thai","wav2vec2-large-xls-r-300m-bashkir-cv7_opt","XLSRWav2Vec2BasquebyCahya","wav2vec2-large-xls-r-300m-as","XLS-R-300M-Indonesia","XLS-R-300M-Arabic","XLS-R-300M-German","Akashpb13/Central_kurdish_xlsr","AnuragSinghXLSRWav2Vec2Large53Dhivehi","XLSRWav2vec2Large53PolishbyAlexLeu","XLS-R-300M-German","wav2vec2-large-xls-r-300m-ab-CV7","Akashpb13/Swahili_xlsr","Akashpb13/xlsr_hungarian_new","GreekXLSRWav2Vec2Large53-CV+CSS10","XLS-R-300-m","LatvianXLSRWav2Vec2Large53byAntonLozhkov","canary-1b","wav2vec2-large-xls-r-300m-ur-cv8","XLS-R-300M-Latvian","wav2vec2-xls-r-1b-ka","cpierse/wav2vec2-large-xlsr-53-irish","stt_ka_fastconformer_hybrid_large_pc"],"short_description":"Each MP3 with corresponding text file and demographic metadata","total_num":"9,283 recorded hours"},{"dataset":"ADLPianoMIDI","dataset_home":["https://github.com/lucasnfe/adl-piano-midi"],"description":"\\n                    The ADL Piano MIDI is a dataset of 11,086 piano pieces from different genres. This dataset is based on the Lakh MIDI dataset, which is a collection on 45,129 unique MIDI files that have been matched to entries in the Million Song Dataset. Most pieces in the Lakh MIDI dataset have multiple instruments, so for each file the authors of ADL Piano MIDI dataset extracted only the tracks with instruments from the \\"Piano Family\\" (MIDI program numbers 1-8). This process generated a total of 9,021 unique piano MIDI files. Theses 9,021 files were then combined with other approximately 2,065 files scraped from publicly-available sources on the internet. All the files in the final collection were de-duped according to their MD5 checksum.\\n                    \\n                        \\n                            Source:  ADL Piano MIDI\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/lucasnfe/adl-piano-midi"],"best_models":[],"short_description":"Dataset is unique as it extracts only piano tracks from the Lakh MIDI dataset and scrapes additional files from the internet, with de-duplication based on MD5 checksum","total_num":"11,086"},{"dataset":"EmoDBDataset(BerlinDatabaseofEmotionalSpeech)","dataset_home":["http://emodb.bilderbar.info/docu/"],"description":"\\n                    The EMODB database is the freely available German emotional database. The database is created by the Institute of Communication Science, Technical University, Berlin, Germany. Ten professional speakers (five males and five females) participated in data recording. The database contains a total of 535 utterances. The EMODB database comprises of seven emotions: 1) anger; 2) boredom; 3) anxiety; 4) happiness; 5) sadness; 6) disgust; and 7) neutral. The data was recorded at a 48-kHz sampling rate and then down-sampled to 16-kHz.\\nCitation:\\nFelix Burkhardt, Astrid Paeschke, Miriam Rolfes, Walter Sendlmeier und Benjamin Weiss\\nA Database of German Emotional Speech\\nProceedings Interspeech 2005, Lissabon, Portugal\\n                    \\n\\n                ","benchmarks":["SpeechEmotionRecognition"],"dataloaders":["https://nkululeko.readthedocs.org"],"best_models":["VQ-MAE-S-12"],"short_description":"German emotional speech dataset recorded by 10 professional speakers with 7 distinct emotions","total_num":"535 utterances"},{"dataset":"JSUTCorpus","dataset_home":["https://sites.google.com/site/shinnosuketakamichi/publication/jsut"],"description":"\\n                    JSUT Corpus is a free large-scale speech corpus that can be shared between academic institutions and commercial companies has an important role. However, such a corpus for Japanese speech synthesis does not exist.\\n                    \\n                        \\n                            Source:  JSUT corpus: free large-scale Japanese speech corpus for end-to-end speech synthesis\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"First free, large-scale Japanese speech corpus for end-to-end speech synthesis, filling a gap in the Japanese speech synthesis dataset landscape","total_num":"NA"},{"dataset":"VIVOS(VIVOSCorpus)","dataset_home":["https://doi.org/10.5281/zenodo.7068130"],"description":"\\n                    VIVOS is a free Vietnamese speech corpus consisting of 15 hours of recording speech prepared for Automatic Speech Recognition task.\\nThe corpus was prepared by AILAB, a computer science lab of VNUHCM - University of Science, with Prof. Vu Hai Quan is the head of.\\nWe publish this corpus in hope to attract more scientists to solve Vietnamese speech recognition problems. The corpus should only be used for academic purposes.\\n                    \\n\\n                ","benchmarks":["SpeechRecognition","AutomaticSpeechRecognition"],"dataloaders":[],"best_models":["Vietnameseend-to-endspeechrecognitionusingwav2vec2.0byVietAI","wav2vec2-augmented-vivos"],"short_description":"Free Vietnamese speech corpus for Automatic Speech Recognition task","total_num":"15 hours"},{"dataset":"AtariGrandChallenge","dataset_home":["https://github.com/yobibyte/atarigrandchallenge"],"description":"\\n                    The Atari Grand Challenge dataset is a large dataset of human Atari 2600 replays. It consists of replays for 5 different games:\\n* Space Invaders (445 episodes, 2M frames)\\n* Q*bert (659 episodes, 1.6M frames)\\n* Ms.Pacman (384 episodes, 1.7M frames)\\n* Video Pinball (211 episodes, 1.5M frames)\\n* Montezuma\u2019s revenge (668 episodes, 2.7M frames)\\n                    \\n                        \\n                            Source:  https://arxiv.org/pdf/1705.10998.pdf\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/yobibyte/atarigrandchallenge"],"best_models":[],"short_description":"NA","total_num":"NA"},{"dataset":"SpeakingFaces","dataset_home":["https://github.com/IS2AI/SpeakingFaces"],"description":"\\n                    SpeakingFaces is a publicly-available large-scale dataset developed to support multimodal machine learning research in contexts that utilize a combination of thermal, visual, and audio data streams; examples include human-computer interaction (HCI), biometric authentication, recognition systems, domain transfer, and speech recognition. SpeakingFaces is comprised of well-aligned high-resolution thermal and visual spectra image streams of fully-framed faces synchronized with audio recordings of each subject speaking approximately 100 imperative phrases.\\n                    \\n                        \\n                            Source:  SpeakingFaces: A Large-Scale Multimodal Dataset of Voice Commands with Visual and Thermal Video Streams\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/IS2AI/SpeakingFaces"],"best_models":[],"short_description":"A large-scale multimodal dataset of synchronized thermal, visual, and audio data streams of fully-framed faces speaking imperative phrases","total_num":"NA"},{"dataset":"Google","dataset_home":[],"description":"\\n                    \\n                    \\n\\n                ","benchmarks":["SentenceCompression"],"dataloaders":[],"best_models":["SLAHAN"],"short_description":"NA","total_num":"NA"},{"dataset":"CALLHOMEAmericanEnglishSpeech","dataset_home":["https://catalog.ldc.upenn.edu/LDC97S42"],"description":"\\n                    The CALLHOME English Corpus is a collection of unscripted telephone conversations between native speakers of English. Here are the key details:\\nParticipants: 120 individuals.\\nType of Study: Naturalistic.\\nLocation: USA.\\nMedia Type: Audio.\\nDOI: doi:10.21415/T5KP54.\\nContents: The corpus contains 120 telephone conversations, each lasting up to 30 minutes.\\nOrigins: All calls originated in North America, with 90 calls placed to various locations overseas and 30 calls within North America.\\nTranscripts: The transcripts cover contiguous 5 or 10-minute segments from recorded conversations.\\nSpeaker Awareness: All speakers were aware that they were being recorded.\\nTopics: Participants had no guidelines on what to talk about; most called family members or close friends overseas.\\nPurpose: Collected primarily to support the project on Large Vocabulary Conversational Speech Recognition (LVCSR), sponsored by the U.S. Department of Defense.\\n                    \\n\\n                ","benchmarks":["SpeakerDiarization","SpeakerDiarization","SpeakerVerification","SpeechRecognition","SpeechRecognition","SpeakerDiarization","SpeechRecognition"],"dataloaders":[],"best_models":["TOLD","titanet-s","GE2E","TDT0-2","SpeechStew","UIS-RNN","Espresso"],"short_description":"Unscripted telephone conversations with aware speakers, having free-flowing discussions on various personal topics with family and close friends.","total_num":"120 telephone conversations"},{"dataset":"VocalSound","dataset_home":["https://groups.csail.mit.edu/sls/downloads/vocalsound/"],"description":"\\n                    VocalSound is a free dataset consisting of 21,024 crowdsourced recordings of laughter, sighs, coughs, throat clearing, sneezes, and sniffs from 3,365 unique subjects. The VocalSound dataset also contains meta-information such as speaker age, gender, native language, country, and health condition.\\n                    \\n\\n                ","benchmarks":["AudioClassification"],"dataloaders":["https://github.com/YuanGongND/vocalsound"],"best_models":["VocalSoundBaseline"],"short_description":"Unique recordings of human vocalizations like laughter, sighs, coughs, etc. from 3,365 subjects along with their meta-information","total_num":"21,024 recordings"},{"dataset":"MagicData-RAMC","dataset_home":["https://www.magicdatatech.com/datasets/mdt2021s003-1647827542"],"description":"\\n                    The MagicData-RAMC corpus contains 180 hours of conversational speech data recorded from native speakers of Mandarin Chinese over mobile phones with a sampling rate of 16 kHz. The dialogs in the dialogs are classified into 15 diversified domains and tagged with topic labels, ranging from science and technology to ordinary life. Accurate transcription and precise speaker voice activity timestamps are manually labeled for each sample. Speakers\' detailed information is also provided.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"180 hours of conversational speech data from native Mandarin Chinese speakers with manual transcripts and speaker timestamps","total_num":"NA"},{"dataset":"SPEECH-COCO","dataset_home":["https://zenodo.org/record/4282267"],"description":"\\n                    SPEECH-COCO contains speech captions that are generated using text-to-speech (TTS) synthesis resulting in 616,767 spoken captions (more than 600h) paired with images. \\n                    \\n                        \\n                            Source:  SPEECH-COCO: 600k Visually Grounded Spoken Captions Aligned to MSCOCO Data Set\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Spoken captions generated using text-to-speech synthesis paired with images","total_num":"616,767 spoken captions"},{"dataset":"TUDA","dataset_home":["https://www.inf.uni-hamburg.de/en/inst/ab/lt/resources/data/acoustic-models.html"],"description":"\\n                    Overall duration per microphone: about 36 hours (31 hrs train / 2.5 hrs dev / 2.5 hrs test)\\nCount of microphones: 3 (Microsoft Kinect, Yamaha, Samson)\\nCount of wave-files per microphone: about 14500\\nOverall count of participations: 180 (130 male / 50 female)\\n                    \\n\\n                ","benchmarks":["SpeechRecognition"],"dataloaders":["https://gitlab.com/jaco-assistant/corcua"],"best_models":["Conformer-Transducer"],"short_description":"Unique voices from 180 participants, including 130 males and 50 females, recorded using three different microphones (Microsoft Kinect, Yamaha, Samson)","total_num":"43500 wave-files"},{"dataset":"SMS-WSJ(SpatializedMulti-SpeakerWallStreetJournal)","dataset_home":["https://github.com/fgnt/sms_wsj"],"description":"\\n                    Spatialized Multi-Speaker Wall Street Journal (SMS-WSJ) consists of artificially mixed speech taken from the WSJ database, but unlike earlier databases this one considers all WSJ0+1 utterances and takes care of strictly separating the speaker sets present in the training, validation and test sets. \\n                    \\n                        \\n                            Source:  SMS-WSJ: Database, performance measures, and baseline recipe for multi-channel source separation and recognition\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/fgnt/sms_wsj"],"best_models":[],"short_description":"Artificially mixed speech data from WSJ database, with strict separation of speaker sets in training, validation, and test sets.","total_num":"NA"},{"dataset":"SPGISpeech","dataset_home":["https://datasets.kensho.com/datasets/scribe"],"description":"\\n                    SPGISpeech (pronounced \u201cspeegie-speech\u201d) is a large-scale transcription dataset, freely available for academic research. SPGISpeech is a collection of 5,000 hours of professionally-transcribed financial audio. Contrary to previous transcription datasets, SPGISpeech contains global english accents, strongly varying audio quality as well as both spontaneous and presentation style speech. The transcripts have each been cross-checked by multiple professional editors for high accuracy and are fully formatted including sentence structure and capitalization.\\nSPGISpeech consists of 5,000 hours of recorded company earnings calls and associated manual transcription text. The original calls were split based on silences into slices ranging from 5 to 15 seconds to allow easy training of a speech recognition system. The format of each WAV file is single channel, 16kHz, 16 bit audio.\\nTranscription text represents the output of several stages of manual post-processing. As such, the text contains polished English orthography following a detailed style guide, including proper casing, punctuation, and denormalized non-standard words such as numbers or acronyms, making SPGISpeech suited for training fully formatted end-to-end models.\\nIn general, the transcriptions aim at professional utility rather than linguistic fidelity, and the correspondence between verbatim speech and finalized text is therefore not exact, resulting in the occasional purposeful omission of meeting operator instructions or certain verbal pleasantries.\\n                    \\n\\n                ","benchmarks":["SpeechRecognition"],"dataloaders":[],"best_models":["Icefall-zipformertransducer"],"short_description":"Contains global English accents, varying audio quality, and spontaneous and presentation style speech with polished English orthography and professional transcriptions","total_num":"5,000 hours of audio"},{"dataset":"MaSS","dataset_home":["https://github.com/getalp/mass-dataset"],"description":"\\n                    MaSS (Multilingual corpus of Sentence-aligned Spoken utterances) is an extension of the CMU Wilderness Multilingual Speech Dataset, a speech dataset based on recorded readings of the New Testament.\\nMaSS extends it by providing a large and clean dataset of 8,130 parallel spoken utterances across 8 languages (56 language pairs). The covered languages are: Basque, English, Finnish, French, Hungarian, Romanian, Russian and Spanish.\\n                    \\n                        \\n                            Source:  MaSS: A Large and Clean Multilingual Corpus of Sentence-aligned Spoken Utterances Extracted from the Bible\\n                        \\n                    \\n\\n                ","benchmarks":["SpindleDetection","K-complexdetection","SleepStageDetection"],"dataloaders":["https://github.com/getalp/mass-dataset"],"best_models":["RED-Time","RED-CWT","IITNet"],"short_description":"Clean multilingual dataset extracted from the Bible, featuring 8 languages with sentence-aligned spoken utterances","total_num":"8,130 parallel spoken utterances"},{"dataset":"EasyCom","dataset_home":["https://github.com/facebookresearch/EasyComDataset"],"description":"\\n                    The Easy Communications (EasyCom) dataset is a world-first dataset designed to help mitigate the cocktail party effect from an augmented-reality (AR) -motivated multi-sensor egocentric world view. The dataset contains AR glasses egocentric multi-channel microphone array audio, wide field-of-view RGB video, speech source pose, headset microphone audio, annotated voice activity, speech transcriptions, head and face bounding boxes and source identification labels. We have created and are releasing this dataset to facilitate research in multi-modal AR solutions to the cocktail party problem.\\n                    \\n                        \\n                            Source:  EasyCom\\n                        \\n                    \\n\\n                ","benchmarks":["SpeechEnhancement","SpeechRecognition","ActiveSpeakerLocalization","FaceClustering"],"dataloaders":[],"best_models":["MaxDI","ReVISE","AV","VCTRSF."],"short_description":"A world-first dataset containing AR glasses egocentric multi-channel microphone array audio, RGB video, speech source pose, and annotated labels to mitigate the cocktail party effect in AR applications.","total_num":"NA"},{"dataset":"SLUE(SpokenLanguageUnderstandingEvaluation)","dataset_home":["https://github.com/asappresearch/slue-toolkit"],"description":"\\n                    Spoken Language Understanding Evaluation (SLUE) is a suite of benchmark tasks  for spoken language understanding evaluation. It consists of limited-size labeled training sets and corresponding evaluation sets. This resource would allow the research community to track progress, evaluate pre-trained representations for higher-level tasks, and study open questions such as the utility of pipeline versus end-to-end approaches. The first phase of the SLUE benchmark suite consists of named entity recognition (NER), sentiment analysis (SA), and ASR on the corresponding datasets.\\nCorpus includes:\\n\\nSLUE-VoxPopuli: consists of ASR and NER tasks - CC0 license\\nSLUE-VoxCeleb: consists of ASR and SA tasks - CCBY 4.0 license\\n\\n                    \\n\\n                ","benchmarks":["NamedEntityRecognition(NER)","SpeechRecognition","SentimentAnalysis"],"dataloaders":["https://huggingface.co/datasets/asapp/slue"],"best_models":["W2V2-L-LL60K","W2V2-L-LL60K","W2V2-L-LL60K"],"short_description":"SLUE datasets, including ASR, NER, and SA tasks, based on spoken language understanding evaluation.","total_num":"NA"},{"dataset":"NWPU-Crowd","dataset_home":["https://gjy3035.github.io/NWPU-Crowd-Sample-Code/"],"description":"\\n                    NWPU-Crowd consists of 5,109 images, in a total of 2,133,375 annotated heads with points and boxes. Compared with other real-world datasets, it contains various illumination scenes and has the largest density range (0~20,033). \\n                    \\n                        \\n                            Source:  NWPU-Crowd: A Large-Scale Benchmark for Crowd Counting and Localization\\n                        \\n                    \\n\\n                ","benchmarks":["CrowdCounting","CrowdCounting"],"dataloaders":[],"best_models":["CLIP-EBC","APGCC"],"short_description":"Contains various illumination scenes and has the largest density range","total_num":"5,109 images, 2,133,375 annotated heads"},{"dataset":"Spoken-SQuAD","dataset_home":["https://github.com/chiahsuan156/Spoken-SQuAD"],"description":"\\n                    In SpokenSQuAD, the document is in spoken form, the input question is in the form of text and the answer to each question is always a span in the document. The following procedures were used to generate spoken documents from the original SQuAD dataset. First, the Google text-to-speech system was used to generate the spoken version of the articles in SQuAD. Then CMU Sphinx was sued to generate the corresponding ASR transcriptions. The SQuAD training set was used to generate the training set of Spoken SQuAD, and SQuAD development set was used to generate the testing set for Spoken SQuAD. If the answer of a question did not exist in the ASR transcriptions of the associated article, the question-answer pair was removed from the dataset because these examples are too difficult for listening comprehension machine at this stage.\\n                    \\n                        \\n                            Source:  https://github.com/chiahsuan156/Spoken-SQuAD\\n                        \\n                    \\n\\n                ","benchmarks":["SpokenLanguageUnderstanding"],"dataloaders":["https://github.com/chiahsuan156/Spoken-SQuAD"],"best_models":["ALBERT"],"short_description":"SpokenSQuAD is a dataset that provides a spoken version of articles and corresponding ASR transcriptions, for evaluating listening comprehension machines.","total_num":"NA"},{"dataset":"Taskmaster-1","dataset_home":["https://research.google/tools/datasets/taskmaster-1/"],"description":"\\n                    Taskmaster-1 is a dialog dataset consisting of 13,215 task-based dialogs in English, including 5,507 spoken and 7,708 written dialogs created with two distinct procedures. Each conversation falls into one of six domains: ordering pizza, creating auto repair appointments, setting up ride service, ordering movie tickets, ordering coffee drinks and making restaurant reservations.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://huggingface.co/datasets/google-research-datasets/taskmaster1","https://huggingface.co/datasets/taskmaster1","https://parl.ai/docs/tasks.html#taskmaster-1-2019"],"best_models":[],"short_description":"Includes both spoken and written dialogs across six distinct domains, created using two procedures","total_num":"13,215 task-based dialogs"},{"dataset":"TIMIT(TIMITAcoustic-PhoneticContinuousSpeechCorpus)","dataset_home":["https://catalog.ldc.upenn.edu/LDC93S1"],"description":"\\n                    The TIMIT Acoustic-Phonetic Continuous Speech Corpus is a standard dataset used for evaluation of automatic speech recognition systems. It consists of recordings of 630 speakers of 8 dialects of American English each reading 10 phonetically-rich sentences. It also comes with the word and phone-level transcriptions of the speech.\\n                    \\n                        \\n                            Source:  Improving neural networks by preventing co-adaptation of feature detectors\\n                        \\n                    \\n\\n                ","benchmarks":["SpeechRecognition","SpeechSeparation","SpeechEnhancement","Speaker-SpecificLiptoSpeechSynthesis","LipReading"],"dataloaders":["https://huggingface.co/datasets/timit-asr/timit_asr","https://huggingface.co/datasets/timit_asr","https://docs.activeloop.ai/datasets/timit-dataset"],"best_models":["wav2vec2.0","Audio-Visualconcat-ref","SEMamba","Lip2Wav","Lip2Wav"],"short_description":"Phonetically-rich sentences, word and phone-level transcriptions, 8 dialects of American English","total_num":"630 speakers * 10 sentences = 6,300 recordings"},{"dataset":"2000HUB5English","dataset_home":["https://catalog.ldc.upenn.edu/LDC2002T43"],"description":"\\n                    2000 HUB5 English Evaluation Transcripts was developed by the Linguistic Data Consortium (LDC)  and consists of transcripts of 40 English telephone conversations used in the 2000 HUB5 evaluation sponsored by NIST (National Institute of Standards and Technology). \\nThe Hub5 evaluation series focused on conversational speech over the telephone with the particular task of transcribing conversational speech into text. Its goals were to explore promising new areas in the recognition of conversational speech, to develop advanced technology incorporating those ideas and to measure the performance of new technology.\\n                    \\n\\n                ","benchmarks":["SpeechRecognition"],"dataloaders":[],"best_models":["LAS+SpecAugment"],"short_description":"Conversational speech over the telephone transcribed into text, focusing on recognition of conversational speech","total_num":"40 English telephone conversations"},{"dataset":"aidatatang_200zh","dataset_home":["http://openslr.org/62/"],"description":"\\n                    A Chinese Mandarin speech corpus by Beijing DataTang Technology Co., Ltd, containing 200 hours of speech data from 600 speakers. The transcription accuracy for each sentence is larger than 98%.\\nAidatatang_200zh is a free Chinese Mandarin speech corpus provided by Beijing DataTang Technology Co., Ltd under Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International Public License.\\nThe contents and the corresponding descriptions of the corpus include:\\nThe corpus contains 200 hours of acoustic data, which is mostly mobile recorded data.\\n600 speakers from different accent areas in China are invited to participate in the recording.\\nThe transcription accuracy for each sentence is larger than 98%.\\nRecordings are conducted in a quiet indoor environment.\\nThe database is divided into training set, validation set, and testing set in a ratio of 7: 1: 2.\\nDetail information such as speech data coding and speaker information is preserved in the metadata file.\\nSegmented transcripts are also provided.\\nThe corpus aims to support researchers in speech recognition, machine translation, voiceprint recognition, and other speech-related fields. Therefore, the corpus is totally free for academic use.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Unique accents from different areas in China with high transcription accuracy (larger than 98%) and varied recording conditions","total_num":"200 hours of speech data from 600 speakers"},{"dataset":"i3-video(is-it-instructional-video)","dataset_home":["https://github.com/google-research-datasets/i3-video"],"description":"\\n                    The i3-video dataset contains \\"is-it-instructional\\" annotations for 6.4k videos from Youtube-8M. The videos are considered to be instructional if they focus on real-world human actions accompanied by procedural language that explains what\u2019s happening on screen in reasonable details.\\n                    \\n                        \\n                            Source:  i3-video\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/google-research-datasets/i3-video"],"best_models":[],"short_description":"Videos contain real-world human actions accompanied by procedural language explaining the on-screen actions","total_num":"6.4k videos"},{"dataset":"ZambeziVoice","dataset_home":["https://github.com/unza-speech-lab/zambezi-voice/blob/main/README.md"],"description":"\\n                    This work introduces Zambezi Voice, an open-source multilingual speech resource for Zambian languages. It contains two collections of datasets: unlabelled audio recordings of radio news and talk shows programs (160 hours) and labelled data (over 80 hours) consisting of read speech recorded from text sourced from publicly available literature books. The dataset is created for speech recognition but can be extended to multilingual speech processing research for both supervised and unsupervised learning approaches. To our knowledge, this is the first multilingual speech dataset created for Zambian languages. We exploit pretraining and cross-lingual transfer learning by finetuning the Wav2Vec2.0 large-scale multilingual pre-trained model to build end-to-end (E2E) speech recognition models for our baseline models. The dataset is released publicly under a Creative Commons BY-NC-ND 4.0 license and can be accessed through the project repository.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"First multilingual speech dataset created for Zambian languages.","total_num":"160 hours unlabelled + 80 hours labelled data"},{"dataset":"RadioTalk","dataset_home":["https://github.com/social-machines/RadioTalk"],"description":"\\n                    RadioTalk is a corpus of speech recognition transcripts sampled from talk radio broadcasts in the United States between October of 2018 and March of 2019. The corpus is intended for use by researchers in the fields of natural language processing, conversational analysis, and the social sciences. The corpus encompasses approximately 2.8 billion words of automatically transcribed speech from 284,000 hours of radio, together with metadata about the speech, such as geographical location, speaker turn boundaries, gender, and radio program information.\\n                    \\n                        \\n                            Source:  https://github.com/social-machines/RadioTalk\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/social-machines/RadioTalk"],"best_models":[],"short_description":"Automatically transcribed speech from US talk radio broadcasts","total_num":"284,000 hours of radio, 2.8 billion words"},{"dataset":"V\u0101ksa\xf1caya\u1e25(SanskritSpeechCorpusbyIITBombay)","dataset_home":["https://www.cse.iitb.ac.in/~asr/"],"description":"\\n                    This Sanskrit speech corpus has more than 78 hours of audio data and contains recordings of 45,953 sentences with a sampling rate of 22KHz. The content is mainly readings of texts spanning over various \u015a\u0101stras of Sa\u1e43sk\u1e5btam literature and also includes contemporary stories, radio program, extempore discourse, etc.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Recordings of \u015a\u0101stras of Sa\u1e43sk\u1e5btam literature and contemporary stories","total_num":45953},{"dataset":"PersianPreschoolCognitionSpeech","dataset_home":[],"description":"\\n                    Data collection was conducted by asking some adults from social media and some students from an elementary school to participate in our experiment. \\nTable.1 shows the number of data gathered for recognizing each color. Due to the fact that two words are used for black in Persian, the number of black samples is more. In addition, because the color recognition is a RAN task, a sequence of data has been gathered. Table.2 depicts the number of sequence data for colors. For the meaningless words, 12 voices have been gathered on average for each word (there are 40 meaningless words in this task).\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Multimodal dataset containing spoken color recognition samples from adults and elementary school students, including sequence data and meaningless words in Persian.","total_num":"NA"},{"dataset":"RESD(RussianEmotionalSpeechDialogswithannotatedtext)","dataset_home":["https://huggingface.co/datasets/Aniemore/resd_annotated"],"description":"\\n                    Russian dataset of emotional speech dialogues. This dataset was assembled from ~3.5 hours of live speech by actors who voiced pre-distributed emotions in the dialogue for ~3 minutes each. \\nEach sample of dataset contains name of part from the original dataset studio source, speech file (16000 or 44100Hz) of human voice, 1 of 7 labeled emotions and the speech-to-texted part of voice speech. \\nEmotions are represented in 7 states: anger, disgust, fear, enthusiasm, happiness, neutral and sadness.\\nThis dataset was created by Artem Amentes, Nikita Davidchuk and Ilya Lubenets\\n@misc{Aniemore,\\n  author = {\u0410\u0440\u0442\u0435\u043c \u0410\u043c\u0435\u043d\u0442\u0435\u0441, \u0418\u043b\u044c\u044f \u041b\u0443\u0431\u0435\u043d\u0435\u0446, \u041d\u0438\u043a\u0438\u0442\u0430 \u0414\u0430\u0432\u0438\u0434\u0447\u0443\u043a},\\n  title = {\u041e\u0442\u043a\u0440\u044b\u0442\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0438\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u043b\u043b\u0435\u043a\u0442\u0430 \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0438 \u0432\u044b\u044f\u0432\u043b\u0435\u043d\u0438\u044f \u044d\u043c\u043e\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0442\u0435\u043d\u043a\u043e\u0432 \u0440\u0435\u0447\u0438 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430},\\n  year = {2022},\\n  publisher = {Hugging Face},\\n  journal = {Hugging Face Hub},\\n  howpublished = {\\\\url{https://huggingface.com/aniemore/Aniemore}},\\n  email = {hello@socialcode.ru}\\n}\\n\\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://huggingface.co/datasets/Aniemore/resd_annotated"],"best_models":[],"short_description":"The dataset features ~3.5 hours of live speech from actors, with each sample labeled with one of 7 emotions and including speech-to-text transcription.","total_num":"NA"},{"dataset":"MSNER(MultilingualSpokenNamedEntityRecognition)","dataset_home":["https://github.com/qmeeus/MSNER"],"description":"\\n                    This dataset contains named entities annotations for European Parliament recordings in Dutch, French, German and Spanish. The entity annotation scheme follows OntoNotes v5.\\nThe original unannotated dataset is VoxPopuli.\\nThe training and developement sets contain silver-quality annotations. The test set contains human-verified gold-quality annotations.\\nThe test set is available on HuggingFace in BIO format: qmeeus/MSNER\\n@inproceedings{MSNER,\\nauthor = {Meeus, Quentin and Moens, Marie-Francine and Van hamme, Hugo},\\nbooktitle = {20th Joint ACL-ISO Workshop on Interoperable Semantic Annotation at LREC-COLING},\\ntitle = {{MSNER: A Multilingual Speech Dataset for Named Entity Recognition}},\\nyear = {2024}\\n}\\n\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Multilingual speech dataset for Named Entity Recognition in Dutch, French, German, and Spanish, with silver-quality annotations in training and development sets, and gold-quality annotations in the test set.","total_num":"NA"},{"dataset":"Kite","dataset_home":["http://kite.speed.pub.ro/"],"description":"\\n                    The Kite database is a multi-modal dataset for the control of unmanned aerial vehicles (UAVs). There are three modalities present in the dataset:\\n\\nLanguage, represented by the commands issued to the UAV\\nAudio, represented by the spoken instantiation of the commands\\nVisual, represented by an image that is likely to be seen when the command is issued\\n\\nThe dataset was created by the members of the SpeeD team.\\n                    \\n                        \\n                            Source:  Kite Dataset\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Unique, multi-modal dataset for UAV control, including language, audio, and visual modalities","total_num":"NA"},{"dataset":"Fongbeaudio(Fongbedataset)","dataset_home":["https://github.com/laleye/ALFFA_PUBLIC/tree/master/ASR/FONGBE"],"description":"\\n                    Fongbe Data collected by Fr\xe9jus A. A LALEYE\\nThis dataset contains Fongbe speech corpus with audio data and transcriptions. \\n                    \\n                        \\n                            Source:  Fongbe dataset\\n                        \\n                    \\n\\n                ","benchmarks":["SpeechRecognition"],"dataloaders":["https://github.com/laleye/ALFFA_PUBLIC"],"best_models":["Triphone"],"short_description":"Fongbe speech corpus with audio data and transcriptions, collected by Frejus A. A. Lalleye","total_num":"NA"},{"dataset":"FTSpeech","dataset_home":["https://ftspeech.github.io/"],"description":"\\n                    FT Speech is a speech corpus created from the recorded meetings of the Danish Parliament, otherwise known as the Folketing (FT). The corpus contains over 1,800 hours of transcribed speech by a total of 434 speakers. It is significantly larger in duration, vocabulary, and amount of spontaneous speech than the existing public speech corpora for Danish, which are largely limited to read-aloud and dictation data. \\n                    \\n                        \\n                            Source:  FT Speech: Danish Parliament Speech Corpus\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Contains spontaneous speech from Danish Parliament meetings, larger than existing public corpora","total_num":"1,800 hours of speech, 434 speakers"},{"dataset":"GOLOS","dataset_home":["https://github.com/sberdevices/golos"],"description":"\\n                    Golos is a Russian speech dataset suitable for speech research. The dataset mainly consists of recorded audio files manually annotated on the crowd-sourcing platform. The total duration of the audio is about 1240 hours.\\nDataset structure\\n\\n\\n\\nDomain\\nTrain files\\nTrain hours\\nTest files\\nTest hours\\n\\n\\n\\n\\nCrowd\\n979 796\\n1 095\\n9 994\\n11.2\\n\\n\\nFarfield\\n124 003\\n132.4\\n1 916\\n1.4\\n\\n\\nTotal\\n1 103 799\\n1 227.4\\n11 910\\n12.6\\n\\n\\n\\nAudio files in opus format\\n\\n\\n\\nArchive\\nSize\\nLink\\n\\n\\n\\n\\ngolos_opus.tar\\n20.5 GB\\nhttps://sc.link/JpD\\n\\n\\n\\nAudio files in wav format\\n\\n\\n\\nArchives\\nSize\\nLinks\\n\\n\\n\\n\\ntrain_farfield.tar\\n15.4 GB\\nhttps://sc.link/1Z3\\n\\n\\ntrain_crowd0.tar\\n11 GB\\nhttps://sc.link/Lrg\\n\\n\\ntrain_crowd1.tar\\n14 GB\\nhttps://sc.link/MvQ\\n\\n\\ntrain_crowd2.tar\\n13.2 GB\\nhttps://sc.link/NwL\\n\\n\\ntrain_crowd3.tar\\n11.6 GB\\nhttps://sc.link/Oxg\\n\\n\\ntrain_crowd4.tar\\n15.8 GB\\nhttps://sc.link/Pyz\\n\\n\\ntrain_crowd5.tar\\n13.1 GB\\nhttps://sc.link/Qz7\\n\\n\\ntrain_crowd6.tar\\n15.7 GB\\nhttps://sc.link/RAL\\n\\n\\ntrain_crowd7.tar\\n12.7 GB\\nhttps://sc.link/VG5\\n\\n\\ntrain_crowd8.tar\\n12.2 GB\\nhttps://sc.link/WJW\\n\\n\\ntrain_crowd9.tar\\n8.08 GB\\nhttps://sc.link/XKk\\n\\n\\ntest.tar\\n1.3 GB\\nhttps://sc.link/Kqr\\n\\n\\n\\nEvaluation\\nPercents of Word Error Rate for different test sets\\n\\n\\n\\nDecoder \\\\ Test set\\nCrowd test\\nFarfield test\\nMCV<sup>1</sup> dev\\nMCV<sup>1</sup> test\\n\\n\\n\\n\\nGreedy decoder\\n4.389 %\\n14.949 %\\n9.314 %\\n11.278 %\\n\\n\\nBeam Search with Common Crawl LM\\n4.709 %\\n12.503 %\\n6.341 %\\n7.976 %\\n\\n\\nBeam Search with Golos train set LM\\n3.548 %\\n12.384 %\\n-\\n-\\n\\n\\nBeam Search with Common Crawl and Golos LM\\n3.318 %\\n11.488 %\\n6.4 %\\n8.06 %\\n\\n\\n\\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://huggingface.co/datasets/bond005/sberdevices_golos_100h_farfield","https://huggingface.co/datasets/bond005/sberdevices_golos_10h_crowd"],"best_models":[],"short_description":"Manually annotated Russian speech dataset suitable for speech research, featuring crowd and farfield audio recordings in opus and wav formats.","total_num":"1.1M audio files (1 103 799 files), 1240 hours"},{"dataset":"DEEP-VOICE:DeepFakeVoiceRecognition(JordanBird)","dataset_home":[],"description":"\\n                    DEEP-VOICE: Real-time Detection of AI-Generated Speech for DeepFake Voice Conversion\\nThis dataset contains examples of real human speech, and DeepFake versions of those speeches by using Retrieval-based Voice Conversion. \\nCan machine learning be used to detect when speech is AI-generated?\\nIntroduction\\nThere are growing implications surrounding generative AI in the speech domain that enable voice cloning and real-time voice conversion from one individual to another. This technology poses a significant ethical threat and could lead to breaches of privacy and misrepresentation, thus there is an urgent need for real-time detection of AI-generated speech for DeepFake Voice Conversion. \\nTo address the above emerging issues, we are introducing the DEEP-VOICE dataset. DEEP-VOICE is comprised of real human speech from eight well-known figures and their speech converted to one another using Retrieval-based Voice Conversion.\\nFor each speech, the accompaniment (\\"background noise\\") was removed before conversion using RVC. The original accompaniment is then added back to the DeepFake speech:\\n\\n(Above: Overview of the Retrieval-based Voice Conversion process to generate DeepFake speech with Ryan Gosling\'s speech converted to Margot Robbie. Conversion is run on the extracted vocals before being layered on the original background ambience.)\\nDataset\\nThere are two forms to the dataset that are made available. \\nFirst, the raw audio can be found in the \\"AUDIO\\" directory. They are arranged within \\"REAL\\" and \\"FAKE\\" class directories. The audio filenames note which speakers provided the real speech, and which voices they were converted to. For example \\"Obama-to-Biden\\" denotes that Barack Obama\'s speech has been converted to Joe Biden\'s voice. \\nSecond, the extracted features can be found in the \\"DATASET-balanced.csv\\" file. This is the data that was used in the below study. The dataset has each feature extracted from one-second windows of audio and are balanced through random sampling.\\nNote:  All experimental data is found within the \\"KAGGLE\\" directory. The \\"DEMONSTRATION\\" directory is used for playing cropped and compressed demos in notebooks due to Kaggle\'s limitations on file size.\\nA potential use of a successful system could be used for the following: \\n\\n(Above: Usage of the real-time system. The end user is notified when the machine learning model has processed the speech audio (e.g. a phone or conference call) and predicted that audio chunks contain AI-generated speech.)\\nKaggle\\nThe dataset is available on the Kaggle data science platform.\\nThe Kaggle page can be found by clicking here: Dataset on Kaggle\\nAttribution\\nThis dataset was produced from the study \\"Real-time Detection of AI-Generated Speech for DeepFake Voice Conversion\\"\\nThe preprint can be found on ArXiv by clicking here: Real-time Detection of AI-Generated Speech for DeepFake Voice Conversion\\nLicense\\nThis dataset is provided under the MIT License:\\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \\"Software\\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\\nTHE SOFTWARE IS PROVIDED \\"AS IS\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\\n                    \\n\\n                ","benchmarks":["AudioClassification"],"dataloaders":[],"best_models":["XGBoost"],"short_description":"Dataset contains real human speech and their DeepFake versions converted using Retrieval-based Voice Conversion, making it unique for detecting AI-generated speech","total_num":"NA"},{"dataset":"CrowdSpeech","dataset_home":["https://github.com/pilot7747/VoxDIY"],"description":"\\n                    CrowdSpeech is a publicly available large-scale dataset of crowdsourced audio transcriptions. It contains annotations for more than 20 hours of English speech from more than 1,000 crowd workers.\\n                    \\n\\n                ","benchmarks":["CrowdsourcedTextAggregation","CrowdsourcedTextAggregation"],"dataloaders":["https://huggingface.co/datasets/toloka/CrowdSpeech"],"best_models":["ROVER","ROVER"],"short_description":"Crowdsourced audio transcriptions from more than 1,000 crowd workers","total_num":"More than 20 hours of English speech"},{"dataset":"EmoSpeech","dataset_home":["https://github.com/RakshakTeam/emospeech-dataset-v1"],"description":"\\n                    EmoSpeech contains keywords with diverse emotions and background sounds, presented to explore new challenges in audio analysis.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/RakshakTeam/emospeech-dataset-v1"],"best_models":[],"short_description":"Contains keywords with diverse emotions and background sounds, presented to explore new challenges in audio analysis","total_num":"NA"},{"dataset":"NusaCrowd","dataset_home":["https://github.com/IndoNLP/nusa-crowd/"],"description":"\\n                    NusaCrowd is a collaborative initiative to collect and unite existing resources for Indonesian languages, including opening access to previously non-public resources. Through this initiative, the authors have has brought together 137 datasets and 117 standardized data loaders. The quality of the datasets has been assessed manually and automatically, and their effectiveness has been demonstrated in multiple experiments. \\n                    \\n                        \\n                            Source:  https://arxiv.org/pdf/2212.09648v2.pdf\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Collaborative collection of Indonesian languages resources","total_num":"137 datasets"},{"dataset":"TildeMODELCorpus(TildeMultilingualOpenDataforEuropeanLanguages)","dataset_home":["http://opus.nlpl.eu/TildeMODEL.php"],"description":"\\n                    Tilde MODEL Corpus is a multilingual corpora for European languages \u2013 particularly focused on the smaller languages. The collected resources have been cleaned, aligned, and formatted into a corpora standard TMX format useable for developing new Language technology products and services.\\nIt contains over 10M segments of multilingual open data.\\nThe data has been collected from sites allowing free use and reuse of its content, as well as from Public Sector web sites.\\n                    \\n                        \\n                            Source:  Tilde MODEL - Multilingual Open Data for EU Languages\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://huggingface.co/datasets/Helsinki-NLP/tilde_model","https://huggingface.co/datasets/tilde_model"],"best_models":[],"short_description":"Multilingual open data for European languages, particularly focused on smaller languages","total_num":"10M segments"},{"dataset":"MASRI-HEADSET","dataset_home":["https://www.um.edu.mt/projects/masri/index.html"],"description":"\\n                    MASRI-HEADSET is a corpus that was developed by the MASRI project at the University of Malta. It consists of 8 hours of speech paired with text, recorded by using short text snippets in a laboratory environment. The speakers were recruited from different geographical locations all over the Maltese islands, and were roughly evenly distributed by gender. \\n                    \\n                        \\n                            Source:  MASRI-HEADSET: A Maltese Corpus for Speech Recognition\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Recordings from diverse geographical backgrounds with balanced gender representation, using short text snippets in laboratory environment","total_num":"8 hours of speech"},{"dataset":"BD-4SK-ASR(BasicDatasetforSoraniKurdishAutomaticSpeechRecognition)","dataset_home":["https://github.com/KurdishBLARK/BD-4SK-ASR"],"description":"\\n                    The Basic Dataset for Sorani Kurdish Automatic Speech Recognition (BD-4SK-ASR) is a dataset for automatic speech recognition for Sorani Kurdish.\\n                    \\n                        \\n                            Source:  https://arxiv.org/abs/1911.13087\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/KurdishBLARK/BD-4SK-ASR"],"best_models":[],"short_description":"The dataset is used for automatic speech recognition for Sorani Kurdish, uniqueness of data is that it focuses on a specific dialect.","total_num":"NA"},{"dataset":"Jam-ALT(JamALT:AFormatting-AwareLyricsTranscriptionBenchmark)","dataset_home":["https://huggingface.co/datasets/audioshake/jam-alt"],"description":"\\n                    JamALT is a revision of the JamendoLyrics dataset (80 songs in 4 languages), adapted for use as an automatic lyrics transcription (ALT) benchmark.\\nThe lyrics have been revised according to the newly compiled annotation guide, which include rules about spelling, punctuation, and formatting.\\nThe audio is identical to the JamendoLyrics dataset. However, only 79 songs are included, as one of the 20 French songs has been removed due to concerns about potentially harmful content.\\n                    \\n\\n                ","benchmarks":["AutomaticLyricsTranscription","AutomaticLyricsTranscription","AutomaticLyricsTranscription","AutomaticLyricsTranscription","AutomaticLyricsTranscription"],"dataloaders":["https://huggingface.co/datasets/audioshake/jam-alt"],"best_models":["AudioShakev3","AudioShakev3","AudioShakev3","AudioShakev3","AudioShakev3"],"short_description":"A multi-lingual dataset with revised lyrics and original audio for automatic lyrics transcription (ALT) benchmark","total_num":"79 songs"},{"dataset":"ArzEn(CorpusofEgyptianArabic-EnglishCode-switching)","dataset_home":["https://sites.google.com/view/arzen-corpus/home"],"description":"\\n                    Corpus of Egyptian Arabic-English Code-switching (ArzEn) is a spontaneous conversational speech corpus, obtained through informal interviews held at the German University in Cairo. The participants discussed broad topics, including education, hobbies, work, and life experiences. The corpus currently contains 12 hours of speech, having 6,216 utterances. The recordings were transcribed and translated into monolingual Egyptian Arabic and monolingual English.\\n                    \\n                        \\n                            Source:  https://arxiv.org/pdf/2211.16319v1.pdf\\n                        \\n                    \\n\\n                ","benchmarks":["ArzEnCode-switchedTranslationtoeng","ArzEnCode-switchedTranslationtoara","ArzEnSpeechRecognition"],"dataloaders":[],"best_models":["LLaMa38B","LLaMa38B","WhisperMedium"],"short_description":"Spontaneous conversational speech dataset of Egyptian Arabic-English code-switching, unique in capturing informal interviews","total_num":"6,216 utterances"},{"dataset":"ESB(End-to-EndSpeechBenchmark)","dataset_home":["https://huggingface.co/esb"],"description":"\\n                    ESB is a benchmark for evaluating the performance of a single automatic speech recognition (ASR) system across a broad set of speech datasets. It comprises eight English speech recognition datasets, capturing a broad range of domains, acoustic conditions, speaker styles, and transcription requirements.\\n                    \\n                        \\n                            Source:  ESB: A Benchmark For Multi-Domain End-to-End Speech Recognition\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Eight English speech recognition datasets, capturing a broad range of domains, acoustic conditions, speaker styles, and transcription requirements.","total_num":"NA"},{"dataset":"AVDigitsDatabase","dataset_home":["https://ibug-avs.eu/"],"description":"\\n                    AV Digits Database is an audiovisual database which contains normal, whispered and silent speech. 53 participants were recorded from 3 different views (frontal, 45 and profile) pronouncing digits and phrases in three speech modes.\\nThe database consists of two parts: digits and short phrases. In the first part, participants were asked to read 10 digits, from 0 to 9, in English in random order five times. In case of non-native English speakers this part was also repeated in the participant\u2019s native language. In total, 53 participants (41 males and 12 females) from 16 nationalities, were recorded with a mean age and standard deviation of 26.7 and 4.3 years, respectively.\\nIn the second part, participants were asked to read 10 short phrases. The phrases are the same as the ones used in the OuluVS2 database: \u201cExcuse me\u201d, \u201cGoodbye\u201d, \u201cHello\u201d, \u201cHow are you\u201d, \u201cNice to meet you\u201d, \u201cSee you\u201d, \u201cI am sorry\u201d,   \u201cThank you\u201d, \u201cHave a good time\u201d, \u201cYou are welcome\u201d. Again, each phrase was repeated five times in 3 different modes, neutral, whisper and silent speech. Thirty nine participants (32 males and 7 females) were recorded for this part with a mean age and standard deviation of 26.3 and 3.8 years, respectively.\\n                    \\n                        \\n                            Source:  AV Digits Database\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A unique audiovisual database containing normal, whispered and silent speech from participants of different nationalities and languages.","total_num":"50"},{"dataset":"VietMed(VietMed:ADatasetandBenchmarkforAutomaticSpeechRecognitionofVietnameseintheMedicalDomain)","dataset_home":["https://huggingface.co/datasets/leduckhai/VietMed"],"description":"\\n                    We introduced a Vietnamese speech recognition dataset in the medical domain comprising 16h of labeled medical speech, 1000h of unlabeled medical speech and 1200h of unlabeled general-domain speech. To our best knowledge, VietMed is by far the world\u2019s largest public medical speech recognition dataset in 7 aspects: total duration, number of speakers, diseases, recording conditions, speaker roles, unique medical terms and accents. VietMed is also by far the largest public Vietnamese speech dataset in terms of total duration. Additionally, we are the first to present a medical ASR dataset covering all ICD-10 disease groups and all accents within a country.\\n                    \\n\\n                ","benchmarks":["SpeechRecognition","LanguageModelling"],"dataloaders":["https://github.com/leduckhai/multimed"],"best_models":["XLSR-53-Viet","Hybrid4-gramVietMed-Train+ExtraText"],"short_description":"Largest public medical speech recognition dataset in total duration, number of speakers, and speaker roles covering all ICD-10 disease groups and accents","total_num":"16h labeled + 1000h unlabeled medical speech + 1200h unlabeled general-domain speech"},{"dataset":"TaLCorpus(TheTongueandLipsCorpus)","dataset_home":["https://ultrasuite.github.io/data/tal_corpus/"],"description":"\\n                    The Tongue and Lips (TaL) corpus is a multi-speaker corpus of ultrasound images of the tongue and video images of lips. This corpus contains synchronised imaging data of extraoral (lips) and intraoral (tongue) articulators from 82 native speakers of English.\\nThe TaL corpus consists of two datasets:\\n\\n\\nTaL1 is a single-speaker dataset containing data of one professional voice talent, a male native speaker of English, over six recording sessions.\\n\\n\\nTaL80 is a multi-speaker dataset contains recording sessions of 81 native speakers of English without voice talent experience. Each speaker was recording over a single recording session.\\n\\n\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Synchronised ultrasound images of the tongue and video images of lips from native English speakers.","total_num":"NA"},{"dataset":"GoogleSpeechCommands-Musan","dataset_home":["https://zenodo.org/record/6066174#.Yn7NPJPMLyU"],"description":"\\n                    This noisy speech test set is created from the Google Speech Commands v2 [1] and the Musan dataset[2]. \\nIt could be downloaded here: https://zenodo.org/record/6066174#.Yn7NPJPMLyU\\nSpecifically, we created this test set by mixing the speech in the Google Speech Commands v2 test set with random noise in the Musan dataset at different signal to noise ratio -12.5,-10,0,10,20,30 and 40 decibel (dB). \\nThe Google Speech Commands v2 dataset is under the Creative Commons BY 4.0 license. It could be downloaded at: http://download.tensorflow.org/data/speech_commands_v0.02.tar.gz\\nThe Musan dataset is under Attribution 4.0 International (CC BY 4.0). It could be downlowned at https://www.openslr.org/17/\\nCitations:\\n[1] Pete Warden, \u201cSpeech commands: A dataset for limited-vocabulary speech recognition,\u201d arXiv preprint arXiv:1804.03209, 2018.\\n[2] David Snyder, Guoguo Chen, and Daniel Povey, \u201cMusan: A music, speech, and noise corpus,\u201d arXiv preprint arXiv:1510.08484, 2015.\\n                    \\n\\n                ","benchmarks":["SpeechRecognition"],"dataloaders":[],"best_models":["ImportantAug"],"short_description":"A noisy speech test set created by mixing Google Speech Commands v2 with random noise from Musan dataset at different signal to noise ratios","total_num":"NA"},{"dataset":"RTASC(ROBINTechnicalAcquisitionSpeechCorpus)","dataset_home":["https://doi.org/10.5281/zenodo.4626539"],"description":"\\n                    The ROBIN Technical Acquisition Speech Corpus (ROBINTASC) was developed within the ROBIN project. Its main purpose was to improve the behaviour of a conversational agent, allowing human-machine interaction in the context of purchasing technical equipment. It contains over 6 hours of read speech in Romanian language. We provide text files, associated speech files (WAV, 44.1KHz, 16-bit, single channel), annotated text files in CoNLL-U format.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"6 hours of read speech in Romanian language, unique for human-machine interaction in technical equipment context","total_num":"NA"},{"dataset":"LibriVoxDeEn","dataset_home":["https://www.cl.uni-heidelberg.de/statnlpgroup/librivoxdeen/"],"description":"\\n                    LibriVoxDeEn is a corpus of sentence-aligned triples of German audio, German text, and English translation, based on German audiobooks. The speech translation data consist of 110 hours of audio material aligned to over 50k parallel sentences. An even larger dataset comprising 547 hours of German speech aligned to German text is available for speech recognition. The audio data is read speech and thus low in disfluencies.\\n                    \\n                        \\n                            Source:  LibriVoxDeEn: A Corpus for German-to-English Speech Translation and German Speech Recognition\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Low disfluency read speech audio data for speech translation and recognition","total_num":"110 hours of audio material aligned to over 50k parallel sentences"},{"dataset":"ODSQA(Open-DomainSpokenQuestionAnswering)","dataset_home":["https://github.com/chiahsuan156/ODSQA"],"description":"\\n                    The ODSQA dataset is a spoken dataset for question answering in Chinese. It contains more than three thousand questions from 20 different speakers.\\n                    \\n                        \\n                            Source:  https://github.com/chiahsuan156/ODSQA\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/chiahsuan156/ODSQA"],"best_models":[],"short_description":"Spoken Chinese question answering dataset from 20 different speakers","total_num":"3k+ questions"},{"dataset":"TimersandSuch","dataset_home":["https://zenodo.org/record/4623772"],"description":"\\n                    Timers and Such is an open source dataset of spoken English commands for common voice control use cases involving numbers. The dataset has four intents, corresponding to four common offline voice assistant uses: SetTimer, SetAlarm, SimpleMath, and UnitConversion. The semantic label for each utterance is a dictionary with the intent and a number of slots. \\nAll recordings were converted from their original formats to single-channel 16,000 Hz .wav files.\\n                    \\n\\n                ","benchmarks":["SpokenLanguageUnderstanding"],"dataloaders":[],"best_models":["Finstreder"],"short_description":"A unique, open source dataset of spoken English commands for common voice control use cases involving numbers, with four intents (SetTimer, SetAlarm, SimpleMath, and UnitConversion) and uniform .wav file format.","total_num":"NA"},{"dataset":"OpenImagesV7","dataset_home":["https://g.co/dataset/open-images"],"description":"\\n                    Open Images is a computer vision dataset covering ~9 million images with labels spanning thousands of object categories. A subset of 1.9M includes diverse annotations types.\\n\\n15,851,536 boxes on 600 classes\\n2,785,498 instance segmentations on 350 classes\\n3,284,280 relationship annotations on 1,466 relationships\\n675,155 localized narratives (synchronized voice, mouse trace, and text caption)\\n66,391,027 point-level annotations on 5,827 classes\\n61,404,966 image-level labels on 20,638 classes\\n\\nImages are under a  CC BY 2.0 license, annotations under  CC BY 4.0 license.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://docs.voxel51.com/user_guide/dataset_zoo/datasets.html#open-images-v7"],"best_models":[],"short_description":"Dataset covering thousands of object categories with diverse annotations types including boxes, instance segmentations, relationship annotations, localized narratives, point-level annotations, and image-level labels.","total_num":"~9 million images"},{"dataset":"CSRC(ChildrenSpeechRecognitionChallenge)","dataset_home":["https://www.data-baker.com/csrc_challenge.html"],"description":"\\n                    CSRC is a collection of data for Children Speech Recognition. The data for this challenge is divided into 3 datasets, referred to as A (Adult speech training set), C1 (Children speech training set) and C2 (Children conversation training set). All dataset combined amount to 400 hours of Mandarin speech data.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Collection of Mandarin speech data for Children Speech Recognition, unique for its separation into adult and children speech sets","total_num":"400 hours"},{"dataset":"ArtieBiasCorpus","dataset_home":["https://github.com/artie-inc/artie-bias-corpus"],"description":"\\n                    Artie Bias Corpus is an open dataset for detecting demographic bias in speech applications.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Artie Bias Corpus is designed specifically for detecting demographic bias in speech applications, focusing on real-world interactions and diverse voice profiles.","total_num":"NA"},{"dataset":"ADIMA","dataset_home":["https://github.com/ShareChatAI/Adima"],"description":"\\n                    ADIMA is a novel, linguistically diverse, ethically sourced, expert annotated and well-balanced multilingual profanity detection audio dataset comprising of 11,775 audio samples in 10 Indic languages spanning 65 hours and spoken by 6,446 unique users.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Multilingual profanity detection audio dataset in 10 Indic languages","total_num":"11,775 audio samples"},{"dataset":"word2word","dataset_home":["https://pypi.org/project/word2word/"],"description":"\\n                    word2word contains easy-to-use word translations for 3,564 language pairs.\\n\\nA large collection of freely & publicly available bilingual lexicons for 3,564 language pairs across 62 unique languages.\\nEasy-to-use Python interface for accessing top-k word translations and for building a new bilingual lexicon from a custom parallel corpus.\\nConstructed using a simple approach that yields bilingual lexicons with high coverage and competitive translation quality.\\n\\n                    \\n                        \\n                            Source:  word2word\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A large collection of bilingual lexicons across 62 unique languages","total_num":"3,564 language pairs"},{"dataset":"OLR2021","dataset_home":["http://cslt.riit.tsinghua.edu.cn/mediawiki/index.php/OLR_Challenge_2021"],"description":"\\n                    The OLR 2021 dataset contains the data for the Oriental Language Recognition (OLR) 2021 Challenge, which intends to improve the performance of language recognition systems and speech recognition systems within multilingual scenarios.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Multilingual speech data for Oriental Language Recognition","total_num":"NA"},{"dataset":"MediaSpeech","dataset_home":["https://github.com/NTRLab/MediaSpeech"],"description":"\\n                    MediaSpeech is a media speech dataset (you might have guessed this) built with the purpose of testing Automated Speech Recognition (ASR) systems performance. The dataset consists of short speech segments automatically extracted from media videos available on YouTube and manually transcribed, with some pre- and post-processing. The dataset contains 10 hours of speech for each language provided. This release contains audio datasets in French, Arabic, Turkish and Spanish, and is a part of a larger private dataset.\\n                    \\n                        \\n                            Source:  MediaSpeech: Multilanguage ASR Benchmark and Dataset\\n                        \\n                    \\n\\n                ","benchmarks":["SpeechRecognition"],"dataloaders":[],"best_models":["Quartznet"],"short_description":"Automatically extracted short speech segments from YouTube media videos, manually transcribed in 4 languages (French, Arabic, Turkish and Spanish)","total_num":"NA"},{"dataset":"Libri-Adapt","dataset_home":["https://github.com/akhilmathurs/libriadapt"],"description":"\\n                    Libri-Adapt aims to support unsupervised domain adaptation research on speech recognition models.\\n                    \\n                        \\n                            Source:  Libri-Adapt: A New Speech Dataset for Unsupervised Domain Adaptation\\n                        \\n                    \\n\\n                ","benchmarks":["Cross-environmentASR","Cross-deviceASR"],"dataloaders":["https://github.com/akhilmathurs/libriadapt"],"best_models":["CMatch","CMatch"],"short_description":"A new speech dataset for unsupervised domain adaptation, aiming to support research on speech recognition models.","total_num":"NA"},{"dataset":"Europarl-ASR","dataset_home":["https://www.mllp.upv.es/europarl-asr/"],"description":"\\n                    Europarl-ASR (EN) is a 1300-hour English-language speech and text corpus of parliamentary debates for (streaming) Automatic Speech Recognition training and benchmarking, speech data filtering and speech data verbatimization, based on European Parliament speeches and their official transcripts (1996-2020). Includes dev-test sets for streaming ASR benchmarking, made up of 18 hours of manually revised speeches. The availability of manual non-verbatim and verbatim transcripts for dev-test speeches makes this corpus also useful for the assessment of automatic filtering and verbatimization techniques. The corpus is released under an open licence at https://www.mllp.upv.es/europarl-asr/\\nEuroparl-ASR CONTENTS: [Speech data] 1300 hours of English-language annotated speech data, 3 full sets of timed transcriptions (official non-verbatim, automatically noise-filtered, automatically verbatimized), 18 hours of speech data with both manually revised verbatim transcriptions and official non-verbatim transcriptions, split in 2 independent validation- evaluation partitions for 2 realistic ASR tasks (with vs. without previous knowledge of the speaker); [Text data] 70 million tokens of English-language text data; [Pretrained language models] the Europarl-ASR English-language n-gram language model and vocabulary.\\n                    \\n\\n                ","benchmarks":["SpeechRecognition","SpeechRecognition"],"dataloaders":[],"best_models":["mllp_2021_offline_verb","mllp_2021_offline_filt"],"short_description":"Unique English-language speech and text corpus of parliamentary debates","total_num":"1300 hours of speech data"},{"dataset":"AccentDB","dataset_home":["https://accentdb.org/"],"description":"\\n                    AccentDB is a database that contains samples of 4 Indian-English accents, and a compilation of samples from 4 native-English, and a metropolitan Indian-English accent.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://www.tensorflow.org/datasets/catalog/accentdb"],"best_models":[],"short_description":"Unique compilation of samples from 9 English accents, including 4 native-English accents, 4 Indian-English accents, and a metropolitan Indian-English accent.","total_num":"NA"},{"dataset":"ClovaCall","dataset_home":["https://github.com/ClovaAI/ClovaCall"],"description":"\\n                    ClovaCall is a new large-scale Korean call-based speech corpus under a goal-oriented dialog scenario from more than 11,000 people. The raw dataset of ClovaCall includes approximately 112,000 pairs of a short sentence and its corresponding spoken utterance in a restaurant reservation domain.\\n                    \\n                        \\n                            Source:  https://github.com/ClovaAI/ClovaCall\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/ClovaAI/ClovaCall"],"best_models":[],"short_description":"Goal-oriented dialog scenario, Korean call-based speech corpus in a restaurant reservation domain","total_num":"112,000 pairs"},{"dataset":"THCHS-30","dataset_home":["http://data.cslt.org/thchs30/README.html"],"description":"\\n                    THCHS-30 is a free Chinese speech database\\nTHCHS-30 that can be used to build a full-fledged\\nChinese speech recognition system.\\n                    \\n                        \\n                            Source:  THCHS-30 : A Free Chinese Speech Corpus\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://gas.graviti.com/dataset/hellodataset/THCHS-30"],"best_models":[],"short_description":"Free Chinese speech database that can be used to build a full-fledged Chinese speech recognition system.","total_num":"NA"},{"dataset":"AliMeeting(Multi-ChannelMulti-PartyMeetingTranscriptionChallenge)","dataset_home":["https://www.alibabacloud.com/zh/m2met-alimeeting"],"description":"\\n                    AliMeeting corpus consists of 120 hours of recorded Mandarin meeting data, including far-field data collected by 8-channel microphone array as well as near-field data collected by headset microphone. Each meeting session is composed of 2-4 speakers with different speaker overlap ratio, recorded in rooms with different size.\\n                    \\n\\n                ","benchmarks":["SpeakerDiarization"],"dataloaders":[],"best_models":["SOND"],"short_description":"Recorded Mandarin meeting data with speaker overlap ratio and different room sizes","total_num":"120 hours"},{"dataset":"WenetSpeech","dataset_home":["https://wenet-e2e.github.io/WenetSpeech/"],"description":"\\n                    WenetSpeech is a multi-domain Mandarin corpus consisting of 10,000+ hours high-quality labeled speech, 2,400+ hours weakly labelled speech, and about 10,000 hours unlabeled speech, with 22,400+ hours in total. The authors collected the data from YouTube and Podcast, which covers a variety of speaking styles, scenarios, domains, topics, and noisy conditions. An optical character recognition (OCR) based method is introduced to generate the audio/text segmentation candidates for the YouTube data on its corresponding video captions.\\n                    \\n\\n                ","benchmarks":["SpeechRecognition"],"dataloaders":["https://github.com/wenet-e2e/wenetspeech"],"best_models":["Paraformer-large"],"short_description":"Multi-domain Mandarin corpus with various speaking styles, scenarios, domains, topics, and noisy conditions.","total_num":"22,400+ hours"},{"dataset":"VOICES(VoicesObscuredInComplexEnvironmentalSettings)","dataset_home":["https://registry.opendata.aws/lab41-sri-voices/"],"description":"\\n                    The VOICES corpus is a dataset to promote speech and signal processing research of speech recorded by far-field microphones in noisy room conditions. \\nFor this corpus, audio was recorded in furnished rooms with background noise played in conjunction with foreground speech selected from the LibriSpeech corpus. Multiple sessions were recorded in each room to accommodate for all foreground speech-background noise combinations. Audio was recorded using twelve microphones placed throughout the room, resulting in 120 hours of audio per microphone.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Audio recorded in furnished rooms with background noise and foreground speech using far-field microphones","total_num":"1440 hours of audio (120 hours/microphone * 12 microphones)"},{"dataset":"CoVoST","dataset_home":["https://github.com/facebookresearch/covost"],"description":"\\n                    CoVoST is a large-scale multilingual speech-to-text translation corpus. Its latest 2nd version covers translations from 21 languages into English and from English into 15 languages. It has total 2880 hours of speech and is diversified with 78K speakers and 66 accents.\\n                    \\n                        \\n                            Source:  CoVoST 2 and Massively Multilingual Speech-to-Text Translation\\n                        \\n                    \\n\\n                ","benchmarks":["automatic-speech-translation"],"dataloaders":["https://github.com/facebookresearch/covost"],"best_models":["canary-1b"],"short_description":"The dataset is diversified with 78K speakers and 66 accents, covering translations from 21 languages into English and from English into 15 languages.","total_num":"2880 hours of speech"},{"dataset":"CHiME-5(CHiMESpeechSeparationandRecognitionChallenge)","dataset_home":["https://github.com/kaldi-asr/kaldi/tree/master/egs/chime5/s5"],"description":"\\n                    The CHiME challenge series aims to advance robust automatic speech recognition (ASR) technology by promoting research at the interface of speech and language processing, signal processing , and machine learning.\\n                    \\n                        \\n                            Source:  The fifth \'CHiME\' Speech Separation and Recognition Challenge: Dataset, task and baselines\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/kaldi-asr/kaldi"],"best_models":[],"short_description":"Realistic noisy speech recordings to advance ASR technology","total_num":"NA"},{"dataset":"LRS3-TED","dataset_home":["https://www.robots.ox.ac.uk/~vgg/data/lip_reading/lrs3.html"],"description":"\\n                    LRS3-TED is a multi-modal dataset for visual and audio-visual speech recognition. It includes face tracks from over 400 hours of TED and TEDx videos, along with the corresponding subtitles and word alignment boundaries. The new dataset is substantially larger in scale compared to other public datasets that are available for general research. \\n                    \\n                        \\n                            Source:  LRS3-TED: a large-scale dataset for visual speech recognition\\n                        \\n                    \\n\\n                ","benchmarks":["Lipreading","Audio-VisualSpeechRecognition","VisualSpeechRecognition","SpeechRecognition","VisualKeywordSpotting","AutomaticSpeechRecognition(ASR)","GestureSynchronization","ActiveSpeakerDetection"],"dataloaders":[],"best_models":["LP+Conformer","CTC/Attention","CTC/Attention","AV-HuBERTLarge","Transpotter","CTC/Attention","GestSync","GestSync"],"short_description":"Multi-modal dataset with face tracks, audio-visual speech and corresponding subtitles for visual and audio-visual speech recognition","total_num":"over 400 hours of TED and TEDx videos"},{"dataset":"ReVerbChallenge(REverberantVoiceEnhancementandRecognitionBenchmark)","dataset_home":["https://reverb2014.audiolabs-erlangen.de"],"description":"\\n                    The REVERB (REverberant Voice Enhancement and Recognition Benchmark) challenge is a benchmark for evaluation of automatic speech recognition techniques. The challenge assumes the scenario of capturing utterances spoken by a single stationary distant-talking speaker with 1-channe, 2-channel or 8-channel microphone-arrays in reverberant meeting rooms. It features both real recordings and simulated data.\\nThe challenge constis of speech enhancement and automatic speech recognition tasks in reverberant environments. The speech enhancement challenge task consists of enhancing noisy reverberant speech with single-/multi-channel speech enhancement techniques, and evaluating the enhanced data in terms of objective and subjective evaluation metrics. The automatic speech recognition challenge task consists of improving the recognition accuracy of the same reverberant speech. The background noise is mostly stationary and the signal-to-noise ratio is modest.\\n                    \\n                        \\n                            Source:  https://reverb2014.audiolabs-erlangen.de\\n                        \\n                    \\n\\n                ","benchmarks":["QuestionAnswering"],"dataloaders":[],"best_models":["WeaklySupervisedEmbeddings"],"short_description":"Distant-talking speaker recordings in reverberant meeting rooms with real and simulated data for speech enhancement and recognition tasks","total_num":"NA"},{"dataset":"CoVoST2(CommonVoiceSpeech-To-Text2)","dataset_home":["https://github.com/facebookresearch/covost"],"description":"\\n                    End-to-end speech-to-text translation (ST) has recently witnessed an increased interest given its system simplicity, lower inference latency and less compounding errors compared to cascaded ST (i.e. speech recognition + machine translation). End-to-end ST model training, however, is often hampered by the lack of parallel data. Thus, we created CoVoST, a large-scale multilingual ST corpus based on Common Voice, to foster ST research with the largest ever open dataset. Its latest version covers translations from English into 15 languages---Arabic, Catalan, Welsh, German, Estonian, Persian, Indonesian, Japanese, Latvian, Mongolian, Slovenian, Swedish, Tamil, Turkish, Chinese---and from 21 languages into English, including the 15 target languages as well as Spanish, French, Italian, Dutch, Portuguese, Russian. It has total 2,880 hours of speech and is diversified with 78K speakers.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Large-scale multilingual speech-to-text dataset with 78K speakers, featuring translations from English into 15 languages and from 21 languages into English.","total_num":"2,880 hours of speech"},{"dataset":"LibriSpeech","dataset_home":["http://www.openslr.org/12"],"description":"\\n                    The LibriSpeech corpus is a collection of approximately 1,000 hours of audiobooks that are a part of the LibriVox project. Most of the audiobooks come from the Project Gutenberg. The training data is split into 3 partitions of 100hr, 360hr, and 500hr sets while the dev and test data are split into the \u2019clean\u2019 and \u2019other\u2019 categories, respectively, depending upon how well or challenging Automatic Speech Recognition systems would perform against. Each of the dev and test sets is around 5hr in audio length. This corpus also provides the n-gram language models and the corresponding texts excerpted from the Project Gutenberg books, which contain 803M tokens and 977K unique words.\\n                    \\n                        \\n                            Source:  State-of-the-art Speech Recognition using Multi-stream Self-attention with Dilated 1D Convolutions\\n                        \\n                    \\n\\n                ","benchmarks":["SpeechRecognition","SpeechRecognition","AutomaticSpeechRecognition","AutomaticSpeechRecognition","Resynthesis","AutomaticSpeechRecognition","AutomaticSpeechRecognition","VoiceConversion"],"dataloaders":["https://huggingface.co/datasets/librispeech_asr","https://www.tensorflow.org/datasets/catalog/librispeech","https://pytorch.org/audio/stable/datasets.html#torchaudio.datasets.LIBRISPEECH","https://gitlab.com/jaco-assistant/corcua"],"best_models":["Conformer+Wav2vec2.0+SpecAugment-basedNoisyStudentTrainingwithLibri-Light","parakeet-rnnt-1.1b","parakeet_rnnt_1.1b","parakeet_tdt_1.1b","CPC","MonoBERT","MonoBERT","kNN-VC"],"short_description":"A collection of 1,000 hours of audiobooks that help in training of Automatic Speech Recognition systems","total_num":"Na"}]'),du=JSON.parse('[{"dataset":"ImageNet","dataset_home":["https://image-net.org/index.php"],"description":"\\n                    The ImageNet dataset contains 14,197,122 annotated images according to the WordNet hierarchy. Since 2010 the dataset is used in the ImageNet Large Scale Visual Recognition Challenge (ILSVRC), a benchmark in image classification and object detection.\\nThe publicly released dataset contains a set of manually annotated training images. A set of test images is also released, with the manual annotations withheld.\\nILSVRC annotations fall into one of two categories: (1) image-level annotation of a binary label for the presence or absence of an object class in the image, e.g., \u201cthere are cars in this image\u201d but \u201cthere are no tigers,\u201d and (2) object-level annotation of a tight bounding box and class label around an object instance in the image, e.g., \u201cthere is a screwdriver centered at position (20,25) with width of 50 pixels and height of 30 pixels\u201d.\\nThe ImageNet project does not own the copyright of the images, therefore only thumbnails and URLs of images are provided.\\n\\nTotal number of non-empty WordNet synsets: 21841\\nTotal number of images: 14197122\\nNumber of images with bounding box annotations: 1,034,908\\nNumber of synsets with SIFT features: 1000\\nNumber of images with SIFT features: 1.2 million\\n\\n                    \\n                        \\n                            Source:  ImageNet Large Scale Visual Recognition Challenge\\n                        \\n                    \\n\\n                ","benchmarks":["ImageClassification","NeuralArchitectureSearch","Self-SupervisedImageClassification","Semi-SupervisedImageClassification","Self-SupervisedImageClassification","Semi-SupervisedImageClassification","KnowledgeDistillation","ImageClassification","Quantization","Zero-ShotTransferImageClassification","DataAugmentation","NetworkPruning","ClassificationwithBinaryNeuralNetwork","Zero-ShotTransferImageClassification","ModelCompression","PromptEngineering","ImageClustering","Zero-ShotComposedImageRetrieval(ZS-CIR)","SparseLearning","Few-ShotImageClassification","Few-ShotImageClassification","UnsupervisedImageClassification","Few-ShotImageClassification","ImageSuper-Resolution","Binarization","JPEGDecompression","Weakly-SupervisedObjectLocalization","PromptEngineering","FeatureUpsampling","Few-ShotImageClassification","ImageInpainting","ImageClassificationwithDifferentialPrivacy","ImageColorization","WeaklySupervisedObjectDetection","AdversarialRobustness","ImageCompressedSensing","ImageDeblurring","AdversarialDefense","Semi-SupervisedImageClassification","MedicalImageClassification","Zero-ShotLearning","VisualQuestionAnswering(VQA)","TransductiveZero-ShotClassification"],"dataloaders":["https://huggingface.co/datasets/coallaoh/ImageNet-AB","https://huggingface.co/datasets/evanarlian/imagenet_1k_resized_256","https://huggingface.co/datasets/zh-plus/tiny-imagenet","https://huggingface.co/datasets/imagenet-1k","https://huggingface.co/datasets/Maysee/tiny-imagenet","https://pytorch.org/vision/stable/generated/torchvision.datasets.ImageNet.html","https://docs.voxel51.com/user_guide/dataset_zoo/datasets.html#imagenet-2012","https://docs.activeloop.ai/datasets/imagenet-dataset","https://www.tensorflow.org/datasets/catalog/imagenet2012","https://github.com/open-mmlab/mmclassification/blob/master/docs/getting_started.md"],"best_models":["OmniVec","DeepMAD-50M","DINOv2","MetaCo-Training","DINOv2","REACT","KD++","Modelsoups","FQ-ViT","M2-Encoder","DeiT-B","ResNet50-2.3GFLOPs","AdaBin","BASIC","ADLIK-MO-ResNet50+W4A4","PromptKD","TURTLE","iSEARLE-XL","Resnet-50:80%Sparse","ViT-MoE-15B","ViT-MoE-15B","TURTLE","MAWS","DAVI","PokeBNN-1.0x","Palette","Stablediffusion","HPT","FeatUp","DebiasPL","WavePaint","NFResnet-50","DDRM","PCL-OB-G-Ens+FRCNN","ResNet-50","DDNM","DDNM","ResNet101","FixMatchw/EMAN","DaViT-T","ZLaP","BLIP-2OPT","ZLaP"],"short_description":"Manually annotated images with binary labels and object-level bounding box annotations, categorized in the WordNet hierarchy","total_num":"14,197,122 images"},{"dataset":"SNLI-VE","dataset_home":["https://github.com/necla-ml/SNLI-VE"],"description":"\\n                    Visual Entailment (VE) consists of image-sentence pairs whereby a premise is defined by an image, rather than a natural language sentence as in traditional Textual Entailment tasks. The goal of a trained VE model is to predict whether the image semantically entails the text. SNLI-VE is a dataset for VE which is based on the Stanford Natural Language Inference corpus and Flickr30k dataset.\\n                    \\n                        \\n                            Source:  https://github.com/necla-ml/SNLI-VE\\n                        \\n                    \\n\\n                ","benchmarks":["VisualEntailment","VisualEntailment"],"dataloaders":["https://docs.allennlp.org/models/main/models/vision/dataset_readers/visual_entailment/","https://github.com/necla-ml/SNLI-VE"],"best_models":["OFA","OFA"],"short_description":"Combination of images from Flickr30k dataset and sentence pairs from Stanford Natural Language Inference corpus, where image serves as a premise for text entailment","total_num":"NA"},{"dataset":"ConceptualCaptions","dataset_home":["https://github.com/google-research-datasets/conceptual-captions"],"description":"\\n                    Automatic image captioning is the task of producing a natural-language utterance (usually a sentence) that correctly reflects the visual content of an image. Up to this point, the resource most used for this task was the MS-COCO dataset, containing around 120,000 images and 5-way image-caption annotations (produced by paid annotators).\\nGoogle\'s Conceptual Captions dataset has more than 3 million images, paired with natural-language captions. In contrast with the curated style of the MS-COCO images, Conceptual Captions images and their raw descriptions are harvested from the web, and therefore represent a wider variety of styles. The raw descriptions are harvested from the Alt-text HTML attribute associated with web images. The authors developed an automatic pipeline that extracts, filters, and transforms candidate image/caption pairs, with the goal of achieving a balance of cleanliness, informativeness, fluency, and learnability of the resulting captions.\\n                    \\n                        \\n                            Source:  Conceptual Captions\\n                        \\n                    \\n\\n                ","benchmarks":["Text-to-ImageGeneration","ImageCaptioning"],"dataloaders":["https://huggingface.co/datasets/google-research-datasets/conceptual_captions","https://huggingface.co/datasets/conceptual_captions","https://github.com/google-research-datasets/conceptual-captions"],"best_models":["ContextualRQ-Transformer","ClipCap"],"short_description":"Wider variety, harvested from web images with Alt-text HTML attribute","total_num":"3 million images"},{"dataset":"CLEVR(CompositionalLanguageandElementaryVisualReasoning)","dataset_home":["https://cs.stanford.edu/people/jcjohns/clevr/"],"description":"\\n                    CLEVR (Compositional Language and Elementary Visual Reasoning) is a synthetic Visual Question Answering dataset. It contains images of 3D-rendered objects; each image comes with a number of highly compositional questions that fall into different categories. Those categories fall into 5 classes of tasks: Exist, Count, Compare Integer, Query Attribute and Compare Attribute. The CLEVR dataset consists of: a training set of 70k images and 700k questions, a validation set of 15k images and 150k questions, a test set of 15k images and 150k questions about objects, answers, scene graphs and functional programs for all train and validation images and questions. Each object present in the scene, aside of position, is characterized by a set of four attributes: 2 sizes: large, small, 3 shapes: square, cylinder, sphere, 2 material types: rubber, metal, 8 color types: gray, blue, brown, yellow, red, green, purple, cyan, resulting in 96 unique combinations.\\n                    \\n                        \\n                            Source:  On transfer learning using a MAC model variant\\n                        \\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)","ImageGeneration"],"dataloaders":["https://github.com/pytorch/vision","https://parl.ai/docs/tasks.html#clevr","https://www.tensorflow.org/datasets/catalog/clevr"],"best_models":["NS-VQA","ProjectedGAN"],"short_description":"Images contain 96 unique object combinations, each characterized by size, shape, material and color, used to test Compositional Language and Elementary Visual Reasoning.","total_num":"700k questions and 100k images"},{"dataset":"VisualGenome","dataset_home":["https://homes.cs.washington.edu/~ranjay/visualgenome/index.html"],"description":"\\n                    Visual Genome contains Visual Question Answering data in a multi-choice setting. It consists of 101,174 images from MSCOCO with 1.7 million QA pairs, 17 questions per image on average. Compared to the Visual Question Answering dataset, Visual Genome represents a more balanced distribution over 6 question types: What, Where, When, Who, Why and How. The Visual Genome dataset also presents 108K images with densely annotated objects, attributes and relationships.\\n                    \\n                        \\n                            Source:  RaAM: A Relation-aware Attention Model for Visual Question Answering\\n                        \\n                    \\n\\n                ","benchmarks":["UnbiasedSceneGraphGeneration","SceneGraphGeneration","SceneGraphClassification","PredicateClassification","Layout-to-ImageGeneration","Multi-labelImageRecognitionwithPartialLabels","Layout-to-ImageGeneration","Layout-to-ImageGeneration","DenseCaptioning","SceneGraphDetection","PhraseGrounding","ObjectDetection","ImageGenerationfromSceneGraphs","BidirectionalRelationshipClassification","VisualQuestionAnswering(VQA)","VisualRelationshipDetection","Unsupervisedsemanticparsing","VisualQuestionAnswering(VQA)","UnsupervisedKG-to-TextGeneration"],"dataloaders":["https://huggingface.co/datasets/ranjaykrishna/visual_genome","https://huggingface.co/datasets/visual_genome"],"best_models":["IETrans","SpeaQ","HIERCOM","HIERCOM","LayoutDiffusion","SARB","OC-GAN","LayoutDiffusion","ControlCap","CAME","GbSVG","AP","MIGS","LOGIN","CMN","PEVL","GT-BT","CMN","GT-BT"],"short_description":"More balanced distribution over 6 question types: What, Where, When, Who, Why and How.","total_num":"1.7 million QA pairs, 101,174 images"},{"dataset":"VisualQuestionAnsweringv2.0(VQAv2.0)","dataset_home":["https://visualqa.org/"],"description":"\\n                    Visual Question Answering (VQA) v2.0 is a dataset containing open-ended questions about images. These questions require an understanding of vision, language and commonsense knowledge to answer. It is the second version of the VQA dataset.\\n\\n265,016 images (COCO and abstract scenes)\\nAt least 3 questions (5.4 questions on average) per image\\n10 ground truth answers per question\\n3 plausible (but likely incorrect) answers per question\\nAutomatic evaluation metric\\n\\nThe first version of the dataset was released in October 2015.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","VisualQuestionAnswering","VisualQuestionAnswering","VisualQuestionAnswering","VisualQuestionAnswering"],"dataloaders":["https://parl.ai/docs/tasks.html#vqav2","https://docs.allennlp.org/models/main/models/vision/dataset_readers/vqav2/"],"best_models":["PaLI","BEiT-3","BLIP-2ViT-GFlanT5XXL","BLIP-2ViT-GOPT6.7B","BLIP-2ViT-GOPT6.7B","LXMERT","RLHF-V"],"short_description":"Images requiring understanding of vision, language and commonsense knowledge to answer open-ended questions","total_num":"265,016 images"},{"dataset":"GQA","dataset_home":["https://cs.stanford.edu/people/dorarad/gqa/"],"description":"\\n                    The GQA dataset is a large-scale visual question answering dataset with real images from the Visual Genome dataset and balanced question-answer pairs. Each training and validation image is also associated with scene graph annotations describing the classes and attributes of those objects in the scene, and their pairwise relations. Along with the images and question-answer pairs, the GQA dataset provides two types of pre-extracted visual features for each image \u2013 convolutional grid features of size 7\xd77\xd72048 extracted from a ResNet-101 network trained on ImageNet, and object detection features of size Ndet\xd72048 (where Ndet is the number of detected objects in each image with a maximum of 100 per image) from a Faster R-CNN detector.\\n                    \\n                        \\n                            Source:  Language-Conditioned Graph Networks for Relational Reasoning\\n                        \\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","GraphQuestionAnswering","VisualQuestionAnswering(VQA)"],"dataloaders":["https://docs.allennlp.org/models/main/models/vision/dataset_readers/gqa/"],"best_models":["TRRNet","CFR","NSM","GraphVQA","RelViT"],"total_num":"310.8K bounding boxes","short_description":"Dataset links depicted objects to visual concepts in questions and answers"},{"dataset":"ActivityNet","dataset_home":["http://activity-net.org/"],"description":"\\n                    The ActivityNet dataset contains 200 different types of activities and a total of 849 hours of videos collected from YouTube. ActivityNet is the largest benchmark for temporal activity detection to date in terms of both the number of activity categories and number of videos, making the task particularly challenging. Version 1.3 of the dataset contains 19994 untrimmed videos in total and is divided into three disjoint subsets, training, validation, and testing by a ratio of 2:1:1. On average, each activity category has 137 untrimmed videos. Each video on average has 1.41 activities which are annotated with temporal boundaries. The ground-truth annotations of test videos are not public.\\n                    \\n                        \\n                            Source:  Dynamic Temporal Pyramid Network: A Closer Look at Multi-Scale Modeling for Activity Detection\\n                        \\n                    \\n\\n                ","benchmarks":["TemporalActionLocalization","VideoRetrieval","WeaklySupervisedActionLocalization","ActionRecognition","WeaklySupervisedActionLocalization","Zero-ShotVideoRetrieval","TemporalActionProposalGeneration","Zero-ShotActionDetection","GZSLVideoClassification","Zero-ShotActionRecognition","GZSLVideoClassification","ActionClassification","Semi-SupervisedActionDetection","VisualQuestionAnswering(VQA)","TemporalActionLocalization","ActionRecognitionInVideos","FewShotTemporalActionLocalization","ZSLVideoClassification","ActionClassification"],"dataloaders":["https://github.com/open-mmlab/mmaction2/blob/master/tools/data/activitynet/README.md"],"best_models":["RDFA-S6","InternVideo2-6B","CASE","Text4Vis","PivoTAL","InternVideo2-6B","AOE-Net","UnLoc-L","KDA","BIKE","KDA","W-TALC","SPOT","BLIP-2T5","DeepMetricLearner","LSTM+PretrainedonYT-8M","FS-QAT","AVCA","UniFormerV2-L"],"short_description":"Largest benchmark for temporal activity detection with 200 types of activities and videos from YouTube","total_num":"19994 untrimmed videos"},{"dataset":"MSCOCO(MicrosoftCommonObjectsinContext)","dataset_home":["https://cocodataset.org/"],"description":"\\n                    The MS COCO (Microsoft Common Objects in Context) dataset is a large-scale object detection, segmentation, key-point detection, and captioning dataset. The dataset consists of 328K images.\\nSplits:\\nThe first version of MS COCO dataset was released in 2014. It contains 164K images split into training (83K), validation (41K) and test (41K) sets. In 2015 additional test set of 81K images was released, including all the previous test images and 40K new images.\\nBased on community feedback, in 2017 the training/validation split was changed from 83K/41K to 118K/5K. The new split uses the same images and annotations. The 2017 test set is a subset of 41K images of the 2015 test set. Additionally, the 2017 release contains a new unannotated dataset of 123K images.\\nAnnotations:\\nThe dataset has annotations for\\n\\nobject detection: bounding boxes and per-instance segmentation masks with 80 object categories,\\ncaptioning: natural language descriptions of the images (see MS COCO Captions),\\nkeypoints detection: containing more than 200,000 images and 250,000 person instances labeled with keypoints (17 possible keypoints, such as left eye, nose, right hip, right ankle),\\nstuff image segmentation \u2013 per-pixel segmentation masks with 91 stuff categories, such as grass, wall, sky (see MS COCO Stuff),\\npanoptic: full scene segmentation, with 80 thing categories (such as person, bicycle, elephant) and a subset of 91 stuff categories (grass, sky, road),\\ndense pose: more than 39,000 images and 56,000 person instances labeled with DensePose annotations \u2013 each labeled person is annotated with an instance id and a mapping between image pixels that belong to that person body and a template 3D model.\\nThe annotations are publicly available only for training and validation images.\\n\\n                    \\n                        \\n                            Source:  https://cocodataset.org/\\n                        \\n                    \\n\\n                ","benchmarks":["ObjectDetection","ObjectDetection","InstanceSegmentation","InstanceSegmentation","Text-to-ImageGeneration","Real-TimeObjectDetection","PoseEstimation","PanopticSegmentation","Cross-ModalRetrieval","Multi-LabelClassification","Few-ShotObjectDetection","PanopticSegmentation","OpenVocabularyObjectDetection","KeypointDetection","Real-timeInstanceSegmentation","ObjectDetection","ImageCaptioning","KeypointDetection","Multi-PersonPoseEstimation","Multi-PersonPoseEstimation","Zero-ShotCross-ModalRetrieval","VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","PoseEstimation","Image-to-TextRetrieval","Single-objectdiscovery","Zero-ShotComposedImageRetrieval(ZS-CIR)","Zero-shotText-to-ImageRetrieval","GeneralizedZero-ShotObjectDetection","KeypointDetection","Zero-ShotObjectDetection","Box-supervisedInstanceSegmentation","ObjectCounting","Weakly-supervisedinstancesegmentation","ObjectDetection","Image-levelSupervisedInstanceSegmentation","UnsupervisedSemanticSegmentation","Zero-ShotObjectDetection","SemanticSegmentation","ImageRetrieval","WeaklySupervisedObjectDetection","Layout-to-ImageGeneration","RegionProposal","VisualQuestionAnswering(VQA)","Multi-LabelImageClassification","WeaklySupervisedObjectDetection","One-ShotObjectDetection","VisualQuestionAnswering(VQA)","KnowledgeDistillation","VisualQuestionAnswering(VQA)","Multi-PersonPoseEstimation","QuestionGeneration","ImageRetrieval","ObjectDetection","mage-to-TextRetrieval","PoseEstimation","RobustObjectDetection","Cross-ModalRetrieval","Text-to-ImageGeneration","OpenWorldObjectDetection","OpenWorldObjectDetection","ConditionalImageGeneration","OpenWorldObjectDetection","InteractiveSegmentation","ImageCaptioning","PoseEstimation","Cross-ModalRetrieval","PoseEstimation","PanopticSegmentation","SceneGraphGeneration","HomographyEstimation","InteractiveSegmentation","Multi-objectdiscovery","ActivenessDetection","ObjectDetection","One-ShotInstanceSegmentation","WeaklySupervisedObjectDetection","ActiveObjectDetection","InstanceSegmentation","SemiSupervisedLearningforImageCaptioning","Few-ShotObjectDetection","ObjectProposalGeneration","ParaphraseGeneration","Real-timeInstanceSegmentation","Point-SupervisedInstanceSegmentation","Quantization","UnsupervisedSemanticSegmentationwithLanguage-imagePre-training","UnsupervisedObjectLocalization","ImageOutpainting","ImageCaptioning","VisualQuestionAnswering","QuestionAnswering","Multi-LabelLearning","VisualQuestionAnswering","FewShotOpenSetObjectDetection","ObjectDetection"],"dataloaders":["https://detectron2.readthedocs.io/en/latest/tutorials/builtin_datasets.html#expected-dataset-structure-for-coco-instance-keypoint-detection","https://github.com/open-mmlab/mmdetection/blob/master/docs/1_exist_data_model.md","https://huggingface.co/datasets/coallaoh/COCO-AB","https://pytorch.org/vision/stable/datasets.html#torchvision.datasets.CocoDetection","https://github.com/PaddlePaddle/PaddleDetection","https://docs.voxel51.com/user_guide/dataset_zoo/datasets.html#dataset-zoo-coco-2017","https://docs.activeloop.ai/datasets/coco-dataset","https://github.com/open-mmlab/mmpose/blob/master/docs/tasks/2d_body_keypoint.md#coco","https://www.tensorflow.org/datasets/catalog/coco"],"best_models":["Co-DETR","Co-DETR","InternImage-H","EVA","PartiFinetuned","YOLOv6-L6","ViTPose","MaskDINO","VAST","ADDS","CD-ViTO","OneFormer","CooperativeFoundationalModels","Sapiens-2B","RTMDet-Ins-x","MaxViT-B","ExpansionNetv2","HRNet*","RSN","SCIO","InternVL-G","SAN","MCB7att.","OmniPose","BLIP-2","IMST","iSEARLE-XL-OTI","BLIP-2","SeeDS","SimpleBase+*","SeeDS","Box2Mask-T","ens","DiscoBox","YOLOv5s","WeakSAM-Mask2Former","IIC","GroundingDINO1.6Pro","OneFormer","BLIP-2ViT-G","MSLPD","LayoutDiffusion","RPN+FocalLoss","HDU-USYD-UNCC","IDA-R101","wetectron","SiameseMaskR-CNN","GraphVQA","ADLIK-Faster","GraphVQA","HRNet-W32","MDN","HADA","MOAT-2","BLIP","ParsingR-CNN+ResNext101","FasterR-CNNwithStylizedTrainingData","NAPReg","AttnGAN","ORE","ORE","U-NetGAN","ORE","ViT-B+MST+CL","NeuSyRE","UniHCP","3SHNet","MSPN","VAN-B6*","NeuSyRE","PFNet","IOG","Large-scalerOSD","LightweightOpenPose","RepPoints+Self-adaptation","SiameseMaskR-CNN","CASD","RetinaNet","R3-CNN","Perturb,Predict&Paraphrase","DETReg","MDef-DETR","HRQ-VAE","RTMDet-Ins-x","BESTIE","SSDResNet50V1FPN640x640","CLIPpyViT-B","DeepCut","NUWA-3D","CapDec","MaMMUT","MaMMUT","SADCL","BenchLMM","FOODv2","DAS"],"short_description":"A large-scale object detection, segmentation, key-point detection, and captioning dataset with various annotations, including 80 object categories, 91 stuff categories, and keypoints detection.","total_num":"328K images"},{"dataset":"SHAPES(SwarmHeuristicsbasedAdaptiveandPenalizedEstimationofSplines)","dataset_home":["https://github.com/ronghanghu/n2nmn#train-and-evaluate-on-the-shapes-dataset"],"description":"\\n                    SHAPES is a dataset of synthetic images designed to benchmark systems for understanding of spatial and logical relations among multiple objects. The dataset consists of complex questions about arrangements of colored shapes. The questions are built around compositions of concepts and relations, e.g. Is there a red shape above a circle? or Is a red shape blue?. Questions contain between two and four attributes, object types, or relationships. There are 244 questions and 15,616 images in total, with all questions having a yes and no answer (and corresponding supporting image). This eliminates the risk of learning biases.\\nEach image is a 30\xd730 RGB image depicting a 3\xd73 grid of objects. Each object is characterized by shape (circle, square, triangle), colour (red, green, blue) and size (small, big).\\n                    \\n                        \\n                            Source:  Visual Question Answering: A Survey of Methods and Datasets\\n                        \\n                    \\n\\n                ","benchmarks":["TimeSeriesClassification"],"dataloaders":["https://github.com/ronghanghu/n2nmn"],"best_models":["GP-Sig"],"short_description":"Synthetic images with complex questions about coloured shapes, eliminating the risk of learning biases.","total_num":"15,616 images"},{"dataset":"A-OKVQA","dataset_home":["https://allenai.org/project/a-okvqa/home"],"description":"\\n                    A-OKVQA is crowdsourced visual question answering dataset composed of a diverse set of about 25K questions requiring a broad base of commonsense and world knowledge to answer.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["SMoLA-PaLI-XSpecialistModel"],"short_description":"Crowdsourced visual question answering dataset, requiring commonsense and world knowledge to answer","total_num":"25K questions"},{"dataset":"ActivityNet-QA","dataset_home":["https://github.com/MILVLG/activitynet-qa"],"description":"\\n                    The ActivityNet-QA dataset contains 58,000 human-annotated QA pairs on 5,800 videos derived from the popular ActivityNet dataset. The dataset provides a benchmark for testing the performance of VideoQA models on long-term spatio-temporal reasoning.\\n                    \\n                        \\n                            Source:  ActivityNet-QA: A Dataset for Understanding Complex Web Videos via Question Answering\\n                        \\n                    \\n\\n                ","benchmarks":["VideoQuestionAnswering","Zero-ShotVideoQuestionAnswer"],"dataloaders":["https://github.com/MILVLG/activitynet-qa"],"best_models":["GPT-2+CLIP-14+CLIP-multilingual","Tarsier"],"short_description":"Provides a benchmark for long-term spatio-temporal reasoning on web videos","total_num":"58,000 QA pairs"},{"dataset":"DocVQA","dataset_home":["https://cvit.iiit.ac.in/docvqa/"],"description":"\\n                    DocVQA consists of 50,000 questions defined on 12,000+ document images.\\n                    \\n                        \\n                            Source:  DocVQA: A Dataset for VQA on Document Images\\n                        \\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","QuestionAnswering"],"dataloaders":["https://huggingface.co/datasets/eliolio/docvqa"],"best_models":["Human","BERTLARGEBaseline","ChatGPT3.5SpatialFormat"],"short_description":"Questions defined on document images","total_num":"50,000 questions and 12,000+ document images"},{"dataset":"VisDial(VisualDialog)","dataset_home":["https://visualdialog.org/"],"description":"\\n                    Visual Dialog (VisDial) dataset contains human annotated questions based on images of MS COCO dataset. This dataset was developed by pairing two subjects on Amazon Mechanical Turk to chat about an image. One person was assigned the job of a \u2018questioner\u2019 and the other person acted as an \u2018answerer\u2019. The questioner sees only the text description of an image (i.e., an image caption from MS COCO dataset) and the original image remains hidden to the questioner. Their task is to ask questions about this hidden image to \u201cimagine the scene better\u201d. The answerer sees the image, caption and answers the questions asked by the questioner. The two of them can continue the conversation by asking and answering questions for 10 rounds at max.\\nVisDial v1.0 contains 123K dialogues on MS COCO (2017 training set) for training split, 2K dialogues with validation images for validation split and 8K dialogues on test set for test-standard set. The previously released v0.5 and v0.9 versions of VisDial dataset (corresponding to older splits of MS COCO) are considered deprecated.\\n                    \\n                        \\n                            Source:  Granular Multimodal Attention Networks for Visual Dialog\\n                        \\n                    \\n\\n                ","benchmarks":["VisualDialog","VisualDialog","VisualDialog","Chat-basedImageRetrieval","CommonSenseReasoning","CommonSenseReasoning"],"dataloaders":["https://parl.ai/docs/tasks.html#visdial"],"best_models":["Single","9xFGA","5xFGA+LS*+","ChatGPT&BLIP2","PDUN","NMN[kottur2018visual]"],"short_description":"Human annotated questions based on images with conversation between a questioner and an answerer in 10 rounds","total_num":"123k dialogues"},{"dataset":"VCR(VisualCommonsenseReasoning)","dataset_home":["https://visualcommonsense.com/"],"description":"\\n                    Visual Commonsense Reasoning (VCR) is a large-scale dataset for cognition-level visual understanding. Given a challenging question about an image, machines need to present two sub-tasks: answer correctly and provide a rationale justifying its answer. The VCR dataset contains over 212K (training), 26K (validation) and 25K (testing) questions, answers and rationales derived from 110K movie scenes.\\n                    \\n                        \\n                            Source:  Visual Commonsense R-CNN\\n                        \\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","ExplanationGeneration","VisualCommonsenseReasoning","VisualCommonsenseReasoning","VisualCommonsenseReasoning","VisualCommonsenseReasoning","VisualCommonsenseReasoning","VisualCommonsenseReasoning"],"dataloaders":[],"best_models":["GPT4RoI","GPT4RoI","GPT4RoI","VL-BERTLARGE","VL-BERTLARGE","VL-BERTLARGE","OFA-X-MT","PEVL","PEVL","PEVL","PEVL","PEVL","PEVL"],"short_description":"Contains challenging questions, answers, and rationales derived from 110K movie scenes for cognition-level visual understanding","total_num":"263k"},{"dataset":"VizWiz(VizWiz-VQA)","dataset_home":["https://vizwiz.org/tasks-and-datasets/vqa/"],"description":"\\n                    The VizWiz-VQA dataset originates from a natural visual question answering setting where blind people each took an image and recorded a spoken question about it, together with 10 crowdsourced answers per visual question. The proposed challenge addresses the following two tasks for this dataset: predict the answer to a visual question and (2) predict whether a visual question cannot be answered.\\n                    \\n                        \\n                            Source:  https://vizwiz.org/tasks-and-datasets/vqa/\\n                        \\n                    \\n\\n                ","benchmarks":["ImageCaptioning","VisualQuestionAnswering(VQA)","ImageCaptioning","VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","VisualQuestionAnswering"],"dataloaders":[],"best_models":["IBMResearchAI","PaLI","IBMResearchAI","Colin","CLIP-Ensemble","ensemble_two_best","Emu-I*"],"short_description":"Unique dataset with visual questions from blind people, each with 10 crowdsourced answers.","total_num":"NA"},{"dataset":"InfiMM-Eval(ComplexOpen-endedReasoningEvaluationforMulti-ModalLanguageModels)","dataset_home":["https://infimm.github.io/InfiMM-Eval/"],"description":"\\n                    Multi-modal Large Language Models (MLLMs) are increasingly prominent in the field of artificial intelligence. Although many benchmarks attempt to holistically evaluate MLLMs, they typically concentrate on basic reasoning tasks, often yielding only simple yes/no or multi-choice responses. These methods naturally lead to confusion and difficulties in conclusively determining the reasoning capabilities of MLLMs. To mitigate this issue, we manually curate CORE-MM benchmark dataset, specifically designed for MLLMs with a focus on complex reasoning tasks. Our benchmark comprises three key reasoning categories: deductive, abductive, and analogical reasoning. The queries in our dataset are intentionally constructed to engage the reasoning capabilities of MLLMs in the process of generating answers. For a fair comparison across various MLLMs, we incorporate intermediate reasoning steps into our evaluation criteria. CORE-MM benchmark consists of 279 manually curated reasoning questions, associated with a total of 342 images. Among which, 49 questions pertain to abductive reasoning, 181 require deductive reasoning, and 49 involve analogicalreasoning. Furthermore, the dataset is divided into two folds based on reasoning complexity, with 108 classified as \u201cHigh\u201d reasoning complexity and 171 as \u201cModerate\u201d reasoning complexity.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["GPT-4V"],"short_description":"Manually curated dataset for Multi-modal Large Language Models (MLLMs) focusing on complex reasoning tasks with deductive, abductive, and analogical reasoning categories","total_num":"342 images, 279 questions"},{"dataset":"Social-IQ","dataset_home":["https://github.com/A2Zadeh/Social-IQ"],"description":"\\n                    Social-IQ is an unconstrained benchmark specifically designed to train and evaluate socially intelligent technologies. By providing a rich source of open-ended questions and answers, Social-IQ opens the door to explainable social intelligence. The dataset contains rigorously annotated and validated videos, questions and answers, as well as annotations for the complexity level of each question and answer. Social-IQ contains 1,250 natural in-the-wild social situations, 7,500 questions and 52,500 correct and incorrect answers. \\n                    \\n                        \\n                            Source:  Social-IQ: A Question Answering Benchmark for Artificial Social Intelligence\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/A2Zadeh/Social-IQ"],"best_models":[],"short_description":"The dataset contains rigorously annotated and validated videos, questions and answers of natural in-the-wild social situations for explainable social intelligence.","total_num":"1,250 videos, 7,500 questions, 52,500 answers"},{"dataset":"VQA-HAT(VQAHumanAttention)","dataset_home":["https://computing.ece.vt.edu/~abhshkdz/vqa-hat/"],"description":"\\n                    VQA-HAT (Human ATtention) is a dataset to evaluate the informative regions of an image depending on the question being asked about it. The dataset consists of human visual attention maps over the images in the original VQA dataset. It contains more than 60k attention maps.\\n                    \\n                        \\n                            Source:  Human Attention in Visual Question Answering:\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Contains human visual attention maps over the images based on questioned asked about the image","total_num":"60k+ attention maps"},{"dataset":"WebQA","dataset_home":["https://webqna.github.io/"],"description":"\\n                    WebQA, is a new benchmark for multimodal multihop reasoning in which systems are presented with the same style of data as humans when searching the web: Snippets and Images. The system must then identify which information is relevant across modalities and combine it with reasoning to answer the query. Systems will be evaluated on both the correctness of their answers and their sources.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Multimodal multihop reasoning dataset with web-style snippets and images, requiring systems to identify relevant information across modalities and provide sources for answers.","total_num":"NA"},{"dataset":"iVQA(InstructionalVideoQuestionAnswering)","dataset_home":["https://antoyang.github.io/just-ask.html"],"description":"\\n                    An open-ended VideoQA benchmark that aims to: i) provide a well-defined evaluation by including five correct answer annotations per question and ii) avoid questions which can be answered without the video. \\niVQA contains 10,000 video clips with one question and five corresponding answers per clip. Moreover, we manually reduce the language bias by excluding questions that could be answered without watching the video.  \\n                    \\n                        \\n                            Source:  Just Ask: Learning to Answer Questions from Millions of Narrated Videos\\n                        \\n                    \\n\\n                ","benchmarks":["VideoQuestionAnswering","Zero-ShotLearning"],"dataloaders":["https://github.com/antoyang/just-ask"],"best_models":["Text+Text","FrozenBiLM"],"short_description":"Videos are manually curated to avoid language bias and require actual video content to answer questions","total_num":"10,000 video clips"},{"dataset":"KVQA(Knowledge-awareVQA)","dataset_home":["https://malllabiisc.github.io/resources/kvqa/"],"description":"\\n                    It contains manually verified 183K question-answer pairs about more than 18K persons and 24K images. The questions in this dataset require multi-entity, multi-relation and multi-hop reasoning over KG to arrive at an answer. To enable visual named entity linking, it also provides a support set containing reference images of 69K persons harvested from Wikidata as part of the dataset.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"The dataset requires multi-entity, multi-relation and multi-hop reasoning over KG to arrive at an answer and enables visual named entity linking through reference images","total_num":"183K question-answer pairs, 18K persons, 24K images, 69K reference images"},{"dataset":"IconQA(IconQuestionAnswering)","dataset_home":["https://iconqa.github.io/"],"description":"\\n                    Current visual question answering (VQA) tasks mainly consider answering human-annotated questions for natural images in the daily-life context. Icon question answering (IconQA) is a benchmark which aims to highlight the importance of abstract diagram understanding and comprehensive cognitive reasoning in real-world diagram word problems. For this benchmark, a large-scale IconQA dataset is built that consists of three sub-tasks: multi-image-choice, multi-text-choice, and filling-in-the-blank. Compared to existing VQA benchmarks, IconQA requires not only perception skills like object recognition and text understanding, but also diverse cognitive reasoning skills, such as geometric reasoning, commonsense reasoning, and arithmetic reasoning.\\nDescription from: IconQA\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":["https://github.com/lupantech/iconqa"],"best_models":["ViLT"],"short_description":"IconQA requires diverse cognitive reasoning skills like geometric reasoning, commonsense reasoning, and arithmetic reasoning","total_num":"NA"},{"dataset":"PMC-VQA","dataset_home":["https://huggingface.co/datasets/xmcmic/PMC-VQA"],"description":"\\n                    PMC-VQA is a large-scale medical visual question-answering dataset that contains 227k VQA pairs of 149k images that cover various modalities or diseases. The question-answer pairs are generated from PMC-OA.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)","MedicalVisualQuestionAnswering","GenerativeVisualQuestionAnswering"],"dataloaders":[],"best_models":["MedVInT","MedVInT","MedVInT"],"short_description":"Contains 149k images covering various medical modalities or diseases from PMC-OA","total_num":"227k VQA pairs"},{"dataset":"InfographicVQA","dataset_home":["https://www.docvqa.org/datasets/infographicvqa"],"description":"\\n                    InfographicVQA is a dataset that comprises a diverse collection of infographics along with natural language questions and answers annotations. The collected questions require methods to jointly reason over the document layout, textual content, graphical elements, and data visualizations. We curate the dataset with emphasis on questions that require elementary reasoning and basic arithmetic skills.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)","QuestionAnswering"],"dataloaders":[],"best_models":["GeminiUltra","ChatGPT3.5SpatialFormat"],"short_description":"A diverse collection of infographics along with natural language questions and answers annotations requiring elementary reasoning and basic arithmetic skills","total_num":"NA"},{"dataset":"PlotQA","dataset_home":["https://github.com/NiteshMethani/PlotQA"],"description":"\\n                    PlotQA is a VQA dataset with 28.9 million question-answer pairs grounded over 224,377 plots on data from real-world sources and questions based on crowd-sourced question templates.\\nExisting synthetic datasets (FigureQA, DVQA) for reasoning over plots do not contain variability in data labels, real-valued data, or complex reasoning questions. Consequently, proposed models for these datasets do not fully address the challenge of reasoning over plots. In particular, they assume that the answer comes either from a small fixed size vocabulary or from a bounding box within the image. However, in practice this is an unrealistic assumption because many questions require reasoning and thus have real valued answers which appear neither in a small fixed size vocabulary nor in the image. In this work, we aim to bridge this gap between existing datasets and real world plots by introducing PlotQA. Further, 80.76% of the out-of-vocabulary (OOV) questions in PlotQA have answers that are not in a fixed vocabulary.\\n                    \\n\\n                ","benchmarks":["ChartQuestionAnswering","VisualQuestionAnswering(VQA)","VisualQuestionAnswering(VQA)","VisualQuestionAnswering","VisualQuestionAnswering"],"dataloaders":[],"best_models":["MatCha4096+LaMenDa","MatCha4096+LaMenDa","MatCha4096+LaMenDa","MatCha4096+LaMenDa","MatCha4096+LaMenDa"],"short_description":"Real-valued data and complex reasoning questions with 80.76% out-of-vocabulary answers","total_num":"28.9 million question-answer pairs"},{"dataset":"MUSIC-AVQA","dataset_home":["http://gewu-lab.github.io/MUSIC-AVQA/"],"description":"\\n                    The large-scale MUSIC-AVQA dataset of musical performance contains 45,867 question-answer pairs, distributed in 9,288 videos for over 150 hours. All QA pairs types are divided into 3 modal scenarios, which contain 9 question types and 33 question templates. Finally, as an open-ended problem of our AVQA tasks, all 42 kinds of answers constitute a set for selection.\\n                    \\n\\n                ","benchmarks":["Audio-visualQuestionAnswering"],"dataloaders":["https://gewu-lab.github.io/MUSIC-AVQA/"],"best_models":["VAST"],"total_num":"NA","short_description":"NA"},{"dataset":"DVQA(DataVisualizationsviaQuestionAnswering)","dataset_home":["https://kushalkafle.com/projects/dvqa.html"],"description":"\\n                    DVQA is a synthetic question-answering dataset on images of bar-charts.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["PReFIL"],"short_description":"Dataset consists of synthetic images of bar-charts","total_num":"NA"},{"dataset":"TQA(TextbookQuestionAnswering)","dataset_home":["https://allenai.org/data/tqa"],"description":"\\n                    The TextbookQuestionAnswering (TQA) dataset is drawn from middle school science curricula. It consists of 1,076 lessons from Life Science, Earth Science and Physical Science textbooks. This includes 26,260 questions, including 12,567 that have an accompanying diagram.\\nThe TQA dataset encourages work on the task of Multi-Modal Machine Comprehension (M3C) task. The M3C task builds on the popular Visual Question Answering (VQA) and Machine Comprehension (MC) paradigms by framing question answering as a machine comprehension task, where the context needed to answer questions is provided and composed of both text and images. The dataset constructed to showcase this task has been built from a middle school science curriculum that pairs a given question to a limited span of knowledge needed to answer it.\\n                    \\n                        \\n                            Source:  Allen Institute for AI\\n                        \\n                    \\n\\n                ","benchmarks":["Open-DomainQuestionAnswering"],"dataloaders":[],"best_models":["UniK-QA"],"short_description":"Pairs questions with a limited span of knowledge, including text and images, from a middle school science curriculum","total_num":"26,260 questions"},{"dataset":"TDIUC(TaskDirectedImageUnderstandingChallenge)","dataset_home":["https://kushalkafle.com/projects/tdiuc.html"],"description":"\\n                    Task Directed Image Understanding Challenge (TDIUC) dataset is a Visual Question Answering dataset which consists of 1.6M questions and 170K images sourced from MS COCO and the Visual Genome Dataset. The image-question pairs are split into 12 categories and 4 additional evaluation matrices which help evaluate models\u2019 robustness against answer imbalance and its ability to answer questions that require higher reasoning capability. The TDIUC dataset divides the VQA paradigm into 12 different task directed question types. These include questions that require a simpler task (e.g., object presence, color attribute) and more complex tasks (e.g., counting, positional reasoning). The dataset includes also an \u201cAbsurd\u201d question category in which questions are irrelevant to the image contents to help balance the dataset.\\n                    \\n                        \\n                            Source:  Question-Agnostic Attention for Visual Question Answering\\n                        \\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["Accuracy"],"short_description":"The dataset is unique as it divides the VQA paradigm into 12 different task-directed question types and has an absurd question category for balance and robustness evaluation.","total_num":"1.6M questions and 170K images"},{"dataset":"FigureQA","dataset_home":["https://www.microsoft.com/en-us/research/project/figureqa-dataset/"],"description":"\\n                    FigureQA is a visual reasoning corpus of over one million question-answer pairs grounded in over 100,000 images. The images are synthetic, scientific-style figures from five classes: line plots, dot-line plots, vertical and horizontal bar graphs, and pie charts. \\n                    \\n                        \\n                            Source:  FigureQA: An Annotated Figure Dataset for Visual Reasoning\\n                        \\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["PReFIL"],"short_description":"Images are synthetic, scientific-style figures from five classes: line plots, dot-line plots, vertical and horizontal bar graphs, and pie charts.","total_num":"1 million question-answer pairs, 100,000 images"},{"dataset":"PathVQA","dataset_home":["https://github.com/UCSD-AI4H/PathVQA"],"description":"\\n                    PathVQA consists of 32,799 open-ended questions from 4,998 pathology images where each question is manually checked to ensure correctness.\\n                    \\n                        \\n                            Source:  PathVQA: 30000+ Questions for Medical Visual Question Answering\\n                        \\n                    \\n\\n                ","benchmarks":["MedicalVisualQuestionAnswering"],"dataloaders":["https://huggingface.co/datasets/flaviagiammarino/path-vqa","https://github.com/UCSD-AI4H/PathVQA"],"best_models":["LLaVA-Med++"],"short_description":"Each question is manually checked to ensure correctness from pathology images","total_num":"32,799 questions from 4,998 images"},{"dataset":"DAQUAR","dataset_home":["https://www.mpi-inf.mpg.de/departments/computer-vision-and-multimodal-computing/research/vision-and-language/visual-turing-challenge/"],"description":"\\n                    DAQUAR (DAtaset for QUestion Answering on Real-world images) is a dataset of human question answer pairs about images.\\n                    \\n                        \\n                            Source:  A Multi-World Approach to Question Answering about Real-World Scenes based on Uncertain Input\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Human question answer pairs about real-world images","total_num":"NA"},{"dataset":"MSVD-QA","dataset_home":["https://github.com/xudejing/video-question-answering"],"description":"\\n                    The MSVD-QA dataset is a Video Question Answering (VideoQA) dataset. It is based on the existing Microsoft Research Video Description (MSVD) dataset, which consists of about 120K sentences describing more than 2,000 video snippets. In the MSVD-QA dataset, Question-Answer (QA) pairs are generated from these descriptions. The dataset is mainly used in video captioning experiments but due to its large data size, it is also used for VideoQA. It contains 1970 video clips and approximately 50.5K QA pairs.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)","Zero-ShotVideoQuestionAnswer","VisualQuestionAnswering","Zero-ShotLearning","ZeroshotVideoQuestionAnswer"],"dataloaders":[],"best_models":["VLAB","Tarsier","GIT+MDF","HiTeA","MiniGPT4-video"],"short_description":"VideoQA dataset with large number of video snippets and corresponding QA pairs","total_num":"50.5K QA pairs"},{"dataset":"COCO-QA","dataset_home":["http://www.cs.toronto.edu/~mren/research/imageqa/data/cocoqa/"],"description":"\\n                    COCO-QA is a dataset for visual question answering. It consists of:\\n\\n123287 images\\n78736 train questions\\n38948 test questions\\n4 types of questions: object, number, color, location\\nAnswers are all one-word.\\n\\n                    \\n                        \\n                            Source:  Exploring Models and Data for Image Question Answering\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Answers are one-word with 4 types of questions: object, number, color, location","total_num":"123287 images, 78736 train questions, 38948 test questions"},{"dataset":"TVQA+","dataset_home":["https://github.com/jayleicn/TVQAplus"],"description":"\\n                    TVQA+ contains 310.8K bounding boxes, linking depicted objects to visual concepts in questions and answers.\\n                    \\n                        \\n                            Source:  TVQA+: Spatio-Temporal Grounding for Video Question Answering\\n                        \\n                    \\n\\n                ","benchmarks":["Zero-ShotVideoQuestionAnswer","VideoQuestionAnswering","Zero-ShotLearning"],"dataloaders":["https://github.com/jayleicn/TVQAplus"],"best_models":["FrozenBiLM","LLaMA-VQA","VideoChat2"],"short_description":"Dataset links depicted objects to visual concepts in questions and answers","total_num":"310.8K bounding boxes"},{"dataset":"MSRVTT-QA","dataset_home":["https://github.com/xudejing/video-question-answering"],"description":"\\n                    The MSR-VTT-QA dataset is a benchmark for the task of Visual Question Answering (VQA) on the MSR-VTT (Microsoft Research Video to Text) dataset. The MSR-VTT-QA benchmark is used to evaluate models on their ability to answer questions based on these videos. It\'s part of the tasks that this dataset is used for, along with Video Retrieval, Video Captioning, Zero-Shot Video Question Answering, Zero-Shot Video Retrieval, and Text-to-Video Generation.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)","Zero-ShotVideoQuestionAnswer","VideoQuestionAnswering","VisualQuestionAnswering","Zero-ShotLearning","ZeroshotVideoQuestionAnswer"],"dataloaders":[],"best_models":["VLAB","Flash-VStream","Mirasol3B","Aurora","HiTeA","MiniGPT4-video"],"total_num":"NA","short_description":"NA"},{"dataset":"MathVista(MathematicalReasoningofinVisualContexts)","dataset_home":["https://mathvista.github.io/"],"description":"\\n                    MathVista is a consolidated Mathematical reasoning benchmark within Visual contexts. It consists of three newly created datasets, IQTest, FunctionQA, and PaperQA, which address the missing visual domains and are tailored to evaluate logical reasoning on puzzle test figures, algebraic reasoning over functional plots, and scientific reasoning with academic paper figures, respectively. It also incorporates 9 MathQA datasets and 19 VQA datasets from the literature, which significantly enrich the diversity and complexity of visual perception and mathematical reasoning challenges within our benchmark. In total, MathVista includes 6,141 examples collected from 31 different datasets.\\n\\nProject: https://mathvista.github.io/\\nVisualization: https://mathvista.github.io/#visualization\\nLeaderboard: https://mathvista.github.io/#leaderboard\\nPaper: https://arxiv.org/abs/2310.02255\\nData: https://huggingface.co/datasets/AI4Math/MathVista\\nCode: https://github.com/lupantech/MathVista\\n\\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://huggingface.co/datasets/AI4Math/MathVista","https://huggingface.co/datasets/AI4Math/MathVista"],"best_models":[],"short_description":"A consolidated Mathematical reasoning benchmark within Visual contexts, consisting of 31 different datasets including puzzle test figures, algebraic reasoning over functional plots, and scientific reasoning with academic paper figures.","total_num":"6,141 examples"},{"dataset":"GuessWhat?!","dataset_home":["https://github.com/GuessWhatGame/guesswhat"],"description":"\\n                    GuessWhat?! is a large-scale dataset consisting of 150K human-played games with a total of 800K visual question-answer pairs on 66K images.\\nGuessWhat?! is a cooperative two-player game in which\\nboth players see the picture of a rich visual scene with several objects. One player \u2013 the oracle \u2013 is randomly assigned\\nan object (which could be a person) in the scene. This object is not known by the other player \u2013 the questioner \u2013\\nwhose goal it is to locate the hidden object. To do so, the\\nquestioner can ask a series of yes-no questions which are\\nanswered by the oracle.\\n                    \\n                        \\n                            Source:  https://paperswithcode.com/paper/guesswhat-visual-object-discovery-through\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/GuessWhatGame/guesswhat"],"best_models":[],"short_description":"Cooperative two-player games with hidden objects identified through yes-no questions","total_num":"800K visual question-answer pairs on 66K images"},{"dataset":"TutorialVQA","dataset_home":["https://github.com/acolas1/TutorialVQAData"],"description":"\\n                    TutorialVQA is a new type of dataset used to find answer spans in tutorial videos. The dataset includes about 6,000 triples, comprised of videos, questions, and answer spans manually collected from screencast tutorial videos with spoken narratives for a photo-editing software.\\n                    \\n                        \\n                            Source:  TutorialVQA: Question Answering Dataset for Tutorial Videos\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/acolas1/TutorialVQAData"],"best_models":[],"short_description":"Tutorial videos with spoken narratives for photo-editing software, manually collected answer spans.","total_num":"6,000 triples"},{"dataset":"AlgoPuzzleVQA","dataset_home":["https://algopuzzlevqa.github.io/"],"description":"\\n                    We introduce the novel task of multimodal puzzle solving, framed within the context of visual question-answering. We present a new dataset, AlgoPuzzleVQA designed to challenge and evaluate the capabilities of multimodal language models in solving algorithmic puzzles that necessitate both visual understanding, language understanding, and complex algorithmic reasoning. We create the puzzles to encompass a diverse array of mathematical and algorithmic topics such as boolean logic, combinatorics, graph theory, optimization, search, etc., aiming to evaluate the gap between visual data interpretation and algorithmic problem-solving skills. The dataset is generated automatically from code authored by humans. All our puzzles have exact solutions that can be found from the algorithm without tedious human calculations. It ensures that our dataset can be scaled up arbitrarily in terms of reasoning complexity and dataset size. Our investigation reveals that large language models (LLMs) such as GPT4V and Gemini exhibit limited performance in puzzle-solving tasks. We find that their performance is near random in a multi-choice question-answering setup for a significant number of puzzles. The findings emphasize the challenges of integrating visual, language, and algorithmic knowledge for solving complex reasoning problems.\\n                    \\n\\n                ","benchmarks":["MultimodalReasoning"],"dataloaders":[],"best_models":["GPT-4"],"short_description":"Automatically generated algorithmic puzzles encompassing various mathematical and algorithmic topics such as boolean logic, combinatorics, graph theory, optimization, search, etc.","total_num":"NA"},{"dataset":"AesVQA","dataset_home":[],"description":"\\n                    AesVQA is a dataset that contains 72168 high-quality images and 324756 pairs of aesthetic questions. This dataset addresses the task of aesthetic VQA and introduces subjectiveness into VQA tasks.\\n                    \\n                        \\n                            Source:  Aesthetic Visual Question Answering of Photographs\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Introduces subjectiveness into VQA tasks, addressing aesthetic VQA with high-quality images","total_num":"72168 images, 324756 pairs of aesthetic questions"},{"dataset":"VizWiz-QualityIssues","dataset_home":["https://vizwiz.org/tasks-and-datasets/image-quality-issues/"],"description":"\\n                    A large-scale dataset that links the assessment of image quality issues to two practical vision tasks: image captioning and visual question answering.\\n                    \\n                        \\n                            Source:  Assessing Image Quality Issues for Real-World Problems\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A dataset that links image quality issues to image captioning and visual question answering for real-world problems","total_num":"NA"},{"dataset":"VizWiz-Priv(VisualPrivacydataset)","dataset_home":["https://vizwiz.org/"],"description":"\\n                    VizWiz-Priv includes 8,862 regions showing private content across 5,537 images taken by blind people. Of these, 1,403 are paired with questions and 62% of those directly ask about the private content.\\n                    \\n                        \\n                            Source:  VizWiz-Priv: A Dataset for Recognizing the Presence and Purpose of Private Visual Information in Images Taken by Blind People\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Images taken by blind people showing private content","total_num":"5,537 images"},{"dataset":"VisualBeliefs","dataset_home":["http://people.csail.mit.edu/bce/mistaken/"],"description":"\\n                    Visual Beliefs is a dataset of abstract scenes to study visual beliefs. The dataset consists of 8-frame scenes, and in each scene a person has a mistaken belief. The dataset can be used for two tasks: predicting who is mistaken and predicting when are they mistaken. \\n                    \\n                        \\n                            Source:  Who is Mistaken?\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"8-frame abstract scenes where a person has a mistaken belief, useful for predicting who is mistaken and when","total_num":"NA"},{"dataset":"InstaOrder","dataset_home":["https://github.com/POSTECH-CVLab/InstaOrder"],"description":"\\n                    InstaOrder can be used to understand the geometrical relationships of instances in an image. The dataset consists of 2.9M annotations of geometric orderings for class-labeled instances in 101K natural scenes. The scenes were annotated by 3,659 crowd-workers regarding (1) occlusion order that identifies occluder/occludee and (2) depth order that describes ordinal relations that consider relative distance from the camera.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Occlusion and depth order annotations of instances in natural scenes","total_num":"2.9M annotations"},{"dataset":"P2GB","dataset_home":["https://huggingface.co/datasets/Valorix/P2GB"],"description":"\\n                    A benchmark designed to evaluate MLLMs\u2019 proficiency in understanding inter-object relationships and textual content.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Unique in evaluating MLLMs understanding of inter-object relationships and textual content","total_num":"NA"},{"dataset":"VQA-VS(anewVQAbenchmarkconsideringVaryingShortcuts)","dataset_home":["https://phoebussi.github.io/VQA-VS-homepage/"],"description":"\\n                    The  current OOD benchmark VQA-CP v2 only considers one type of shortcut (from question type to answer) and thus still cannot guarantee that the modelrelies on the intended solution rather than a solution specific to this shortcut. To overcome this limitation,  VQA-VS proposes a new dataset that considers varying types of shortcuts by constructing different distribution shifts in multiple OOD test sets. In addition, VQA-VS overcomes three troubling practices in the use of VQA-CP v2, e.g., selecting models using OOD test sets, and further standardize OOD evaluation procedure. VQA-VS provides a more rigorous and comprehensive testbed for shortcut learning in VQA.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A VQA dataset that considers varying types of shortcuts by constructing different distribution shifts in multiple OOD test sets.","total_num":"NA"},{"dataset":"PDFVQA","dataset_home":["https://github.com/adlnlp/pdfvqa"],"description":"\\n                    PDFVQA: A New Dataset for Real-World VQA on PDF Documents\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Real-world VQA dataset focused on PDF documents, with a unique emphasis on mixed-document analysis","total_num":"NA"},{"dataset":"Rad-ReStruct","dataset_home":["https://github.com/ChantalMP/Rad-ReStruct"],"description":"\\n                    Rad-ReStruct is a fine-grained structured reporting dataset for Chest X-Ray images. The structured reporting process is modeled as a hierarchical VQA task and the task is recognizing different findings in different body regions and predicting their attributes.\\n                    \\n\\n                ","benchmarks":["StructuredReportGeneration"],"dataloaders":[],"best_models":["hi-VQA"],"short_description":"Fine-grained structured reporting dataset for Chest X-Ray images with hierarchical VQA task, recognizing findings in different body regions and predicting their attributes.","total_num":"NA"},{"dataset":"MMED","dataset_home":["https://github.com/zhengyang5/ACM-MMSys19-MMED400"],"description":"\\n                    Contains 25,165 textual news articles collected from hundreds of news media sites (e.g., Yahoo News, Google News, CNN News.) and 76,516 image posts shared on Flickr social media, which are annotated according to 412 real-world events. The dataset is collected to explore the problem of organizing heterogeneous data contributed by professionals and amateurs in different data domains, and the problem of transferring event knowledge obtained from one data domain to heterogeneous data domain, thus summarizing the data with different contributors.\\n                    \\n                        \\n                            Source:  MMED: A Multi-domain and Multi-modality Event Dataset\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/zhengyang5/ACM-MMSys19-MMED400"],"best_models":[],"short_description":"A Multi-domain and Multi-modality Event Dataset with textual news articles and Flickr image posts, aiming to solve problems of organizing and transferring event knowledge across different data domains.","total_num":"25,165 textual news articles, 76,516 image posts"},{"dataset":"MCVQA(MultilingualandCode-mixedVisualQuestionAnswering)","dataset_home":["https://www.iitp.ac.in/~ai-nlp-ml/resources.html"],"description":"\\n                    The MCVQA dataset consists of 248, 349 training questions and 121, 512 validation\\nquestions for real images in Hindi and Code-mixed. For each Hindi question, we also provide its 10 corresponding answers in Hindi.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Real images in Hindi and Code-mixed with 10 corresponding answers for each Hindi question","total_num":"369861 (248349 training + 121512 validation)"},{"dataset":"FunQA","dataset_home":["https://github.com/jingkang50/funqa"],"description":"\\n                    FunQA is a challenging video question answering (QA) dataset specifically designed to evaluate and enhance the depth of video reasoning based on counter-intuitive and fun videos. Unlike most video QA benchmarks which focus on less surprising contexts, e.g., cooking or instructional videos, FunQA covers three previously unexplored types of surprising videos: 1) HumorQA, 2) CreativeQA, and 3) MagicQA. For each subset, we establish rigorous QA tasks designed to assess the model\'s capability in counter-intuitive timestamp localization, detailed video description, and reasoning around counter-intuitiveness. In total, the FunQA benchmark consists of 312K free-text QA pairs derived from 4.3K video clips, spanning a total of 24 video hours. Extensive experiments with existing VideoQA models reveal significant performance gaps for the FunQA videos across spatial-temporal reasoning, visual-centered reasoning, and free-text generation.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A video QA dataset focused on counter-intuitive and fun videos, specifically humor, creative, and magic videos, designed to test counter-intuitive timestamp localization, video description, and reasoning.","total_num":"312K QA pairs from 4.3K video clips"},{"dataset":"CV-Bench(CambrianVision-CentricBenchmark)","dataset_home":["https://cambrian-mllm.github.io"],"description":"\\n                    The Cambrian Vision-Centric Benchmark (CV-Bench) is designed to address the limitations of existing vision-centric benchmarks by providing a comprehensive evaluation framework for multimodal large language models (MLLMs). With 2,638 manually-inspected examples, CV-Bench significantly surpasses other vision-centric MLLM benchmarks, offering 3.5 times more examples than RealWorldQA and 8.8 times more than MMVP.\\nMotivation and Content Summary:\\nCV-Bench repurposes standard vision benchmarks such as ADE20K, COCO, and Omni3D to assess models on classic vision tasks within a multimodal context. Leveraging the rich ground truth annotations from these benchmarks, natural language questions are formulated to probe the fundamental 2D and 3D understanding of models.\\nPotential Use Cases:\\n\\nEvaluating the spatial relationship and object counting capabilities of models (2D understanding).\\nAssessing the depth order and relative distance understanding of models (3D understanding).\\nBenchmarking the performance of multimodal models in both vision-specific and cross-modal tasks.\\n\\nDataset Characteristics:\\n\\n2D Understanding Tasks:\\nSpatial Relationship: Determine the relative position of an object with respect to the anchor object, considering left-right or top-bottom relationships.\\n\\nObject Count: Determine the number of instances present in the image.\\n\\n\\n3D Understanding Tasks:\\n\\nDepth Order: Determine which of the two distinct objects is closer to the camera.\\nRelative Distance: Determine which of the two distinct objects is closer to the anchor object.\\n\\n\\n\\n\\nType\\nTask\\nDescription\\nSources\\n# Samples\\n\\n\\n\\n\\n2D\\nSpatial Relationship\\nDetermine the relative position of an object w.r.t. the anchor object.\\nADE20K, COCO\\n650\\n\\n\\n2D\\nObject Count\\nDetermine the number of instances present in the image.\\nADE20K, COCO\\n788\\n\\n\\n3D\\nDepth Order\\nDetermine which of the two distinct objects is closer to the camera.\\nOmni3D\\n600\\n\\n\\n3D\\nRelative Distance\\nDetermine which of the two distinct objects is closer to the anchor object.\\nOmni3D\\n600\\n\\n\\n\\nCuration Process:\\nQuestions for each task are programmatically constructed and then manually inspected to ensure clarity and accuracy. Any unclear, ambiguous, or erroneous questions are removed to maintain the benchmark\'s reliability.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Repurposed vision benchmarks with manually inspected multimodal large language model examples for 2D and 3D understanding tasks","total_num":"2638 examples"},{"dataset":"CLEVR-Math","dataset_home":["https://github.com/dali-does/clevr-math"],"description":"\\n                    CLEVR-Math is a multi-modal math word problems dataset consisting of simple math word problems involving addition/subtraction, represented partly by a textual description and partly by an image illustrating the scenario. These word problems requires a combination of language, visual and mathematical reasoning.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Combines language, visual and mathematical reasoning with textual and image descriptions","total_num":"NA"},{"dataset":"VizWiz-VQA-Grounding","dataset_home":["https://vizwiz.org/tasks-and-datasets/answer-grounding-for-vqa/."],"description":"\\n                    The VizWiz-VQA-Grounding dataset is a dataset that visually grounds answers to visual questions asked by people with visual impairments.\\nTraining Set:\\n\\n6,494 examples\\n\\nValidation Set:\\n\\n1,131 examples\\n\\nTest Set:\\n\\n2,373 examples\\n\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Visually impaired people\'s visual questions ground truth","total_num":"10,000 examples"},{"dataset":"DocCVQA(DocumentCollectionVisualQuestionAnswering)","dataset_home":["https://rrc.cvc.uab.es/?ch=17&com=introduction"],"description":"\\n                    DocCVQA is a Document Visual Question Answering dataset, where the questions are posed over a whole collection of 14,362 scanned documents. Therefore, the task can be seen as a retrieval-style evidence seeking task where given a question, the aim is to identify and retrieve all the documents in a large document collection that are relevant to answering this question as well as provide the answer.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Questions are posed over a large collection of scanned documents","total_num":"14,362 documents"},{"dataset":"VideoNavQA","dataset_home":["https://github.com/catalina17/VideoNavQA"],"description":"\\n                    The VideoNavQA dataset contains pairs of questions and videos generated in the House3D environment. The goal of this dataset is to assess question-answering performance from nearly-ideal navigation paths, while considering a much more complete variety of questions than current instantiations of the Embodied Question Answering (EQA) task.\\nVideoNavQA contains approximately 101,000 pairs of videos and questions, 28 types of questions belonging to 8 categories, with 70 possible answers. Each question type is\\nassociated with a template that facilitates programmatic generation using ground truth information extracted from the video. The complexity of the questions in the dataset is far beyond that of other similar tasks using this generation method (such as CLEVR): the questions involve single or multiple object/room existence, object/room counting, object color recognition and localization, spatial reasoning, object/room size comparison and equality of object attributes (color, room location).\\n                    \\n                        \\n                            Source:  VideoNavQA: Bridging the Gap between Visual and Embodied Question Answering\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/catalina17/VideoNavQA"],"best_models":[],"short_description":"Videos and questions generated in the House3D environment with complex questions involving object and room existence, counting, localization, and spatial reasoning.","total_num":"101,000 pairs"},{"dataset":"ZS-F-VQA","dataset_home":["https://github.com/China-UK-ZSL/ZS-F-VQA"],"description":"\\n                    The ZS-F-VQA dataset  is a new split of the F-VQA dataset for zero-shot problem.\\nFirstly we obtain the original train/test split of F-VQA dataset and combine them together to filter out the triples whose answers appear in top-500 according to its occurrence frequency.\\nNext, we randomly divide this set of answers into new training split (a.k.a. seen) $\\\\mathcal{A}_s$ and testing split (a.k.a. unseen) $\\\\mathcal{A}_u$ at the ratio of 1:1. \\nWith reference to F-VQA standard dataset, the division process is repeated 5 times. \\nFor each $(i,q,a)$ triplet in original F-VQA dataset, it is divided into training set if $a \\\\in \\\\mathcal{A}_s$. Else it is divided into testing set.\\nThe overlap of answer instance between training and testing set in F-VQA are $2565$ compared to $0$ in ZS-F-VQA.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["SAN\u2020-hardmask"],"short_description":"A zero-shot problem dataset derived from the F-VQA dataset, featuring no overlap of answer instances between training and testing sets","total_num":"NA"},{"dataset":"Super-CLEVR","dataset_home":["https://github.com/Lizw14/Super-CLEVR"],"description":"\\n                    Super-CLEVR is a dataset for Visual Question Answering (VQA) where different factors in VQA domain shifts can be isolated in order that their effects can be studied independently. It contains 21 vehicle models belonging to 5 categories, with controllable attributes. Four factors are considered: visual complexity, question redundancy, concept distribution and concept compositionality.\\n                    \\n                        \\n                            Source:  Super-CLEVR: A Virtual Benchmark to Diagnose Domain Robustness in Visual Reasoning\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Unique dataset for Visual Question Answering with controllable attributes, allowing for the isolation and study of various domain shift factors","total_num":"NA"},{"dataset":"SciGraphQA","dataset_home":["https://github.com/findalexli/SciGraphQA"],"description":"\\n                    SciGraphQA is a large-scale, open-domain dataset focused on generating multi-turn conversational question-answering dialogues centered around understanding and describing scientific graphs and figures. It contains over 300,000 samples derived from academic research papers in computer science and machine learning domains.\\nEach sample in ScFiGraphQA consists of a scientific graph image sourced from papers on ArXiv, accompanied by rich textual context including the paper\'s title, abstract, figure caption, and a paragraph from the paper referencing the figure. Using this comprehensive context, the dataset employs a  to produce multi-turn question-answer dialogues aimed at explaining the given graph in an interactive, conversational format. On average, each sample contains 2-3 turns of question-answer exchange.\\nThe key motivation behind SciGraphQA is providing a large-scale resource to support research and development of multi-modal AI systems that can engage in informative, open-ended conversations about graphs and data visualizations. The multi-turn dialogue format presents a more natural and interactive setting compared to standard visual question answering datasets that use fixed sets of standalone questions.\\nPotential use cases of SciGraphQA include pre-training and benchmarking multi-modal conversational models for scientific graph comprehension, building AI assistants that can discuss data insights, and developing aids to help individuals understand complex figures and diagrams interactively. The academic source material also provides a way to evaluate model capabilities on expert-level graphs spanning diverse topics and complex visual encodings.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["SciGraphQA-baseline"],"short_description":" Scientific graph images with rich textual context, accompanied by multi-turn conversational question-answering dialogues","total_num":"over 300,000 samples"},{"dataset":"LEAF-QA","dataset_home":["https://arxiv.org/pdf/1907.12861.pdf"],"description":"\\n                    LEAF-QA, a comprehensive dataset of 250,000 densely annotated figures/charts, constructed from real-world open data sources, along with ~2 million question-answer (QA) pairs querying the structure and semantics of these charts. LEAF-QA highlights the problem of multimodal QA, which is notably different from conventional visual QA (VQA), and has recently gained interest in the community. Furthermore, LEAF-QA is significantly more complex than previous attempts at chart QA, viz. FigureQA and DVQA, which present only limited variations in chart data. LEAF-QA being constructed from real-world sources, requires a novel architecture to enable question answering.\\n                    \\n                        \\n                            Source:  LEAF-QA: Locate, Encode & Attend for Figure Question Answering\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Comprehensive dataset from real-world open data sources, more complex than previous chart QA datasets","total_num":"250,000 densely annotated figures/charts, 2 million question-answer pairs"},{"dataset":"HowToVQA69M","dataset_home":["https://antoyang.github.io/just-ask.html"],"description":"\\n                    A dataset of 69,270,581 video clip, question and answer triplets (v, q, a). HowToVQA69M is two orders of magnitude larger than any of the currently available VideoQA datasets.\\nOn average, each original video results in 43 video clips, where each clip lasts 12.1 seconds and is associated to 1.2 question-answer pairs. Questions and answers contain 8.7 and 2.4 words on average respectively. HowToVQA69M is highly diverse and contains over 16M unique answers, where over 2M unique answers appear more than once and over 300K unique answers appear more than ten times.\\n                    \\n                        \\n                            Source:  Just Ask: Learning to Answer Questions from Millions of Narrated Videos\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/antoyang/just-ask"],"best_models":[],"short_description":"The dataset is highly diverse with over 16M unique answers","total_num":"69,270,581 triplet data points"},{"dataset":"uBench(MicroBench)","dataset_home":["https://huggingface.co/datasets/jnirschl/uBench"],"description":"\\n                    Microscopy is a cornerstone of biomedical research, enabling detailed study of biological structures at multiple scales. Advances in cryo-electron microscopy, high-throughput fluorescence microscopy, and whole-slide imaging allow the rapid generation of terabytes of image data, which are essential for fields such as cell biology, biomedical research, and pathology. These data span multiple scales, allowing researchers to examine atomic/molecular, subcellular/cellular, and cell/tissue-level structures with high precision. A crucial first step in microscopy analysis is interpreting and reasoning about the significance of image findings. This requires domain expertise and comprehensive knowledge of biology, normal/abnormal states, and the capabilities and limitations of microscopy techniques. Vision-language models (VLMs) offer a promising solution for large-scale biological image analysis, enhancing researchers\u2019 efficiency, identifying new image biomarkers, and accelerating hypothesis generation and scientific discovery. However, there is a lack of standardized, diverse, and large-scale vision-language benchmarks to evaluate VLMs\u2019 perception and cognition capabilities in biological image understanding. To address this gap, we introduce \u03bc-Bench, an expert-curated benchmark encompassing 22 biomedical tasks across various scientific disciplines (biology, pathology), microscopy modalities (electron, fluorescence, light), scales (subcellular, cellular, tissue), and organisms in both normal and abnormal states. We evaluate state-of-the-art biomedical, pathology, and general VLMs on \u03bc-Bench and find that: i) current models struggle in all categories, even for basic tasks such as distinguishing microscopy modalities; ii) current specialist models fine-tuned on biomedical data often perform worse than generalist models; iii) fine-tuning in specific microscopy domains can cause catastrophic forgetting, eroding prior biomedical knowledge encoded in their base model. iv) weight interpolation between fine-tuned and pre-trained models offers one solution to forgetting and improves general performance across biomedical tasks. We release \u03bc-Bench under a permissive license to accelerate the research and development of microscopy foundation models.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"\u03bc-Bench is a biomedical image analysis benchmark with 22 expert-curated tasks across various scientific disciplines, microscopy modalities, scales, and organisms in normal and abnormal states.","total_num":"NA"},{"dataset":"WebVidVQA3M","dataset_home":["https://antoyang.github.io/just-ask.html"],"description":"\\n                    A dataset automatically generated using question generation neural models and alt-text video captions from the WebVid dataset, with 3M video-question-answer triplets.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Video captions from WebVid dataset, questions generated by neural models","total_num":"3M video-question-answer triplets"},{"dataset":"simply-CLEVR","dataset_home":["https://github.com/ahmedmagdiosman/simply-clevr-dataset"],"description":"\\n                    The simply-CLEVR dataset aims to provide a benchmark dataset that can be used for transparent quantitative evaluation of explanation methods (aka heatmaps/XAI methods).\\nIt is made of simple Visual Question Answering (VQA) questions, which are derived from the original CLEVR task, and where each question is accompanied by two Ground Truth Masks that serve as a basis for evaluating explanations on the input image.\\n                    \\n                        \\n                            Source:  https://github.com/ahmedmagdiosman/simply-clevr-dataset\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/ahmedmagdiosman/simply-clevr-dataset"],"best_models":[],"short_description":"A benchmark dataset for transparent quantitative evaluation of explanation methods with simple Visual Question Answering (VQA) questions and accompanying Ground Truth Masks for evaluating explanations on the input image.","total_num":"NA"},{"dataset":"VisualHaystacks(VHs)","dataset_home":["https://visual-haystacks.github.io/"],"description":"\\n                    Visual Haystacks (VHs) is a \\"visual-centric\\" Needle-In-A-Haystack (NIAH) benchmark specifically designed to evaluate the capabilities of Large Multimodal Models (LMMs) in visual retrieval and reasoning over sets of unrelated images. Unlike conventional NIAH challenges that center on text-related retrieval and understanding with limited anecdotal examples, VHs contains a much larger number of examples and focuses on \\"simple visual tasks\\", providing a more accurate reflection of LMMs\' capabilities when dealing with extensive visual context.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A large set of unrelated images for evaluating visual retrieval and reasoning capabilities of Large Multimodal Models in visual-centric Needle-In-A-Haystack challenges","total_num":"NA"},{"dataset":"WebLI(WebLanguageImage)","dataset_home":[],"description":"\\n                    WebLI (Web Language Image) is a web-scale multilingual image-text dataset, designed to support Google\u2019s vision-language research, such as the large-scale pre-training for image understanding, image captioning, visual question answering, object detection etc.\\nThe dataset is built from the public web, including image bytes, image-associated texts (alt-text, OCR, page title), 109 languages and many other features. The dataset is deduplicated on 68 common vision/vision-language tasks, and has no user or personally identifiable data with careful RAI considerations.\\n                    \\n                        \\n                            Source:  PaLI: A Jointly-Scaled Multilingual Language-Image Model\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Multilingual image-text dataset featuring 109 languages, built from public web, with no user or personally identifiable data","total_num":"NA"},{"dataset":"VisualChoiceofPlausibleAlternatives(VCOPA)","dataset_home":["https://antest1.github.io/VCOPA-Dataset/"],"description":"\\n                    Visual Choice of Plausible Alternatives (VCOPA) is an evaluation dataset containing 380 VCOPA questions and over 1K images with various topics, which is amenable to automatic evaluation, and present the performance of baseline reasoning approaches as initial benchmarks for future systems.\\n                    \\n                        \\n                            Source:  Visual Choice of Plausible Alternatives: An Evaluation of Image-based Commonsense Causal Reasoning\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Unique in containing image-based commonsense causal reasoning for automatic evaluation","total_num":"380 questions, 1K images"},{"dataset":"VQA-OV(VisualQualityAssessmentofOmnidirectionalVideo)","dataset_home":["https://github.com/Archer-Tatsu/VQA-ODV"],"description":"\\n                    Collects 60 reference sequences and 540 impaired sequences. \\n                    \\n                        \\n                            Source:  Bridge the Gap Between VQA and Human Behavior on Omnidirectional Video: A Large-Scale Dataset and a Deep Learning Model\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/Archer-Tatsu/VQA-ODV"],"best_models":[],"short_description":"Combination of 60 reference and 540 impaired sequences for VQA and Human Behavior study","total_num":"600 sequences"},{"dataset":"VQA-MHUG","dataset_home":["https://perceptualui.org/publications/sood21_conll/"],"description":"\\n                    VQA-MHUG is a 49-participant dataset of multimodal human gaze on both images and questions during visual question answering (VQA) collected using a high-speed eye tracker.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Multimodal human gaze on both images and questions during visual question answering","total_num":"49 participants"},{"dataset":"TinySocial","dataset_home":["https://figshare.com/s/81b784b5e00641f62515"],"description":"\\n                    TinySocial is a dataset to enable research on Social Visual Question Answering.\\n                    \\n                        \\n                            Source:  Characterizing Datasets for Social Visual Question Answering, and the New TinySocial Dataset\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A dataset for Social Visual Question Answering research.","total_num":"NA"},{"dataset":"VDQG(VisualDiscriminativeQuestionGeneration)","dataset_home":["http://mmlab.ie.cuhk.edu.hk/projects/vdqg/#dataset"],"description":"\\n                    The Visual Discriminative Question Generation (VDQG) dataset contains 11202 ambiguous image pairs collected from Visual Genome. Each image pair is annotated with 4.6 discriminative questions and 5.9 non-discriminative questions on average.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Contains ambiguous image pairs annotated with discriminative and non-discriminative questions","total_num":"11,202 image pairs"},{"dataset":"T2Guiding","dataset_home":["https://github.com/google-research-datasets/T2-Guiding"],"description":"\\n                    T2 Guiding is a dataset of 1000 images, each with six image labels. The images are from the Open Images Dataset (OID) and the dataset includes 2 sets of machine-generated labels for these images.\\n\\nObject labels: Three random object labels generated by a FRCNN model trained on Visual Genome.\\nImage labels: Three random image labels obtained from Google Cloud Vision API.\\n\\n                    \\n                        \\n                            Source:  T2-Guiding\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/google-research-datasets/T2-Guiding"],"best_models":[],"short_description":"Combines machine-generated object labels and image labels from FRCNN and Google Cloud Vision API respectively","total_num":"1000 images"},{"dataset":"VQA360\xb0","dataset_home":["http://aliensunmin.github.io/project/360-VQA/"],"description":"\\n                    VQA 360\xb0 is a dataset for visual question answering on 360\xb0 images containing around 17,000 real-world image-question-answer triplets for a variety of question types. \\n                    \\n                        \\n                            Source:  Visual Question Answering on 360\xb0 Images\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Contains 360\xb0 images and has a variety of question types","total_num":"17,000 image-question-answer triplets"},{"dataset":"Super-CLEVR-3D","dataset_home":["https://github.com/XingruiWang/superclevr-3D-question"],"description":"\\n                    Super-CLEVR-3D is a visual question answering (VQA) dataset where the questions are about the explicit 3D configuration of the objects from images (i.e. 3D poses, parts, and occlusion). It consists of objects from 5 categories: aeroplanes, buses, bicycles, cars and motorbikes. The rendered objects are from CGParts dataset, with the same setting as Super-CLEVR dataset.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"3D configuration of objects from 5 categories like aeroplanes, buses, bicycles, cars, and motorbikes.","total_num":"NA"},{"dataset":"RoadTextVQA","dataset_home":["https://cvit.iiit.ac.in/research/projects/cvit-projects/roadtextvqa"],"description":"\\n                    Text and signs around roads provide crucial information for drivers, vital for safe navigation and situational awareness. Scene text recognition in motion is a challenging problem, while textual cues typically appear for a short time span, and early detection at a distance is necessary. Systems that exploit such information to assist the driver should not only extract and incorporate visual and textual cues from the video stream but also reason over time. To address this issue, we introduce RoadTextVQA, a new dataset for the task of video question answering (VideoQA) in the context of driver assistance. RoadTextVQA consists of 3,222 driving videos collected from multiple countries, annotated with 10,500 questions, all based on text or road signs present in the driving videos. We assess the performance of state-of-the-art video question answering models on our RoadTextVQA dataset, highlighting the significant potential for improvement in this domain and the usefulness of the dataset in advancing research on in-vehicle support systems and text-aware multimodal question answering.\\n                    \\n\\n                ","benchmarks":["VideoQuestionAnswering"],"dataloaders":[],"best_models":["GIT"],"short_description":"Videos are annotated with 10,500 questions, based on text or road signs, collected from multiple countries.","total_num":"3,222 driving videos"},{"dataset":"QLEVR","dataset_home":["https://github.com/zechenli03/QLEVR"],"description":"\\n                    Synthetic datasets have successfully been used to probe visual question-answering datasets for their reasoning abilities. CLEVR, for example, tests a range of visual reasoning abilities. The questions in CLEVR focus on comparisons of shapes, colors, and sizes, numerical reasoning, and existence claims. This paper introduces a minimally biased, diagnostic visual question-answering dataset, QLEVR, that goes beyond existential and numerical quantification and focus on more complex quantifiers and their combinations, e.g., asking whether there are more than two red balls that are smaller than at least three blue balls in an image. We describe how the dataset was created and present a first evaluation of state-of-the-art visual question-answering models, showing that QLEVR presents a formidable challenge to our current models.\\nDescription and image from: QLEVR Dataset Generation\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["MAC"],"short_description":"A minimally biased, diagnostic visual question-answering dataset that goes beyond existential and numerical quantification and focuses on more complex quantifiers and their combinations.","total_num":"NA"},{"dataset":"PoseScript","dataset_home":["https://europe.naverlabs.com/research/computer-vision/posescript/"],"description":"\\n                    PoseScript is a dataset that pairs a few thousand 3D human poses from AMASS with rich human-annotated descriptions of the body parts and their spatial relationships. This dataset is designed for the retrieval of relevant poses from large-scale datasets and synthetic pose generation, both based on a textual pose description.\\n                    \\n                        \\n                            Source:  PoseScript: 3D Human Poses from Natural Language\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A dataset that pairs a few thousand 3D human poses with human-annotated descriptions of body parts for retrieving and generating poses based on textual descriptions","total_num":"NA"},{"dataset":"NEWSKVQA","dataset_home":["https://drive.google.com/file/d/1kK7fjwCZi0SLGGMHAENE8_Eofk_mVC15/view"],"description":"\\n                    NEWSKVQA is a new dataset of 12K news videos spanning across 156 hours with 1M multiple-choice question-answer pairs covering 8263 unique entities.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"cover 8263 unique entities","total_num":"12K news videos with 1M multiple-choice question-answer pairs"},{"dataset":"ParsVQA-Caps","dataset_home":["https://www.kaggle.com/datasets/maryamsadathashemi/parsvqacaps"],"description":"\\n                    Despite recent advances in vision-and-language tasks, most progress is still focused on resource-rich languages such as English. Furthermore, widespread vision-and-language datasets directly adopt images representative of American or European cultures resulting in bias. Hence we introduce ParsVQA-Caps, the first benchmark in Persian for Visual Question Answering and Image Captioning tasks. We utilize two ways to collect datasets for each task, human-based and template-based for VQA and human-based and web-based for image captioning. The image captioning dataset consists of over 7.5k\\nimages and about 9k captions. The VQA dataset consists of almost 11k images and 28.5k question and answer pairs with short and long answers usable for both classification and generation VQA.\\n                    \\n                        \\n                            Source:  ParsVQA-Caps: A Benchmark for Visual Question Answering and Image Captioning in Persian\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"First Persian benchmark for Visual Question Answering and Image Captioning, collected using human-based, template-based and web-based methods","total_num":"9831 images and 37151 captions-qa pairs"},{"dataset":"GQA-OOD","dataset_home":["https://github.com/gqa-ood/GQA-OOD"],"description":"\\n                    GQA-OOD is a new dataset and benchmark for the evaluation of VQA models in OOD (out of distribution) settings.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"VQA dataset designed to evaluate VQA models in out of distribution (OOD) settings","total_num":"NA"},{"dataset":"MedPromptX-VQA","dataset_home":["https://github.com/BioMedIA-MBZUAI/MedPromptX"],"description":"\\n                    A new in-context visual question answering dataset encompassing interleaved image and EHR data derived from MIMIC-IV and MIMIC-CXR-JPG databases.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Combines image data from MIMIC-CXR-JPG with EHR data from MIMIC-IV, creating a unique multimodal dataset for visual question answering","total_num":"NA"},{"dataset":"MAVERICS","dataset_home":["https://github.com/google-research-datasets/maverics"],"description":"\\n                    Manually vAlidated Vq2a Examples fRom Image/Caption datasetS (MAVERICS) is a suite of test-only visual question answering datasets.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"MAVERICS is a suite of test-only visual question answering datasets for validating and evaluating deep learning models","total_num":"NA"},{"dataset":"IllusionVQA","dataset_home":["https://illusionvqa.github.io/"],"description":"\\n                    IllusionVQA is a Visual Question Answering (VQA) dataset with two sub-tasks. The first task tests comprehension on 435 instances in 12 optical illusion categories. Each instance consists of an image with an optical illusion, a question, and 3 to 6 options, one of which is the correct answer. We refer to this task as Logo IllusionVQA-Comprehension. The second task tests how well VLMs can differentiate geometrically impossible objects from ordinary objects when two objects are presented side by side. The task consists of 1000 instances following a similar format to the first task. We refer to this task as Logo IllusionVQA-Soft-Localization.\\n                    \\n\\n                ","benchmarks":["ObjectLocalization","VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["GPT4-Vision4-shot+CoT","GPT4-Vision"],"short_description":"The dataset contains optical illusion images testing comprehension and geometric understanding with multiple choice options.","total_num":"NA"},{"dataset":"ChiQA(ChineseVQA)","dataset_home":["https://github.com/benywon/ChiQA"],"description":"\\n                    ChiQA is a dataset designed for visual question answering tasks that not only measures the relatedness but also measures the answerability, which demands more fine-grained vision and language reasoning. It contains more than 40K questions and more than 200K question-images pairs. The questions are real-world image-independent queries that are more various and unbiased.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Real-world image-independent queries, fine-grained vision and language reasoning","total_num":"200K+ question-images pairs, 40K+ questions"},{"dataset":"DMEVQAdataset(DiabeticMacularEdemaVQAdataset)","dataset_home":["https://zenodo.org/record/6784358"],"description":"\\n                    Medical VQA dataset built from the IDRiD and eOphta datasets. The dataset contains both healthy and unhealthy fundus images.  For each image, a set of pre-defined questions is generated, including questions about regions (e.g. are there hard exudates in this region?), for which an associated mask denotes the location of the region. \\nThe motivation for this dataset include the lack of public medical VQA datasets with related questions. In our dataset, questions are related because there is a high-level question about the DME grade of the image, and associated low-level questions that can lead to the answer of the high-level question. This allows to study the consistency of a VQA model i.e. how often the model produces contradictory answers to questions about a given image. Questions about regions are also a novel feature of this dataset.\\nThe dataset can be used for general VQA purposes, and also for the more specific purpose of consistency improvement. \\nNumber of images :\\nTrain: 433\\nVal: 112\\nTest: 134\\nNumber of QA pairs:\\nTrain: 9779\\nVal: 2380\\nTest: 1311\\nTo download the dataset, click here.\\nFor more information, check our paper.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Unique features include related questions, high and low level questions about regions with associated masks","total_num":"Train: 433 + Val: 112 + Test: 134 = 679 Images & 11470 QA pairs"},{"dataset":"ArtQuest","dataset_home":["https://github.com/bletib/artquest"],"description":"\\n                    The task of Visual Question Answering (VQA) has been studied extensively on general-domain real-world images. Transferring insights from general domain VQA to the art domain (ArtVQA) is non-trivial, as the latter requires models to identify abstract concepts, details of brushstrokes and styles of paintings in the visual data as well as possess background knowledge about art. This is exacerbated by the lack of high-quality datasets. In this work, we shed light on hidden linguistic biases in the AQUA dataset, which is the only publicly available benchmark dataset for ArtVQA. As a result, the majority of questions can be answered without consulting the visual information, making the \u201cV\u201d in ArtVQA rather insignificant. In order to counter this problem, we create a simple, yet practical dataset, ArtQuest, using structured information from the SemArt collection. Our dataset and the pipeline to reproduce our results are publicly available at https://github.com/bletib/artquest.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["PrefixLMwithCLIPandT5"],"short_description":"ArtQuest dataset created using structured information from the SemArt collection to overcome biases in the AQUA dataset for ArtVQA tasks","total_num":"NA"},{"dataset":"AI2D-RST","dataset_home":["http://urn.fi/urn:nbn:fi:lb-2020060101"],"description":"\\n                    AI2D-RST is a multimodal corpus of 1000 English-language diagrams that represent topics in primary school natural sciences, such as food webs, life cycles, moon phases and human physiology. The corpus is based on the Allen Institute for Artificial Intelligence Diagrams (AI2D) dataset, a collection of diagrams with crowd-sourced descriptions, which was originally developed to support research on automatic diagram understanding and visual question answering. \\n                    \\n                        \\n                            Source:  AI2D-RST: A multimodal corpus of 1000 primary school science diagrams\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"English-language diagrams that represent topics in primary school natural sciences","total_num":"1000 diagrams"},{"dataset":"CORE-MM","dataset_home":["https://core-mm.github.io/"],"description":"\\n                    CORE-MM is an Open-ended VQA benchmark dataset specifically designed for MLLMs, with a focus on complex reasoning tasks. CORE-MM benchmark consists of 279 manually curated reasoning questions, associated with a total of 342 images. The questions are divided into 3 reasoning categories--Deductive, Abductive and Analogical. 49 questions pertain to abductive reasoning, 181 require deductive reasoning, and 49 involve analogicalreasoning. Furthermore, the dataset is divided into two folds based on reasoning complexity, with 108 classified as \u201cHigh\u201d reasoning complexity and 171 as \u201cModerate\u201d reasoning complexity.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["GPT-4V"],"short_description":"A VQA benchmark dataset with a focus on complex reasoning tasks for MLLMs","total_num":"342 images"},{"dataset":"CLEVR-MRT(CLEVR:MentalRotationTests)","dataset_home":["https://github.com/christopher-beckham/clevr-mrt"],"description":"\\n                    CLEVR Mental Rotation Tests (CLEVR-MRT) is a new version of the CLEVR dataset. It contains 20 images generated for each scene holding a constant altitude and sampling over azimuthal angle. It is a controlled setting whereby questions are posed about the properties of a scene if that scene was observed from another viewpoint.\\n                    \\n                        \\n                            Source:  Visual Question Answering From Another Perspective: CLEVR Mental Rotation Tests\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A controlled dataset of 3D scenes with varying viewpoints, testing mental rotation abilities in Visual Question Answering models","total_num":"20 images per scene (total number not specified)"},{"dataset":"MP-DocVQA(MultipageDocumentVisualQuestionAnswering)","dataset_home":["https://rrc.cvc.uab.es/?ch=17&com=introduction"],"description":"\\n                    The dataset is aimed to perform Visual Question Answering on multipage industry scanned documents. The questions and answers are reused from Single Page DocVQA (SP-DocVQA) dataset. The images also corresponds to the same in original dataset with previous and posterior pages with a limit of up to 20 pages per document.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Multipage industry scanned documents with questions and answers reused from Single Page DocVQA (SP-DocVQA) dataset, with up to 20 pages per document","total_num":"NA"},{"dataset":"ViQuAE","dataset_home":["https://github.com/PaulLerner/ViQuAE"],"description":"\\n                    ViQuAE is a dataset for KVQAE (Knowledge-based Visual Question Answering about named Entities), a task which consists in answering questions about named entities grounded in a visual context  using a Knowledge Base. It is the first KVQAE dataset to cover a wide range of entity types (e.g. persons, landmarks, and products). We argue that KVQAE is a clear, well-defined task that can be evaluated easily, making it suitable to track the progress of multimodal entity representation\u2019s quality. Multimodal entity representation is a central issue that will allow to make human-machine interactions more natural. For example, while watching a movie, one might wonder \u2018\u2018Where did I already see this actress?\u2019\u2019 or \u2018\u2018Did she ever win an Oscar?\u2019\u2019\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A dataset covering a wide range of entity types like persons, landmarks, and products for Knowledge-based Visual Question Answering about named Entities","total_num":"NA"},{"dataset":"VQA-CE(VQACounterexamples)","dataset_home":["https://arxiv.org/abs/2104.03149"],"description":"\\n                    This dataset provides a new split of VQA v2 (similarly to VQA-CP v2), which is built of questions that are hard to answer for biased models.\\nThis dataset is designed to penalize biases, and encourage the learning of models that generalize well.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["RandImg"],"short_description":"Questions are specifically designed to penalize biases and encourage generalization in VQA models","total_num":"NA"},{"dataset":"IQUAD(InteractiveQuestionAnsweringDataset)","dataset_home":["https://github.com/danielgordon10/thor-iqa-cvpr-2018"],"description":"\\n                    IQUAD is a dataset for Visual Question Answering in interactive environments. It is built upon AI2-THOR, a simulated photo-realistic environment of configurable indoor scenes with interactive object. IQUAD V1 has 75,000 questions, each paired with a unique scene configuration.\\n                    \\n                        \\n                            Source:  IQA: Visual Question Answering in Interactive Environments\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/danielgordon10/thor-iqa-cvpr-2018"],"best_models":[],"short_description":"Unique scene configurations for each question in interactive environments","total_num":"75,000 questions"},{"dataset":"HallusionBench","dataset_home":["https://github.com/tianyi-lab/HallusionBench"],"description":"\\n                    Large language models (LLMs), after being aligned with vision models and integrated into vision-language models (VLMs), can bring impressive improvement in image reasoning tasks. This was shown by the recently released GPT-4V(ison), LLaVA-1.5, etc. However, the strong language prior in these SOTA LVLMs can be a double-edged sword: they may ignore the image context and solely rely on the (even contradictory) language prior for reasoning. In contrast, the vision modules in VLMs are weaker than LLMs and may result in misleading visual representations, which are then translated to confident mistakes by LLMs. \\nTo study these two types of VLM mistakes, i.e., language hallucination and visual illusion, we curated HallusionBench, an image-context reasoning benchmark that is still challenging to even GPT-4V and LLaVA-1.5. We provide a detailed analysis of examples in HallusionBench, which sheds novel insights on the illusion or hallucination of VLMs and how to improve them in the future.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":["https://github.com/tianyi-lab/hallusionbench"],"best_models":["GPT-4V"],"short_description":"An image-context reasoning benchmark dataset for studying language hallucination and visual illusion in VLMs.","total_num":"NA"},{"dataset":"KnowITVQA","dataset_home":["https://knowit-vqa.github.io/"],"description":"\\n                    KnowIT VQA is a video dataset with 24,282 human-generated question-answer pairs about The Big Bang Theory. The dataset combines visual, textual and temporal coherence reasoning together with knowledge-based questions, which need of the experience obtained from the viewing of the series to be answered.\\n                    \\n                        \\n                            Source:  KnowIT VQA: Answering Knowledge-Based Questions about Videos\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Combines visual, textual and temporal coherence reasoning with knowledge-based questions about The Big Bang Theory","total_num":"24,282 human-generated question-answer pairs"},{"dataset":"COG","dataset_home":["https://github.com/google/cog"],"description":"\\n                    A configurable visual question and answer dataset (COG) to parallel experiments in humans and animals. COG is much simpler than the general problem of video analysis, yet it addresses many of the problems relating to visual and logical reasoning and memory -- problems that remain challenging for modern deep learning architectures. \\n                    \\n                        \\n                            Source:  A Dataset and Architecture for Visual Reasoning with a Working Memory\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/google/cog"],"best_models":[],"short_description":"A simplified dataset for parallel experiments in humans and animals that challenges visual and logical reasoning and memory","total_num":"NA"},{"dataset":"AQUA","dataset_home":["https://github.com/noagarcia/ArtVQA"],"description":"\\n                    The question-answer (QA) pairs are automatically generated using state-of-the-art question generation methods based on paintings and comments provided in an existing art understanding dataset. The QA pairs are cleansed by crowdsourcing workers with respect to their grammatical correctness, answerability, and answers\' correctness. The dataset inherently consists of visual (painting-based) and knowledge (comment-based) questions. \\n                    \\n                        \\n                            Source:  A Dataset and Baselines for Visual Question Answering on Art\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://docs.activeloop.ai/datasets/aqua-dataset","https://github.com/noagarcia/ArtVQA"],"best_models":[],"short_description":"Questions and answers generated from painting-based visual and comment-based knowledge questions related to art.","total_num":"NA"},{"dataset":"FM-IQA(FreestyleMultilingualImageQuestionAnswering)","dataset_home":["http://research.baidu.com/Downloads"],"description":"\\n                    FM-IQA is a question-answering dataset containing over 150,000 images and 310,000 freestyle Chinese question-answer pairs and their English translations.\\n                    \\n                        \\n                            Source:  Are You Talking to a Machine? Dataset and Methods for Multilingual Image Question Answering\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Multilingual image question answering with freestyle Chinese and English translations","total_num":"310,000 question-answer pairs, 150,000 images"},{"dataset":"PointQA","dataset_home":["https://github.com/princetonvisualai/pointingqa"],"description":"\\n                    PointQA is a set of datasets for Visual Question Datasets (VQA) that require a pointer to an object in the image to be answered correctly. The different datasets are: PointQA-Local, PointQA-LookTwice and PointQA-General.\\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Requires a pointer to an object in the image to be answered correctly for Visual Question Datasets (VQA)","total_num":"NA"},{"dataset":"BenchLMM(BenchLMM:BenchmarkingCross-styleVisualCapabilityofLargeMultimodalModels)","dataset_home":["https://aifeg.github.io/BenchLMM/"],"description":"\\n                    Large Multimodal Models (LMMs) such as GPT-4V and LLaVA have shown remarkable capabilities in visual reasoning with common image styles. However, their robustness against diverse style shifts, crucial for practical applications, remains largely unexplored. In this paper, we propose a new benchmark, BenchLMM, to assess the robustness of LMMs against three different styles: artistic image style, imaging sensor style, and application style, where each style has five sub-styles. Utilizing BenchLMM, we comprehensively evaluate state-of-the-art LMMs and reveal: 1) LMMs generally suffer performance degradation when working with other styles; 2) An LMM performs better than another model in common style does not guarantee its superior performance in other styles; 3) LMMs\' reasoning capability can be enhanced by prompting LMMs to predict the style first, based on which we propose a versatile and training-free method for improving LMMs; 4) An intelligent LMM is expected to interpret the causes of its errors when facing stylistic variations. We hope that our benchmark and analysis can shed new light on developing more intelligent and versatile LMMs.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering"],"dataloaders":[],"best_models":["GPT-4V"],"short_description":"Benchmark dataset consisting of three different styles with five sub-styles each, including artistic image style, imaging sensor style, and application style, for evaluating the robustness of Large Multimodal Models (LMMs) against diverse style shifts.","total_num":"NA"},{"dataset":"WHOOPS!","dataset_home":["https://whoops-benchmark.github.io/"],"description":"\\n                    WHOOPS! Is a dataset and benchmark for visual commonsense. The dataset is comprised of purposefully commonsense-defying images created by designers using publicly-available image generation tools like Midjourney. It contains commonsense-defying image from a wide range of reasons, deviations from expected social norms and everyday knowledge.\\n                    \\n\\n                ","benchmarks":["ExplanationGeneration","Image-to-TextRetrieval","ImageCaptioning","VisualQuestionAnswering(VQA)"],"dataloaders":["https://huggingface.co/datasets/nlphuji/whoops"],"best_models":["Ground-truthCaption->GPT3","BLIP2FlanT5-XXL","BLIP2FlanT5-XXL","BLIP2FlanT5-XXL"],"short_description":"Images created by designers using publicly-available image generation tools like Midjourney, specifically to defy visual commonsense, containing deviations from expected social norms and everyday knowledge.","total_num":"NA"},{"dataset":"DIOR-RSVG","dataset_home":["https://github.com/zhanyang-nwpu/rsvg-pytorch"],"description":"\\n                    DIOR-RSVG is a large-scale benchmark dataset of remote sensing data (RSVG). It aims to localize the referred objects in remote sensing (RS) images with the guidance of natural language. This new dataset includes image/expression/box triplets for training and evaluating visual grounding models.\\n                    \\n                        \\n                            Source:  RSVG: Exploring Data and Models for Visual Grounding on Remote Sensing Data\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"A large-scale dataset of remote sensing data with image/expression/box triplets for visual grounding model training and evaluation","total_num":"NA"},{"dataset":"VQA-CP","dataset_home":["https://www.cc.gatech.edu/~aagrawal307/vqa-cp/"],"description":"\\n                    The VQA-CP dataset was constructed by reorganizing VQA v2 such that the correlation between the question type and correct answer differs in the training and test splits. For example, the most common answer to questions starting with What sport\u2026 is tennis in the training set, but skiing in the test set. A model that guesses an answer primarily from the question will perform poorly.\\n                    \\n                        \\n                            Source:  Unshuffling Data for Improved Generalization\\n                        \\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["CSS"],"short_description":"The VQA-CP dataset has a unique characteristic where the correlation between question type and correct answer differs between the training and test splits.","total_num":"NA"},{"dataset":"VisualMadlibs","dataset_home":["http://tamaraberg.com/visualmadlibs/"],"description":"\\n                    Visual Madlibs is a dataset consisting of 360,001 focused natural language descriptions for 10,738 images. This dataset is collected using automatically produced fill-in-the-blank templates designed to gather targeted descriptions about: people and objects, their appearances, activities, and interactions, as well as inferences about the general scene or its broader context.\\n                    \\n                        \\n                            Source:  Visual Madlibs: Fill in the blank Image Generation and Question Answering\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Focused natural language descriptions about people, objects, appearances, activities, interactions and inferences","total_num":"360,001"},{"dataset":"OVADbenchmark(Open-VocabularyAttributeDetection)","dataset_home":["https://ovad-benchmark.github.io/"],"description":"\\n                    Vision-language modeling has enabled open-vocabulary tasks where predictions can be queried using any text prompt in a zero-shot manner. Existing open-vocabulary tasks focus on object classes, whereas research on object attributes is limited due to the lack of a reliable attribute-focused evaluation benchmark. This paper introduces the Open-Vocabulary Attribute Detection (OVAD) task and the corresponding OVAD benchmark. The objective of the novel task and benchmark is to probe object-level attribute information learned by vision-language models. To this end, we created a clean and densely annotated test set covering 117 attribute classes on the 80 object classes of MS COCO. It includes positive and negative annotations, which enables open-vocabulary evaluation. Overall, the benchmark consists of 1.4 million annotations. For reference, we provide a first baseline method for open-vocabulary attribute detection. Moreover, we demonstrate the benchmark\'s value by studying the attribute detection performance of several foundation models.\\n                    \\n                        \\n                            Source:  Open-vocabulary Attribute Detection\\n                        \\n                    \\n\\n                ","benchmarks":["OpenVocabularyAttributeDetection","OpenVocabularyAttributeDetection","VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["X-VLM","OvarNet","BLIP"],"short_description":"densely annotated test set covering 117 attribute classes on the 80 object classes of MS COCO","total_num":"1.4 million"},{"dataset":"LIVE-YT-HFR(LIVEYouTubeHighFrameRate)","dataset_home":["https://live.ece.utexas.edu/research/LIVE_YT_HFR/LIVE_YT_HFR/index.html"],"description":"\\n                    LIVE-YT-HFR comprises of 480 videos having 6 different frame rates, obtained from 16 diverse contents.\\n                    \\n                        \\n                            Source:  Subjective and Objective Quality Assessment of High Frame Rate Videos\\n                        \\n                    \\n\\n                ","benchmarks":["VideoQualityAssessment"],"dataloaders":[],"best_models":["ST-GREED"],"short_description":"Videos with 6 different frame rates from 16 diverse contents","total_num":"480 videos"},{"dataset":"GRIT(GeneralRobustImageTaskBenchmark)","dataset_home":["https://grit-benchmark.org/"],"description":"\\n                    The General Robust Image Task (GRIT) Benchmark is an evaluation-only benchmark for evaluating the performance and robustness of vision systems across multiple image prediction tasks, concepts, and data sources. GRIT hopes to encourage our research community to pursue the following research directions:\\n\\nGeneral purpose vision models - GRIT facilitates the evaluation of unified and general-purpose vision models that demonstrate a wide range of skills across a diverse set of concepts.\\nRobust specialized models - GRIT simplifies and unifies quantification of misinformation, calibration, and generalization under distribution shifts due to novel concepts, novel data sources or image distortions for 7 standard vision and vision-language tasks.\\nEfficient learning - GRIT includes a restricted and an unrestricted track. The restrictedtrack constrains the allowed training data to a selected but rich set of data sources that allows more scientific and meaningful comparison between models. This is meant to encourage resource constrained researchers to participate in the GRIT challenge and to spur interest in efficient learning methods as opposed to the dominant paradigm of training larger models on ever increasing amounts of training data. The unrestricted track allows much more flexibility in training data selection to test the capability of vision models trained with massive data and compute.\\n\\n                    \\n\\n                ","benchmarks":["ObjectCategorization","ObjectLocalization","ReferringExpressionComprehension","SurfaceNormalEstimation","ObjectSegmentation","VisualQuestionAnswering(VQA)","KeypointEstimation","VisualQuestionAnswering"],"dataloaders":[],"best_models":["Unified-IOXL","Unified-IOXL","Unified-IOXL","NLL-AngMF","Unified-IOXL","Unified-IOXL","MaskR-CNN","OFA"],"short_description":"GRIT Benchmark evaluates the performance and robustness of vision systems across multiple image prediction tasks, concepts, and data sources.","total_num":"NA"},{"dataset":"SUTD-TrafficQA","dataset_home":["https://sutdcv.github.io/SUTD-TrafficQA"],"description":"\\n                    SUTD-TrafficQA (Singapore University of Technology and Design - Traffic Question Answering) is a dataset which takes the form of video QA based on 10,080 in-the-wild videos and annotated 62,535 QA pairs, for benchmarking the cognitive capability of causal inference and event understanding models in complex traffic scenarios. Specifically, the dataset proposes 6 challenging reasoning tasks corresponding to various traffic scenarios, so as to evaluate the reasoning capability over different kinds of complex yet practical traffic events.\\n                    \\n\\n                ","benchmarks":["VideoQuestionAnswering"],"dataloaders":["https://github.com/SUTDCV/SUTD-TrafficQA"],"best_models":["Tem-adapter"],"short_description":"Video QA based traffic dataset for benchmarking cognitive capability of causal inference and event understanding in complex traffic scenarios","total_num":"62,535 QA pairs from 10,080 in-the-wild videos"},{"dataset":"CLEVR-Ref+","dataset_home":["https://cs.jhu.edu/~cxliu/2019/clevr-ref+"],"description":"\\n                    CLEVR-Ref+ is a synthetic diagnostic dataset for referring expression comprehension. The precise locations and attributes of the objects are readily available, and the referring expressions are automatically associated with functional programs. The synthetic nature allows control over dataset bias (through sampling strategy), and the modular programs enable intermediate reasoning ground truth without human annotators. \\n                    \\n                        \\n                            Source:  CLEVR-Ref+: Diagnosing Visual Reasoning with Referring Expressions\\n                        \\n                    \\n\\n                ","benchmarks":["ReferringExpressionComprehension","ReferringExpressionSegmentation"],"dataloaders":[],"best_models":["MDETR","IEP-Ref"],"short_description":"A synthetic diagnostic dataset for referring expression comprehension, with precise object attributes and modular programs for intermediate reasoning.","total_num":"NA"},{"dataset":"CLEVR-Humans","dataset_home":["https://cs.stanford.edu/people/jcjohns/iep/"],"description":"\\n                    We collect  a  new  dataset  of  human-posed  free-form  natural  language  questions  about  CLEVR  images.    Many  of  these questions have out-of-vocabulary words and require reasoning skills that are absent from our model\u2019s repertoire\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["MDETR"],"short_description":"This dataset contains human-posed free-form natural language questions about CLEVR images with many out-of-vocabulary words, requiring reasoning skills","total_num":"NA"},{"dataset":"InfoSeek(VisualInformationSeeking)","dataset_home":["https://open-vision-language.github.io/infoseek/"],"description":"\\n                    In this project, we introduce InfoSeek, a visual question answering dataset tailored for information-seeking questions that cannot be answered with only common sense knowledge. Using InfoSeek, we analyze various pre-trained visual question answering models and gain insights into their characteristics. Our findings reveal that state-of-the-art pre-trained multi-modal models (e.g., PaLI-X, BLIP2, etc.) face challenges in answering visual information-seeking questions, but fine-tuning on the InfoSeek dataset elicits models to use fine-grained knowledge that was learned during their pre-training.\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)","Retrieval"],"dataloaders":[],"best_models":["RA-VQAv2w/PreFLMR","PreFLMR"],"short_description":"Tailored for information-seeking questions that cannot be answered with only common sense knowledge","total_num":"NA"},{"dataset":"WebSRC(WebSRC:ADatasetforWeb-BasedStructuralReadingComprehension)","dataset_home":["https://x-lance.github.io/WebSRC/"],"description":"\\n                    WebSRC is a novel Web-based Structural Reading Comprehension dataset. It consists of 0.44M question-answer pairs, which are collected from 6.5K web pages with corresponding HTML source code, screenshots and metadata. Each question in WebSRC requires a certain structural understanding of a web page to answer, and the answer is either a text span on the web page or yes/no.\\n                    \\n                        \\n                            Source:  WebSRC Homepage\\n                        \\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)","QuestionAnswering"],"dataloaders":[],"best_models":["DUBLIN","ChatGPT3.5SpatialFormat"],"short_description":"Requires structural understanding of a web page to answer, with answers being text spans or yes/no","total_num":"0.44M question-answer pairs"},{"dataset":"VQG(VisualQuestionGeneration)","dataset_home":["https://www.microsoft.com/en-us/download/details.aspx?id=53670"],"description":"\\n                    VQG is a collection of datasets for visual question generation. VQG questions were collected by crowdsourcing the task on Amazon Mechanical Turk (AMT). The authors provided details on the prompt and the specific instructions for all the crowdsourcing tasks in this paper in the supplementary material. The prompt was successful at capturing nonliteral questions. Images were taken from the MSCOCO dataset.\\n                    \\n                        \\n                            Source:  What BERT Sees: Cross-Modal Transfer for Visual Question Generation\\n                        \\n                    \\n\\n                ","benchmarks":["QuestionGeneration"],"dataloaders":[],"best_models":["MDN"],"short_description":"VQG dataset contains non-literal questions collected through crowdsourcing on Amazon Mechanical Turk using images from MSCOCO dataset","total_num":"NA"},{"dataset":"ReferItGame","dataset_home":["http://tamaraberg.com/referitgame/"],"description":"\\n                    The ReferIt dataset contains 130,525 expressions for referring to 96,654 objects in 19,894 images of natural scenes.\\n                    \\n                        \\n                            Source:  BiLingUNet: Image Segmentation by Modulating Top-Down and Bottom-Up Visual Processing with Referring Expressions\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":["https://github.com/djiajunustc/TransVG"],"best_models":[],"short_description":"Refer expressions about objects in images of natural scenes","total_num":"130,525 expressions, 19,894 images, 96,654 objects"},{"dataset":"ST-VQA(SceneTextVisualQuestionAnswering)","dataset_home":["https://rrc.cvc.uab.es/?ch=11"],"description":"\\n                    ST-VQA aims to highlight the importance of exploiting high-level semantic information present in images as textual cues in the VQA process. \\n                    \\n                        \\n                            Source:  Scene Text Visual Question Answering\\n                        \\n                    \\n\\n                ","benchmarks":[],"dataloaders":[],"best_models":[],"short_description":"Uniquely incorporates scene text as textual cues to answer visual questions","total_num":"81,600 images"},{"dataset":"TGIF-QA","dataset_home":["https://github.com/YunseokJANG/tgif-qa"],"description":"\\n                    The TGIF-QA dataset contains 165K QA pairs for the animated GIFs from the TGIF dataset [Li et al. CVPR 2016]. The question & answer pairs are collected via crowdsourcing with a carefully designed user interface to ensure quality. The dataset can be used to evaluate video-based Visual Question Answering techniques.\\n                    \\n                        \\n                            Source:  GitHub\\n                        \\n                    \\n\\n                ","benchmarks":["TGIF-Frame","Zero-ShotVideoQuestionAnswer","TGIF-Action","TGIF-Transition","VisualQuestionAnswering(VQA)","ZeroshotVideoQuestionAnswer"],"dataloaders":["https://github.com/YunseokJANG/tgif-qa"],"best_models":["COSA","Tarsier","MuLTI","MuLTI","CLIP+MIF","MiniGPT4-video"],"short_description":"Carefully collected QA pairs for animated GIFs via crowdsourcing","total_num":"165K QA pairs"},{"dataset":"AI2D(AI2Diagrams)","dataset_home":["https://allenai.org/data/diagrams"],"description":"\\n                    AI2 Diagrams (AI2D) is a dataset of over 5000 grade school science diagrams with over 150000 rich annotations, their ground truth syntactic parses, and more than 15000 corresponding multiple choice questions.\\n                    \\n                        \\n                            Source:  A Diagram Is Worth A Dozen Images\\n                        \\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":["https://github.com/allenai/dqa-net"],"best_models":["SMoLA-PaLI-XSpecialistModel"],"short_description":"Grade school science diagrams with rich annotations, syntactic parses, and corresponding multiple choice questions","total_num":"15,000+ multiple choice questions, 150,000+ annotations, 5,000+ science diagrams"},{"dataset":"Visual7W","dataset_home":["http://ai.stanford.edu/~yukez/visual7w/"],"description":"\\n                    Visual7W is a large-scale visual question answering (QA) dataset, with object-level groundings and multimodal answers. Each question starts with one of the seven Ws, what, where, when, who, why, how and which. It is collected from 47,300 COCO images and it has 327,929 QA pairs, together with 1,311,756 human-generated multiple-choices and 561,459 object groundings from 36,579 categories.\\n                    \\n                        \\n                            Source:  https://github.com/yukezhu/visual7w-toolkit\\n                        \\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)"],"dataloaders":[],"best_models":["CMN"],"short_description":"Object-level groundings and multimodal answers, with each question starting with one of the seven Ws (what, where, when, who, why, how and which)","total_num":"327,929 QA pairs"},{"dataset":"ScienceQA(ScienceQuestionAnswering)","dataset_home":["https://scienceqa.github.io/"],"description":"\\n                    Science Question Answering (ScienceQA) is a new benchmark that consists of 21,208 multimodal multiple choice questions with diverse science topics and annotations of their answers with corresponding lectures and explanations. Out of the questions in ScienceQA, 10,332 (48.7%) have an image context, 10,220 (48.2%) have a text context, and 6,532 (30.8%) have both. Most questions are annotated with grounded lectures (83.9%) and detailed explanations (90.5%). The lecture and explanation provide general external knowledge and specific reasons, respectively, for arriving at the correct answer. To the best of our knowledge, ScienceQA is the first large-scale multimodal dataset that annotates lectures and explanations for the answers.\\nScienceQA, in contrast to previous datasets, has richer domain diversity from three subjects: natural science, language science, and social science. Questions in each subject are categorized first by the topic (Biology, Physics, Chemistry, etc.), then by the category (Plants, Cells, Animals, etc.), and finally by the skill (Classify fruits and vegetables as plant parts, Identify countries of Africa, etc.). ScienceQA features 26 topics, 127 categories, and 379 skills that cover a wide range of domains.\\n                    \\n\\n                ","benchmarks":["ScienceQuestionAnswering"],"dataloaders":["https://huggingface.co/datasets/pkulium/D-SQA","https://huggingface.co/datasets/scillm/ScienceQA","https://huggingface.co/datasets/derek-thomas/ScienceQA","https://drive.google.com/drive/u/1/folders/1w8imCXWYn2LxajmGeGH_g5DaL2rabHev"],"best_models":["MC-CoTF-Large"],"short_description":"Multimodal multiple choice questions with diverse science topics, annotations of answers with corresponding lectures and explanations","total_num":"21208"},{"dataset":"OK-VQA(OutsideKnowledgeVisualQuestionAnswering)","dataset_home":["https://okvqa.allenai.org/"],"description":"\\n                    Outside Knowledge Visual Question Answering (OK-VQA) includes more than 14,000 questions that require external knowledge to answer. \\n                    \\n                        \\n                            Source:  OK-VQA: A Visual Question Answering Benchmark Requiring External Knowledge\\n                        \\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)","Retrieval"],"dataloaders":[],"best_models":["PaLI-X-VPD","FLMR"],"short_description":"Requires external knowledge to answer questions","total_num":"14,000 questions"},{"dataset":"TextVQA","dataset_home":["https://textvqa.org/"],"description":"\\n                    TextVQA is a dataset to benchmark visual reasoning based on text in images.\\nTextVQA requires models to read and reason about text in images to answer questions about them. Specifically, models need to incorporate a new modality of text present in the images and reason over it to answer TextVQA questions.\\nStatistics\\n* 28,408 images from OpenImages\\n* 45,336 questions\\n* 453,360 ground truth answers\\n                    \\n\\n                ","benchmarks":["VisualQuestionAnswering(VQA)","VisualQuestionAnswering"],"dataloaders":[],"best_models":["TAP","PromptCap"],"short_description":"Text in images to answer questions","total_num":"28,408 images, 45,336 questions, 453,360 ground truth answers"}]');var cu=i(579);const uu=function(){const[e,t]=(0,s.useState)(au),[i,n]=(0,s.useState)([{field:"dataset"},{field:"dataset_home",headerName:"Home Page"},{field:"description",cellEditor:"agLargeTextCellEditor",cellEditorPopup:!0,editable:!0},{field:"total_num",headerName:"Total num (inaccurate)"},{field:"short_description"},{field:"benchmarks"},{field:"dataloaders"},{field:"best_models"}]),o=(0,s.useMemo)((()=>({filter:"agTextColumnFilter",floatingFilter:!0,flex:1,tooltipShowDelay:500})),[]);return(0,cu.jsxs)("div",{className:"App",children:[(0,cu.jsxs)("div",{children:[(0,cu.jsx)("h4",{className:"row",children:"Datasets"}),(0,cu.jsxs)("select",{onChange:e=>{var i;"imageCaptionJson"===(i=e.target.value)?t(au):"speechRecognitionJson"===i?t(lu):"visualQuestioningJson"===i&&t(du)},children:[(0,cu.jsx)("option",{value:"imageCaptionJson",children:"Image Caption"}),(0,cu.jsx)("option",{value:"speechRecognitionJson",children:"Speech Recognition"}),(0,cu.jsx)("option",{value:"visualQuestioningJson",children:"Visual Questioning"})]}),(0,cu.jsx)("a",{href:"https://paperswithcode.com/datasets",children:" Source: https://paperswithcode.com/datasets"})]}),(0,cu.jsx)("div",{className:"ag-theme-quartz",style:{height:"100vh"},children:(0,cu.jsx)(ru,{rowData:e,columnDefs:i,defaultColDef:o,enableCellTextSelection:"true",ensureDomOrder:"true"})})]})},hu=e=>{e&&e instanceof Function&&i.e(453).then(i.bind(i,453)).then((t=>{let{getCLS:i,getFID:s,getFCP:n,getLCP:o,getTTFB:r}=t;i(e),s(e),n(e),o(e),r(e)}))};n.createRoot(document.getElementById("root")).render((0,cu.jsx)(s.StrictMode,{children:(0,cu.jsx)(uu,{})})),hu()})();
//# sourceMappingURL=main.c769091d.js.map